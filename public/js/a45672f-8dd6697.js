//XRegExp 2.0.0 <xregexp.com> MIT License
var XRegExp;XRegExp=XRegExp||function(e){"use strict";function t(e,t,i){var n;for(n in A.prototype)A.prototype.hasOwnProperty(n)&&(e[n]=A.prototype[n]);return e.xregexp={captureNames:t,isNative:!!i},e}function i(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function n(e,n,a){if(!A.isRegExp(e))throw new TypeError("type RegExp expected");var r=E.replace.call(i(e)+(n||""),f,"");return a&&(r=E.replace.call(r,new RegExp("["+a+"]+","g"),"")),e=e.xregexp&&!e.xregexp.isNative?t(A(e.source,r),e.xregexp.captureNames?e.xregexp.captureNames.slice(0):null):t(new RegExp(e.source,r),null,!0)}function a(e,t){var i=e.length;if(Array.prototype.lastIndexOf)return e.lastIndexOf(t);for(;i--;)if(e[i]===t)return i;return-1}function r(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object "+t+"]"}function s(e){return e=e||{},"all"===e||e.all?e={natives:!0,extensibility:!0}:r(e,"string")&&(e=A.forEach(e,/[^\s,]+/,function(e){this[e]=!0},{})),e}function o(e,t,i,n){var a,r,s=D.length,o=null;y=!0;try{for(;s--;)if(r=D[s],("all"===r.scope||r.scope===i)&&(!r.trigger||r.trigger.call(n))&&(r.pattern.lastIndex=t,(a=u.exec.call(r.pattern,e))&&a.index===t)){o={output:r.handler.call(n,a,i),match:a};break}}catch(e){throw e}finally{y=!1}return o}function F(e){A.addToken=c[e?"on":"off"],C.extensibility=e}function l(e){RegExp.prototype.exec=(e?u:E).exec,RegExp.prototype.test=(e?u:E).test,String.prototype.match=(e?u:E).match,String.prototype.replace=(e?u:E).replace,String.prototype.split=(e?u:E).split,C.natives=e}var A,c,d,C={natives:!1,extensibility:!1},E={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},u={},h={},D=[],p="default",B={default:/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,class:/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/},g=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,f=/([\s\S])(?=[\s\S]*\1)/g,m=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,v=E.exec.call(/()??/,"")[1]===e,_=RegExp.prototype.sticky!==e,y=!1,b="gim"+(_?"y":"");return A=function(i,a){if(A.isRegExp(i)){if(a!==e)throw new TypeError("can't supply flags when constructing one RegExp from another");return n(i)}if(y)throw new Error("can't call the XRegExp constructor within token definition functions");var r,s,F,l=[],c=p,d={hasNamedCapture:!1,captureNames:[],hasFlag:function(e){return a.indexOf(e)>-1}},C=0;if(i=i===e?"":String(i),a=a===e?"":String(a),E.match.call(a,f))throw new SyntaxError("invalid duplicate regular expression flag");for(i=E.replace.call(i,/^\(\?([\w$]+)\)/,function(e,t){if(E.test.call(/[gy]/,t))throw new SyntaxError("can't use flag g or y in mode modifier");return a=E.replace.call(a+t,f,""),""}),A.forEach(a,/[\s\S]/,function(e){if(b.indexOf(e[0])<0)throw new SyntaxError("invalid regular expression flag "+e[0])});C<i.length;)r=o(i,C,c,d),r?(l.push(r.output),C+=r.match[0].length||1):(s=E.exec.call(B[c],i.slice(C)),s?(l.push(s[0]),C+=s[0].length):(F=i.charAt(C),"["===F?c="class":"]"===F&&(c=p),l.push(F),++C));return t(new RegExp(l.join(""),E.replace.call(a,/[^gimy]+/g,"")),d.hasNamedCapture?d.captureNames:null)},c={on:function(e,t,i){i=i||{},e&&D.push({pattern:n(e,"g"+(_?"y":"")),handler:t,scope:i.scope||p,trigger:i.trigger||null}),i.customFlags&&(b=E.replace.call(b+i.customFlags,f,""))},off:function(){throw new Error("extensibility must be installed before using addToken")}},A.addToken=c.off,A.cache=function(e,t){var i=e+"/"+(t||"");return h[i]||(h[i]=A(e,t))},A.escape=function(e){return E.replace.call(e,/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},A.exec=function(e,t,i,a){var r,s=n(t,"g"+(a&&_?"y":""),!1===a?"y":"");return s.lastIndex=i=i||0,r=u.exec.call(s,e),a&&r&&r.index!==i&&(r=null),t.global&&(t.lastIndex=r?s.lastIndex:0),r},A.forEach=function(e,t,i,n){for(var a,r=0,s=-1;a=A.exec(e,t,r);)i.call(n,a,++s,e,t),r=a.index+(a[0].length||1);return n},A.globalize=function(e){return n(e,"g")},A.install=function(e){e=s(e),!C.natives&&e.natives&&l(!0),!C.extensibility&&e.extensibility&&F(!0)},A.isInstalled=function(e){return!!C[e]},A.isRegExp=function(e){return r(e,"regexp")},A.matchChain=function(e,t){return function e(i,n){for(var a=t[n].regex?t[n]:{regex:t[n]},r=[],s=function(e){r.push(a.backref?e[a.backref]||"":e[0])},o=0;o<i.length;++o)A.forEach(i[o],a.regex,s);return n!==t.length-1&&r.length?e(r,n+1):r}([e],0)},A.replace=function(t,i,a,r){var s,o=A.isRegExp(i),F=i;return o?(r===e&&i.global&&(r="all"),F=n(i,"all"===r?"g":"","all"===r?"":"g")):"all"===r&&(F=new RegExp(A.escape(String(i)),"g")),s=u.replace.call(String(t),F,a),o&&i.global&&(i.lastIndex=0),s},A.split=function(e,t,i){return u.split.call(e,t,i)},A.test=function(e,t,i,n){return!!A.exec(e,t,i,n)},A.uninstall=function(e){e=s(e),C.natives&&e.natives&&l(!1),C.extensibility&&e.extensibility&&F(!1)},A.union=function(e,t){var i,n,a,s,o=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,F=0,l=function(e,t,a){var r=n[F-i];if(t){if(++F,r)return"(?<"+r+">"}else if(a)return"\\"+(+a+i);return e},c=[];if(!r(e,"array")||!e.length)throw new TypeError("patterns must be a nonempty array");for(s=0;s<e.length;++s)a=e[s],A.isRegExp(a)?(i=F,n=a.xregexp&&a.xregexp.captureNames||[],c.push(A(a.source).source.replace(o,l))):c.push(A.escape(a));return A(c.join("|"),t)},A.version="2.0.0",u.exec=function(t){var n,r,s,o,F;if(this.global||(o=this.lastIndex),n=E.exec.apply(this,arguments)){if(!v&&n.length>1&&a(n,"")>-1&&(s=new RegExp(this.source,E.replace.call(i(this),"g","")),E.replace.call(String(t).slice(n.index),s,function(){for(var t=1;t<arguments.length-2;++t)arguments[t]===e&&(n[t]=e)})),this.xregexp&&this.xregexp.captureNames)for(F=1;F<n.length;++F)(r=this.xregexp.captureNames[F-1])&&(n[r]=n[F]);this.global&&!n[0].length&&this.lastIndex>n.index&&(this.lastIndex=n.index)}return this.global||(this.lastIndex=o),n},u.test=function(e){return!!u.exec.call(this,e)},u.match=function(e){if(A.isRegExp(e)){if(e.global){var t=E.match.apply(this,arguments);return e.lastIndex=0,t}}else e=new RegExp(e);return u.exec.call(e,this)},u.replace=function(e,t){var i,n,s,o,F=A.isRegExp(e);return F?(e.xregexp&&(i=e.xregexp.captureNames),e.global||(o=e.lastIndex)):e+="",r(t,"function")?n=E.replace.call(String(this),e,function(){var n,a=arguments;if(i)for(a[0]=new String(a[0]),n=0;n<i.length;++n)i[n]&&(a[0][i[n]]=a[n+1]);return F&&e.global&&(e.lastIndex=a[a.length-2]+a[0].length),t.apply(null,a)}):(s=String(this),n=E.replace.call(s,e,function(){var e=arguments;return E.replace.call(String(t),g,function(t,n,r){var s;if(n){if((s=+n)<=e.length-3)return e[s]||"";if((s=i?a(i,n):-1)<0)throw new SyntaxError("backreference to undefined group "+t);return e[s+1]||""}if("$"===r)return"$";if("&"===r||0==+r)return e[0];if("`"===r)return e[e.length-1].slice(0,e[e.length-2]);if("'"===r)return e[e.length-1].slice(e[e.length-2]+e[0].length);if(r=+r,!isNaN(r)){if(r>e.length-3)throw new SyntaxError("backreference to undefined group "+t);return e[r]||""}throw new SyntaxError("invalid token "+t)})})),F&&(e.lastIndex=e.global?0:o),n},u.split=function(t,i){if(!A.isRegExp(t))return E.split.apply(this,arguments);var n,a=String(this),r=t.lastIndex,s=[],o=0;return i=(i===e?-1:i)>>>0,A.forEach(a,t,function(e){e.index+e[0].length>o&&(s.push(a.slice(o,e.index)),e.length>1&&e.index<a.length&&Array.prototype.push.apply(s,e.slice(1)),n=e[0].length,o=e.index+n)}),o===a.length?(!E.test.call(t,"")||n)&&s.push(""):s.push(a.slice(o)),t.lastIndex=r,s.length>i?s.slice(0,i):s},d=c.on,d(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4})|x(?![\dA-Fa-f]{2}))/,function(e,t){if("B"===e[1]&&t===p)return e[0];throw new SyntaxError("invalid escape "+e[0])},{scope:"all"}),d(/\[(\^?)]/,function(e){return e[1]?"[\\s\\S]":"\\b\\B"}),d(/(?:\(\?#[^)]*\))+/,function(e){return E.test.call(m,e.input.slice(e.index+e[0].length))?"":"(?:)"}),d(/\\k<([\w$]+)>/,function(e){var t=isNaN(e[1])?a(this.captureNames,e[1])+1:+e[1],i=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("backreference to undefined group "+e[0]);return"\\"+t+(i===e.input.length||isNaN(e.input.charAt(i))?"":"(?:)")}),d(/(?:\s+|#.*)+/,function(e){return E.test.call(m,e.input.slice(e.index+e[0].length))?"":"(?:)"},{trigger:function(){return this.hasFlag("x")},customFlags:"x"}),d(/\./,function(){return"[\\s\\S]"},{trigger:function(){return this.hasFlag("s")},customFlags:"s"}),d(/\(\?P?<([\w$]+)>/,function(e){if(!isNaN(e[1]))throw new SyntaxError("can't use integer as capture name "+e[0]);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),d(/\\(\d+)/,function(e,t){if(!(t===p&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("can't use octal escape or backreference to undefined group "+e[0]);return e[0]},{scope:"all"}),d(/\((?!\?)/,function(){return this.hasFlag("n")?"(?:":(this.captureNames.push(null),"(")},{customFlags:"n"}),"undefined"!=typeof exports&&(exports.XRegExp=A),A}(),function(e){"use strict";function t(e){return e.replace(/[- _]+/g,"").toLowerCase()}function i(e){return e.replace(/\w{4}/g,"\\u$&")}function n(e){for(;e.length<4;)e="0"+e;return e}function a(e){return parseInt(e,16)}function r(e){return parseInt(e,10).toString(16)}function s(t){var i,s=[],o=-1;return e.forEach(t,/\\u(\w{4})(?:-\\u(\w{4}))?/,function(e){i=a(e[1]),i>o+1&&(s.push("\\u"+n(r(o+1))),i>o+2&&s.push("-\\u"+n(r(i-1)))),o=a(e[2]||e[1])}),o<65535&&(s.push("\\u"+n(r(o+1))),o<65534&&s.push("-\\uFFFF")),s.join("")}function o(e){return F["^"+e]||(F["^"+e]=s(F[e]))}var F={};e.install("extensibility"),e.addUnicodePackage=function(n,a){var r;if(!e.isInstalled("extensibility"))throw new Error("extensibility must be installed before adding Unicode packages");if(n)for(r in n)n.hasOwnProperty(r)&&(F[t(r)]=i(n[r]));if(a)for(r in a)a.hasOwnProperty(r)&&(F[t(a[r])]=F[t(r)])},e.addUnicodePackage({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05270531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A008A2-08AC0904-0939093D09500958-09610971-09770979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A793A7A0-A7AAA7F8-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"},{L:"Letter"}),e.addToken(/\\([pP]){(\^?)([^}]*)}/,function(e,i){var n="P"===e[1]||e[2]?"^":"",a=t(e[3]);if("P"===e[1]&&e[2])throw new SyntaxError("invalid double negation \\P{^");if(!F.hasOwnProperty(a))throw new SyntaxError("invalid or unknown Unicode property "+e[0]);return"class"===i?n?o(a):F[a]:"["+n+F[a]+"]"},{scope:"all"})}(XRegExp),function(e){"use strict";if(!e.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.install("extensibility"),e.addUnicodePackage({Ll:"0061-007A00B500DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F05210523052505270561-05871D00-1D2B1D6B-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7B2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2CF32D00-2D252D272D2DA641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA661A663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CA78EA791A793A7A1A7A3A7A5A7A7A7A9A7FAFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E05200522052405260531-055610A0-10C510C710CD1E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CED2CF2A640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA660A662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BA78DA790A792A7A0A7A2A7A4A7A6A7A8A7AAFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D6A1D781D9B-1DBF2071207F2090-209C2C7C2C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A7F8A7F9A9CFAA70AADDAAF3AAF4FF70FF9EFF9F",Lo:"00AA00BA01BB01C0-01C3029405D0-05EA05F0-05F20620-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150840-085808A008A2-08AC0904-0939093D09500958-09610972-09770979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA10FD-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF11CF51CF62135-21382D30-2D672D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCAAE0-AAEAAAF2AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065F067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0859-085B08E4-08FE0900-0903093A-093C093E-094F0951-0957096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F8D-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135D-135F1712-17141732-1734175217531772177317B4-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAD1BE6-1BF31C24-1C371CD0-1CD21CD4-1CE81CED1CF2-1CF41DC0-1DE61DFC-1DFF20D0-20F02CEF-2CF12D7F2DE0-2DFF302A-302F3099309AA66F-A672A674-A67DA69FA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1AAEB-AAEFAAF5AAF6ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065F067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0859-085B08E4-08FE0900-0902093A093C0941-0948094D0951-095709620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F8D-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135D-135F1712-17141732-1734175217531772177317B417B517B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91BAB1BE61BE81BE91BED1BEF-1BF11C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1CF41DC0-1DE61DFC-1DFF20D0-20DC20E120E5-20F02CEF-2CF12D7F2DE0-2DFF302A-302D3099309AA66FA674-A67DA69FA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1AAECAAEDAAF6ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093B093E-09400949-094C094E094F0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1BAC1BAD1BE71BEA-1BEC1BEE1BF21BF31C24-1C2B1C341C351CE11CF21CF3302E302FA823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BAAEBAAEEAAEFAAF5ABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048920DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0B72-0B770BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293248-324F3251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90B72-0B770BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F919DA20702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293248-324F3251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100A700AB00B600B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E085E0964096509700AF00DF40E4F0E5A0E5B0F04-0F120F140F3A-0F3D0F850FD0-0FD40FD90FDA104A-104F10FB1360-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A194419451A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601BFC-1BFF1C3B-1C3F1C7E1C7F1CC0-1CC71CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2D702E00-2E2E2E30-2E3B3001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFAAF0AAF1ABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A2E3A2E3B301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100A700B600B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E085E0964096509700AF00DF40E4F0E5A0E5B0F04-0F120F140F850FD0-0FD40FD90FDA104A-104F10FB1360-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A194419451A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601BFC-1BFF1C3B-1C3F1C7E1C7F1CC0-1CC71CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2D702E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E30-2E393001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFAAF0AAF1ABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A600A800A900AC00AE-00B100B400B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F60482058F0606-0608060B060E060F06DE06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0D790E3F0F01-0F030F130F15-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F1390-139917DB194019DE-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B9210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23F32400-24262440-244A249C-24E92500-26FF2701-27672794-27C427C7-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-324732503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FBB2-FBC1FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C21182140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5058F060B09F209F309FB0AF10BF90E3F17DB20A0-20B9A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFBB2-FBC1FF3EFF40FFE3",So:"00A600A900AE00B00482060E060F06DE06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0D790F01-0F030F130F15-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F1390-1399194019DE-19FF1B61-1B6A1B74-1B7C210021012103-210621082109211421162117211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23F32400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26FF2701-27672794-27BF2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-324732503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",
C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20528-05300557055805600588058B-058E059005C8-05CF05EB-05EF05F5-0605061C061D06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F085C085D085F-089F08A108AD-08E308FF097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B78-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D3B0D3C0D450D490D4F-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EE0-0EFF0F480F6D-0F700F980FBD0FCD0FDB-0FFF10C610C8-10CC10CE10CF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B135C137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BF4-1BFB1C38-1C3A1C4A-1C4C1C80-1CBF1CC8-1CCF1CF7-1CFF1DE7-1DFB1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F209D-209F20BA-20CF20F1-20FF218A-218F23F4-23FF2427-243F244B-245F27002B4D-2B4F2B5A-2BFF2C2F2C5F2CF4-2CF82D262D28-2D2C2D2E2D2F2D68-2D6E2D71-2D7E2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E3C-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31BB-31BF31E4-31EF321F32FF4DB6-4DBF9FCD-9FFFA48D-A48FA4C7-A4CFA62C-A63FA698-A69EA6F8-A6FFA78FA794-A79FA7AB-A7F7A82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAF7-AB00AB07AB08AB0FAB10AB17-AB1FAB27AB2F-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBC2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060406DD070F200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20528-05300557055805600588058B-058E059005C8-05CF05EB-05EF05F5-05FF0605061C061D070E074B074C07B2-07BF07FB-07FF082E082F083F085C085D085F-089F08A108AD-08E308FF097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B78-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D3B0D3C0D450D490D4F-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EE0-0EFF0F480F6D-0F700F980FBD0FCD0FDB-0FFF10C610C8-10CC10CE10CF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B135C137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BF4-1BFB1C38-1C3A1C4A-1C4C1C80-1CBF1CC8-1CCF1CF7-1CFF1DE7-1DFB1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F209D-209F20BA-20CF20F1-20FF218A-218F23F4-23FF2427-243F244B-245F27002B4D-2B4F2B5A-2BFF2C2F2C5F2CF4-2CF82D262D28-2D2C2D2E2D2F2D68-2D6E2D71-2D7E2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E3C-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31BB-31BF31E4-31EF321F32FF4DB6-4DBF9FCD-9FFFA48D-A48FA4C7-A4CFA62C-A63FA698-A69EA6F8-A6FFA78FA794-A79FA7AB-A7F7A82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAF7-AB00AB07AB08AB0FAB10AB17-AB1FAB27AB2F-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBC2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"},{Ll:"Lowercase_Letter",Lu:"Uppercase_Letter",Lt:"Titlecase_Letter",Lm:"Modifier_Letter",Lo:"Other_Letter",M:"Mark",Mn:"Nonspacing_Mark",Mc:"Spacing_Mark",Me:"Enclosing_Mark",N:"Number",Nd:"Decimal_Number",Nl:"Letter_Number",No:"Other_Number",P:"Punctuation",Pd:"Dash_Punctuation",Ps:"Open_Punctuation",Pe:"Close_Punctuation",Pi:"Initial_Punctuation",Pf:"Final_Punctuation",Pc:"Connector_Punctuation",Po:"Other_Punctuation",S:"Symbol",Sm:"Math_Symbol",Sc:"Currency_Symbol",Sk:"Modifier_Symbol",So:"Other_Symbol",Z:"Separator",Zs:"Space_Separator",Zl:"Line_Separator",Zp:"Paragraph_Separator",C:"Other",Cc:"Control",Cf:"Format",Co:"Private_Use",Cs:"Surrogate",Cn:"Unassigned"})}(XRegExp),function(e){"use strict";if(!e.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.install("extensibility"),e.addUnicodePackage({Arabic:"0600-06040606-060B060D-061A061E0620-063F0641-064A0656-065E066A-066F0671-06DC06DE-06FF0750-077F08A008A2-08AC08E4-08FEFB50-FBC1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFCFE70-FE74FE76-FEFC",Armenian:"0531-05560559-055F0561-0587058A058FFB13-FB17",Balinese:"1B00-1B4B1B50-1B7C",Bamum:"A6A0-A6F7",Batak:"1BC0-1BF31BFC-1BFF",Bengali:"0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BC-09C409C709C809CB-09CE09D709DC09DD09DF-09E309E6-09FB",Bopomofo:"02EA02EB3105-312D31A0-31BA",Braille:"2800-28FF",Buginese:"1A00-1A1B1A1E1A1F",Buhid:"1740-1753",Canadian_Aboriginal:"1400-167F18B0-18F5",Cham:"AA00-AA36AA40-AA4DAA50-AA59AA5C-AA5F",Cherokee:"13A0-13F4",Common:"0000-0040005B-0060007B-00A900AB-00B900BB-00BF00D700F702B9-02DF02E5-02E902EC-02FF0374037E038503870589060C061B061F06400660-066906DD096409650E3F0FD5-0FD810FB16EB-16ED173517361802180318051CD31CE11CE9-1CEC1CEE-1CF31CF51CF62000-200B200E-2064206A-20702074-207E2080-208E20A0-20B92100-21252127-2129212C-21312133-214D214F-215F21892190-23F32400-24262440-244A2460-26FF2701-27FF2900-2B4C2B50-2B592E00-2E3B2FF0-2FFB3000-300430063008-30203030-3037303C-303F309B309C30A030FB30FC3190-319F31C0-31E33220-325F327F-32CF3358-33FF4DC0-4DFFA700-A721A788-A78AA830-A839FD3EFD3FFDFDFE10-FE19FE30-FE52FE54-FE66FE68-FE6BFEFFFF01-FF20FF3B-FF40FF5B-FF65FF70FF9EFF9FFFE0-FFE6FFE8-FFEEFFF9-FFFD",Coptic:"03E2-03EF2C80-2CF32CF9-2CFF",Cyrillic:"0400-04840487-05271D2B1D782DE0-2DFFA640-A697A69F",Devanagari:"0900-09500953-09630966-09770979-097FA8E0-A8FB",Ethiopic:"1200-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135D-137C1380-13992D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDEAB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2E",Georgian:"10A0-10C510C710CD10D0-10FA10FC-10FF2D00-2D252D272D2D",Glagolitic:"2C00-2C2E2C30-2C5E",Greek:"0370-03730375-0377037A-037D038403860388-038A038C038E-03A103A3-03E103F0-03FF1D26-1D2A1D5D-1D611D66-1D6A1DBF1F00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FC41FC6-1FD31FD6-1FDB1FDD-1FEF1FF2-1FF41FF6-1FFE2126",Gujarati:"0A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABC-0AC50AC7-0AC90ACB-0ACD0AD00AE0-0AE30AE6-0AF1",Gurmukhi:"0A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3C0A3E-0A420A470A480A4B-0A4D0A510A59-0A5C0A5E0A66-0A75",Han:"2E80-2E992E9B-2EF32F00-2FD5300530073021-30293038-303B3400-4DB54E00-9FCCF900-FA6DFA70-FAD9",Hangul:"1100-11FF302E302F3131-318E3200-321E3260-327EA960-A97CAC00-D7A3D7B0-D7C6D7CB-D7FBFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Hanunoo:"1720-1734",Hebrew:"0591-05C705D0-05EA05F0-05F4FB1D-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FB4F",Hiragana:"3041-3096309D-309F",Inherited:"0300-036F04850486064B-0655065F0670095109521CD0-1CD21CD4-1CE01CE2-1CE81CED1CF41DC0-1DE61DFC-1DFF200C200D20D0-20F0302A-302D3099309AFE00-FE0FFE20-FE26",Javanese:"A980-A9CDA9CF-A9D9A9DEA9DF",Kannada:"0C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBC-0CC40CC6-0CC80CCA-0CCD0CD50CD60CDE0CE0-0CE30CE6-0CEF0CF10CF2",Katakana:"30A1-30FA30FD-30FF31F0-31FF32D0-32FE3300-3357FF66-FF6FFF71-FF9D",Kayah_Li:"A900-A92F",Khmer:"1780-17DD17E0-17E917F0-17F919E0-19FF",Lao:"0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60EC8-0ECD0ED0-0ED90EDC-0EDF",Latin:"0041-005A0061-007A00AA00BA00C0-00D600D8-00F600F8-02B802E0-02E41D00-1D251D2C-1D5C1D62-1D651D6B-1D771D79-1DBE1E00-1EFF2071207F2090-209C212A212B2132214E2160-21882C60-2C7FA722-A787A78B-A78EA790-A793A7A0-A7AAA7F8-A7FFFB00-FB06FF21-FF3AFF41-FF5A",Lepcha:"1C00-1C371C3B-1C491C4D-1C4F",Limbu:"1900-191C1920-192B1930-193B19401944-194F",Lisu:"A4D0-A4FF",Malayalam:"0D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4E0D570D60-0D630D66-0D750D79-0D7F",Mandaic:"0840-085B085E",Meetei_Mayek:"AAE0-AAF6ABC0-ABEDABF0-ABF9",Mongolian:"1800180118041806-180E1810-18191820-18771880-18AA",Myanmar:"1000-109FAA60-AA7B",New_Tai_Lue:"1980-19AB19B0-19C919D0-19DA19DE19DF",Nko:"07C0-07FA",Ogham:"1680-169C",Ol_Chiki:"1C50-1C7F",Oriya:"0B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3C-0B440B470B480B4B-0B4D0B560B570B5C0B5D0B5F-0B630B66-0B77",Phags_Pa:"A840-A877",Rejang:"A930-A953A95F",Runic:"16A0-16EA16EE-16F0",Samaritan:"0800-082D0830-083E",Saurashtra:"A880-A8C4A8CE-A8D9",Sinhala:"0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCA0DCF-0DD40DD60DD8-0DDF0DF2-0DF4",Sundanese:"1B80-1BBF1CC0-1CC7",Syloti_Nagri:"A800-A82B",Syriac:"0700-070D070F-074A074D-074F",Tagalog:"1700-170C170E-1714",Tagbanwa:"1760-176C176E-177017721773",Tai_Le:"1950-196D1970-1974",Tai_Tham:"1A20-1A5E1A60-1A7C1A7F-1A891A90-1A991AA0-1AAD",Tai_Viet:"AA80-AAC2AADB-AADF",Tamil:"0B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCD0BD00BD70BE6-0BFA",Telugu:"0C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4D0C550C560C580C590C60-0C630C66-0C6F0C78-0C7F",Thaana:"0780-07B1",Thai:"0E01-0E3A0E40-0E5B",Tibetan:"0F00-0F470F49-0F6C0F71-0F970F99-0FBC0FBE-0FCC0FCE-0FD40FD90FDA",Tifinagh:"2D30-2D672D6F2D702D7F",Vai:"A500-A62B",Yi:"A000-A48CA490-A4C6"})}(XRegExp),function(e){"use strict";if(!e.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");e.install("extensibility"),e.addUnicodePackage({InBasic_Latin:"0000-007F",InLatin_1_Supplement:"0080-00FF",InLatin_Extended_A:"0100-017F",InLatin_Extended_B:"0180-024F",InIPA_Extensions:"0250-02AF",InSpacing_Modifier_Letters:"02B0-02FF",InCombining_Diacritical_Marks:"0300-036F",InGreek_and_Coptic:"0370-03FF",InCyrillic:"0400-04FF",InCyrillic_Supplement:"0500-052F",InArmenian:"0530-058F",InHebrew:"0590-05FF",InArabic:"0600-06FF",InSyriac:"0700-074F",InArabic_Supplement:"0750-077F",InThaana:"0780-07BF",InNKo:"07C0-07FF",InSamaritan:"0800-083F",InMandaic:"0840-085F",InArabic_Extended_A:"08A0-08FF",InDevanagari:"0900-097F",InBengali:"0980-09FF",InGurmukhi:"0A00-0A7F",InGujarati:"0A80-0AFF",InOriya:"0B00-0B7F",InTamil:"0B80-0BFF",InTelugu:"0C00-0C7F",InKannada:"0C80-0CFF",InMalayalam:"0D00-0D7F",InSinhala:"0D80-0DFF",InThai:"0E00-0E7F",InLao:"0E80-0EFF",InTibetan:"0F00-0FFF",InMyanmar:"1000-109F",InGeorgian:"10A0-10FF",InHangul_Jamo:"1100-11FF",InEthiopic:"1200-137F",InEthiopic_Supplement:"1380-139F",InCherokee:"13A0-13FF",InUnified_Canadian_Aboriginal_Syllabics:"1400-167F",InOgham:"1680-169F",InRunic:"16A0-16FF",InTagalog:"1700-171F",InHanunoo:"1720-173F",InBuhid:"1740-175F",InTagbanwa:"1760-177F",InKhmer:"1780-17FF",InMongolian:"1800-18AF",InUnified_Canadian_Aboriginal_Syllabics_Extended:"18B0-18FF",InLimbu:"1900-194F",InTai_Le:"1950-197F",InNew_Tai_Lue:"1980-19DF",InKhmer_Symbols:"19E0-19FF",InBuginese:"1A00-1A1F",InTai_Tham:"1A20-1AAF",InBalinese:"1B00-1B7F",InSundanese:"1B80-1BBF",InBatak:"1BC0-1BFF",InLepcha:"1C00-1C4F",InOl_Chiki:"1C50-1C7F",InSundanese_Supplement:"1CC0-1CCF",InVedic_Extensions:"1CD0-1CFF",InPhonetic_Extensions:"1D00-1D7F",InPhonetic_Extensions_Supplement:"1D80-1DBF",InCombining_Diacritical_Marks_Supplement:"1DC0-1DFF",InLatin_Extended_Additional:"1E00-1EFF",InGreek_Extended:"1F00-1FFF",InGeneral_Punctuation:"2000-206F",InSuperscripts_and_Subscripts:"2070-209F",InCurrency_Symbols:"20A0-20CF",InCombining_Diacritical_Marks_for_Symbols:"20D0-20FF",InLetterlike_Symbols:"2100-214F",InNumber_Forms:"2150-218F",InArrows:"2190-21FF",InMathematical_Operators:"2200-22FF",InMiscellaneous_Technical:"2300-23FF",InControl_Pictures:"2400-243F",InOptical_Character_Recognition:"2440-245F",InEnclosed_Alphanumerics:"2460-24FF",InBox_Drawing:"2500-257F",InBlock_Elements:"2580-259F",InGeometric_Shapes:"25A0-25FF",InMiscellaneous_Symbols:"2600-26FF",InDingbats:"2700-27BF",InMiscellaneous_Mathematical_Symbols_A:"27C0-27EF",InSupplemental_Arrows_A:"27F0-27FF",InBraille_Patterns:"2800-28FF",InSupplemental_Arrows_B:"2900-297F",InMiscellaneous_Mathematical_Symbols_B:"2980-29FF",InSupplemental_Mathematical_Operators:"2A00-2AFF",InMiscellaneous_Symbols_and_Arrows:"2B00-2BFF",InGlagolitic:"2C00-2C5F",InLatin_Extended_C:"2C60-2C7F",InCoptic:"2C80-2CFF",InGeorgian_Supplement:"2D00-2D2F",InTifinagh:"2D30-2D7F",InEthiopic_Extended:"2D80-2DDF",InCyrillic_Extended_A:"2DE0-2DFF",InSupplemental_Punctuation:"2E00-2E7F",InCJK_Radicals_Supplement:"2E80-2EFF",InKangxi_Radicals:"2F00-2FDF",InIdeographic_Description_Characters:"2FF0-2FFF",InCJK_Symbols_and_Punctuation:"3000-303F",InHiragana:"3040-309F",InKatakana:"30A0-30FF",InBopomofo:"3100-312F",InHangul_Compatibility_Jamo:"3130-318F",InKanbun:"3190-319F",InBopomofo_Extended:"31A0-31BF",InCJK_Strokes:"31C0-31EF",InKatakana_Phonetic_Extensions:"31F0-31FF",InEnclosed_CJK_Letters_and_Months:"3200-32FF",InCJK_Compatibility:"3300-33FF",InCJK_Unified_Ideographs_Extension_A:"3400-4DBF",InYijing_Hexagram_Symbols:"4DC0-4DFF",InCJK_Unified_Ideographs:"4E00-9FFF",InYi_Syllables:"A000-A48F",InYi_Radicals:"A490-A4CF",InLisu:"A4D0-A4FF",InVai:"A500-A63F",InCyrillic_Extended_B:"A640-A69F",InBamum:"A6A0-A6FF",InModifier_Tone_Letters:"A700-A71F",InLatin_Extended_D:"A720-A7FF",InSyloti_Nagri:"A800-A82F",InCommon_Indic_Number_Forms:"A830-A83F",InPhags_pa:"A840-A87F",InSaurashtra:"A880-A8DF",InDevanagari_Extended:"A8E0-A8FF",InKayah_Li:"A900-A92F",InRejang:"A930-A95F",InHangul_Jamo_Extended_A:"A960-A97F",InJavanese:"A980-A9DF",InCham:"AA00-AA5F",InMyanmar_Extended_A:"AA60-AA7F",InTai_Viet:"AA80-AADF",InMeetei_Mayek_Extensions:"AAE0-AAFF",InEthiopic_Extended_A:"AB00-AB2F",InMeetei_Mayek:"ABC0-ABFF",InHangul_Syllables:"AC00-D7AF",InHangul_Jamo_Extended_B:"D7B0-D7FF",InHigh_Surrogates:"D800-DB7F",InHigh_Private_Use_Surrogates:"DB80-DBFF",InLow_Surrogates:"DC00-DFFF",InPrivate_Use_Area:"E000-F8FF",InCJK_Compatibility_Ideographs:"F900-FAFF",InAlphabetic_Presentation_Forms:"FB00-FB4F",InArabic_Presentation_Forms_A:"FB50-FDFF",InVariation_Selectors:"FE00-FE0F",InVertical_Forms:"FE10-FE1F",InCombining_Half_Marks:"FE20-FE2F",InCJK_Compatibility_Forms:"FE30-FE4F",InSmall_Form_Variants:"FE50-FE6F",InArabic_Presentation_Forms_B:"FE70-FEFF",InHalfwidth_and_Fullwidth_Forms:"FF00-FFEF",InSpecials:"FFF0-FFFF"})}(XRegExp),function(e){"use strict";if(!e.addUnicodePackage)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");e.install("extensibility"),e.addUnicodePackage({Alphabetic:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE03450370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05270531-055605590561-058705B0-05BD05BF05C105C205C405C505C705D0-05EA05F0-05F20610-061A0620-06570659-065F066E-06D306D5-06DC06E1-06E806ED-06EF06FA-06FC06FF0710-073F074D-07B107CA-07EA07F407F507FA0800-0817081A-082C0840-085808A008A2-08AC08E4-08E908F0-08FE0900-093B093D-094C094E-09500955-09630971-09770979-097F0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BD-09C409C709C809CB09CC09CE09D709DC09DD09DF-09E309F009F10A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3E-0A420A470A480A4B0A4C0A510A59-0A5C0A5E0A70-0A750A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD-0AC50AC7-0AC90ACB0ACC0AD00AE0-0AE30B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D-0B440B470B480B4B0B4C0B560B570B5C0B5D0B5F-0B630B710B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCC0BD00BD70C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4C0C550C560C580C590C60-0C630C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD-0CC40CC6-0CC80CCA-0CCC0CD50CD60CDE0CE0-0CE30CF10CF20D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4C0D4E0D570D60-0D630D7A-0D7F0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCF-0DD40DD60DD8-0DDF0DF20DF30E01-0E3A0E40-0E460E4D0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60ECD0EDC-0EDF0F000F40-0F470F49-0F6C0F71-0F810F88-0F970F99-0FBC1000-10361038103B-103F1050-10621065-1068106E-1086108E109C109D10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135F1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16EE-16F01700-170C170E-17131720-17331740-17531760-176C176E-1770177217731780-17B317B6-17C817D717DC1820-18771880-18AA18B0-18F51900-191C1920-192B1930-19381950-196D1970-19741980-19AB19B0-19C91A00-1A1B1A20-1A5E1A61-1A741AA71B00-1B331B35-1B431B45-1B4B1B80-1BA91BAC-1BAF1BBA-1BE51BE7-1BF11C00-1C351C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF31CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E2160-218824B6-24E92C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2DE0-2DFF2E2F3005-30073021-30293031-30353038-303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA674-A67BA67F-A697A69F-A6EFA717-A71FA722-A788A78B-A78EA790-A793A7A0-A7AAA7F8-A801A803-A805A807-A80AA80C-A827A840-A873A880-A8C3A8F2-A8F7A8FBA90A-A92AA930-A952A960-A97CA980-A9B2A9B4-A9BFA9CFAA00-AA36AA40-AA4DAA60-AA76AA7AAA80-AABEAAC0AAC2AADB-AADDAAE0-AAEFAAF2-AAF5AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABEAAC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1D-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Uppercase:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E05200522052405260531-055610A0-10C510C710CD1E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F21452160-216F218324B6-24CF2C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CED2CF2A640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA660A662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BA78DA790A792A7A0A7A2A7A4A7A6A7A8A7AAFF21-FF3A",Lowercase:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02B802C002C102E0-02E40345037103730377037A-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F05210523052505270561-05871D00-1DBF1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF72071207F2090-209C210A210E210F2113212F21342139213C213D2146-2149214E2170-217F218424D0-24E92C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7D2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2CF32D00-2D252D272D2DA641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA661A663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76F-A778A77AA77CA77FA781A783A785A787A78CA78EA791A793A7A1A7A3A7A5A7A7A7A9A7F8-A7FAFB00-FB06FB13-FB17FF41-FF5A",White_Space:"0009-000D0020008500A01680180E2000-200A20282029202F205F3000",Noncharacter_Code_Point:"FDD0-FDEFFFFEFFFF",Default_Ignorable_Code_Point:"00AD034F115F116017B417B5180B-180D200B-200F202A-202E2060-206F3164FE00-FE0FFEFFFFA0FFF0-FFF8",Any:"0000-FFFF",Ascii:"0000-007F",Assigned:"0000-0377037A-037E0384-038A038C038E-03A103A3-05270531-05560559-055F0561-05870589058A058F0591-05C705D0-05EA05F0-05F40600-06040606-061B061E-070D070F-074A074D-07B107C0-07FA0800-082D0830-083E0840-085B085E08A008A2-08AC08E4-08FE0900-09770979-097F0981-09830985-098C098F09900993-09A809AA-09B009B209B6-09B909BC-09C409C709C809CB-09CE09D709DC09DD09DF-09E309E6-09FB0A01-0A030A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A3C0A3E-0A420A470A480A4B-0A4D0A510A59-0A5C0A5E0A66-0A750A81-0A830A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABC-0AC50AC7-0AC90ACB-0ACD0AD00AE0-0AE30AE6-0AF10B01-0B030B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3C-0B440B470B480B4B-0B4D0B560B570B5C0B5D0B5F-0B630B66-0B770B820B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BBE-0BC20BC6-0BC80BCA-0BCD0BD00BD70BE6-0BFA0C01-0C030C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D-0C440C46-0C480C4A-0C4D0C550C560C580C590C60-0C630C66-0C6F0C78-0C7F0C820C830C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBC-0CC40CC6-0CC80CCA-0CCD0CD50CD60CDE0CE0-0CE30CE6-0CEF0CF10CF20D020D030D05-0D0C0D0E-0D100D12-0D3A0D3D-0D440D46-0D480D4A-0D4E0D570D60-0D630D66-0D750D79-0D7F0D820D830D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60DCA0DCF-0DD40DD60DD8-0DDF0DF2-0DF40E01-0E3A0E3F-0E5B0E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB90EBB-0EBD0EC0-0EC40EC60EC8-0ECD0ED0-0ED90EDC-0EDF0F00-0F470F49-0F6C0F71-0F970F99-0FBC0FBE-0FCC0FCE-0FDA1000-10C510C710CD10D0-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A135D-137C1380-139913A0-13F41400-169C16A0-16F01700-170C170E-17141720-17361740-17531760-176C176E-1770177217731780-17DD17E0-17E917F0-17F91800-180E1810-18191820-18771880-18AA18B0-18F51900-191C1920-192B1930-193B19401944-196D1970-19741980-19AB19B0-19C919D0-19DA19DE-1A1B1A1E-1A5E1A60-1A7C1A7F-1A891A90-1A991AA0-1AAD1B00-1B4B1B50-1B7C1B80-1BF31BFC-1C371C3B-1C491C4D-1C7F1CC0-1CC71CD0-1CF61D00-1DE61DFC-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FC41FC6-1FD31FD6-1FDB1FDD-1FEF1FF2-1FF41FF6-1FFE2000-2064206A-20712074-208E2090-209C20A0-20B920D0-20F02100-21892190-23F32400-24262440-244A2460-26FF2701-2B4C2B50-2B592C00-2C2E2C30-2C5E2C60-2CF32CF9-2D252D272D2D2D30-2D672D6F2D702D7F-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2DE0-2E3B2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB3000-303F3041-30963099-30FF3105-312D3131-318E3190-31BA31C0-31E331F0-321E3220-32FE3300-4DB54DC0-9FCCA000-A48CA490-A4C6A4D0-A62BA640-A697A69F-A6F7A700-A78EA790-A793A7A0-A7AAA7F8-A82BA830-A839A840-A877A880-A8C4A8CE-A8D9A8E0-A8FBA900-A953A95F-A97CA980-A9CDA9CF-A9D9A9DEA9DFAA00-AA36AA40-AA4DAA50-AA59AA5C-AA7BAA80-AAC2AADB-AAF6AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EABC0-ABEDABF0-ABF9AC00-D7A3D7B0-D7C6D7CB-D7FBD800-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1D-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBC1FBD3-FD3FFD50-FD8FFD92-FDC7FDF0-FDFDFE00-FE19FE20-FE26FE30-FE52FE54-FE66FE68-FE6BFE70-FE74FE76-FEFCFEFFFF01-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDCFFE0-FFE6FFE8-FFEEFFF9-FFFD"})}(XRegExp),function(e){"use strict";function t(e,t,i,n){return{value:e,name:t,start:i,end:n}}e.matchRecursive=function(i,n,a,r,s){r=r||"",s=s||{};var o,F,l,A,c,d=r.indexOf("g")>-1,C=r.indexOf("y")>-1,E=r.replace(/y/g,""),u=s.escapeChar,h=s.valueNames,D=[],p=0,B=0,g=0,f=0;if(n=e(n,E),a=e(a,E),u){if(u.length>1)throw new SyntaxError("can't use more than one escape character");u=e.escape(u),c=new RegExp("(?:"+u+"[\\S\\s]|(?:(?!"+e.union([n,a]).source+")[^"+u+"])+)+",r.replace(/[^im]+/g,""))}for(;;){if(u&&(g+=(e.exec(i,c,g,"sticky")||[""])[0].length),l=e.exec(i,n,g),A=e.exec(i,a,g),l&&A&&(l.index<=A.index?A=null:l=null),l||A)B=(l||A).index,g=B+(l||A)[0].length;else if(!p)break;if(C&&!p&&B>f)break;if(l)p||(o=B,F=g),++p;else{if(!A||!p)throw new Error("string contains unbalanced delimiters");if(!--p&&(h?(h[0]&&o>f&&D.push(t(h[0],i.slice(f,o),f,o)),h[1]&&D.push(t(h[1],i.slice(o,F),o,F)),h[2]&&D.push(t(h[2],i.slice(F,B),F,B)),h[3]&&D.push(t(h[3],i.slice(B,g),B,g))):D.push(i.slice(F,B)),f=g,!d))break}B===g&&++g}return d&&!C&&h&&h[0]&&i.length>f&&D.push(t(h[0],i.slice(f),f,i.length)),D}}(XRegExp),function(e){"use strict";function t(e){var t=/^(?:\(\?:\))?\^/,i=/\$(?:\(\?:\))?$/;return i.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(i,""):e}function i(t){return e.isRegExp(t)?t.xregexp&&!t.xregexp.isNative?t:e(t.source):e(t)}var n=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,a=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,n],"g");e.build=function(r,s,o){var F,l,A,c,d=/^\(\?([\w$]+)\)/.exec(r),C={},E=0,u=0,h=[0];d&&(o=o||"",d[1].replace(/./g,function(e){o+=o.indexOf(e)>-1?"":e}));for(c in s)s.hasOwnProperty(c)&&(A=i(s[c]),C[c]={pattern:t(A.source),names:A.xregexp.captureNames||[]});return r=i(r),l=r.xregexp.captureNames||[],r=r.source.replace(a,function(e,t,i,a,r){var s,o,A=t||i;if(A){if(!C.hasOwnProperty(A))throw new ReferenceError("undefined property "+e);return t?(s=l[u],h[++u]=++E,o="(?<"+(s||A)+">"):o="(?:",F=E,o+C[A].pattern.replace(n,function(e,t,i){if(t){if(s=C[A].names[E-F],++E,s)return"(?<"+s+">"}else if(i)return"\\"+(+i+F);return e})+")"}if(a){if(s=l[u],h[++u]=++E,s)return"(?<"+s+">"}else if(r)return"\\"+h[+r];return e}),e(r,o)}}(XRegExp),function(e){"use strict";!function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}(e.prototype,{apply:function(e,t){return this.test(t[0])},call:function(e,t){return this.test(t)},forEach:function(t,i,n){return e.forEach(t,this,i,n)},globalize:function(){return e.globalize(this)},xexec:function(t,i,n){return e.exec(t,this,i,n)},xtest:function(t,i,n){return e.test(t,this,i,n)}})}(XRegExp),function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function a(e,t){var i=v.elements;"string"!=typeof i&&(i=i.join(" ")),"string"!=typeof e&&(e=e.join(" ")),v.elements=i+" "+e,l(t)}function r(e){var t=m[e[g]];return t||(t={},f++,e[g]=f,m[f]=t),t}function s(e,i,n){if(i||(i=t),h)return i.createElement(e);n||(n=r(i));var a;return a=n.cache[e]?n.cache[e].cloneNode():B.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),!a.canHaveChildren||p.test(e)||a.tagUrn?a:n.frag.appendChild(a)}function o(e,i){if(e||(e=t),h)return e.createDocumentFragment();i=i||r(e);for(var a=i.frag.cloneNode(),s=0,o=n(),F=o.length;s<F;s++)a.createElement(o[s]);return a}function F(e,t){t.cache||(t.cache={},
t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return v.shivMethods?s(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function l(e){e||(e=t);var n=r(e);return!v.shivCSS||u||n.hasCSS||(n.hasCSS=!!i(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),h||F(e,n),e}function A(e){for(var t,i=e.getElementsByTagName("*"),a=i.length,r=RegExp("^(?:"+n().join("|")+")$","i"),s=[];a--;)t=i[a],r.test(t.nodeName)&&s.push(t.applyElement(c(t)));return s}function c(e){for(var t,i=e.attributes,n=i.length,a=e.ownerDocument.createElement(y+":"+e.nodeName);n--;)t=i[n],t.specified&&a.setAttribute(t.nodeName,t.nodeValue);return a.style.cssText=e.style.cssText,a}function d(e){for(var t,i=e.split("{"),a=i.length,r=RegExp("(^|[\\s,>+~])("+n().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),s="$1"+y+"\\:$2";a--;)t=i[a]=i[a].split("}"),t[t.length-1]=t[t.length-1].replace(r,s),i[a]=t.join("}");return i.join("{")}function C(e){for(var t=e.length;t--;)e[t].removeNode()}function E(e){function t(){clearTimeout(s._removeSheetTimer),n&&n.removeNode(!0),n=null}var n,a,s=r(e),o=e.namespaces,F=e.parentWindow;return!b||e.printShived?e:(void 0===o[y]&&o.add(y),F.attachEvent("onbeforeprint",function(){t();for(var r,s,o,F=e.styleSheets,l=[],c=F.length,C=Array(c);c--;)C[c]=F[c];for(;o=C.pop();)if(!o.disabled&&_.test(o.media)){try{r=o.imports,s=r.length}catch(e){s=0}for(c=0;c<s;c++)C.push(r[c]);try{l.push(o.cssText)}catch(e){}}l=d(l.reverse().join("")),a=A(e),n=i(e,l)}),F.attachEvent("onafterprint",function(){C(a),clearTimeout(s._removeSheetTimer),s._removeSheetTimer=setTimeout(t,500)}),e.printShived=!0,e)}var u,h,D=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,B=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",f=0,m={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,h=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){u=!0,h=!0}}();var v={elements:D.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==D.shivCSS,supportsUnknownElements:h,shivMethods:!1!==D.shivMethods,type:"default",shivDocument:l,createElement:s,createDocumentFragment:o,addElements:a};e.html5=v,l(t);var _=/^$|\b(?:all|print)\b/,y="html5shiv",b=!h&&function(){var i=t.documentElement;return!(void 0===t.namespaces||void 0===t.parentWindow||void 0===i.applyElement||void 0===i.removeNode||void 0===e.attachEvent)}();v.type+=" print",v.shivPrint=E,E(t),"object"==typeof module&&module.exports&&(module.exports=v)}("undefined"!=typeof window?window:this,document),function(e,t){function i(e,t){var i=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return i.innerHTML="x<style>"+t+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var e=p.elements;return"string"==typeof e?e.split(" "):e}function a(e,t){var i=p.elements;"string"!=typeof i&&(i=i.join(" ")),"string"!=typeof e&&(e=e.join(" ")),p.elements=i+" "+e,l(t)}function r(e){var t=D[e[u]];return t||(t={},h++,e[u]=h,D[h]=t),t}function s(e,i,n){if(i||(i=t),c)return i.createElement(e);n||(n=r(i));var a;return a=n.cache[e]?n.cache[e].cloneNode():E.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e),!a.canHaveChildren||C.test(e)||a.tagUrn?a:n.frag.appendChild(a)}function o(e,i){if(e||(e=t),c)return e.createDocumentFragment();i=i||r(e);for(var a=i.frag.cloneNode(),s=0,o=n(),F=o.length;s<F;s++)a.createElement(o[s]);return a}function F(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(i){return p.shivMethods?s(i,e,t):t.createElem(i)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(p,t.frag)}function l(e){e||(e=t);var n=r(e);return!p.shivCSS||A||n.hasCSS||(n.hasCSS=!!i(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||F(e,n),e}var A,c,d=e.html5||{},C=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,E=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,u="_html5shiv",h=0,D={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",A="hidden"in e,c=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){A=!0,c=!0}}();var p={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==d.shivCSS,supportsUnknownElements:c,shivMethods:!1!==d.shivMethods,type:"default",shivDocument:l,createElement:s,createDocumentFragment:o,addElements:a};e.html5=p,l(t),"object"==typeof module&&module.exports&&(module.exports=p)}("undefined"!=typeof window?window:this,document),function(e){var t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};e.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(n)}),this;var a={},r=this,s=e(window).width(),o=e(window).height();if(!e(r).data("bxSlider")){var F=function(){e(r).data("bxSlider")||(a.settings=e.extend({},t,n),a.settings.slideWidth=parseInt(a.settings.slideWidth),a.children=r.children(a.settings.slideSelector),a.children.length<a.settings.minSlides&&(a.settings.minSlides=a.children.length),a.children.length<a.settings.maxSlides&&(a.settings.maxSlides=a.children.length),a.settings.randomStart&&(a.settings.startSlide=Math.floor(Math.random()*a.children.length)),a.active={index:a.settings.startSlide},a.carousel=a.settings.minSlides>1||a.settings.maxSlides>1,a.carousel&&(a.settings.preloadImages="all"),a.minThreshold=a.settings.minSlides*a.settings.slideWidth+(a.settings.minSlides-1)*a.settings.slideMargin,a.maxThreshold=a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin,a.working=!1,a.controls={},a.interval=null,a.animProp="vertical"===a.settings.mode?"top":"left",a.usingCSS=a.settings.useCSS&&"fade"!==a.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<t.length;i++)if(void 0!==e.style[t[i]])return a.cssPrefix=t[i].replace("Perspective","").toLowerCase(),a.animProp="-"+a.cssPrefix+"-transform",!0;return!1}(),"vertical"===a.settings.mode&&(a.settings.maxSlides=a.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(a.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),l())},l=function(){var t=a.children.eq(a.settings.startSlide);r.wrap('<div class="'+a.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),a.viewport=r.parent(),a.loader=e('<div class="bx-loading" />'),a.viewport.prepend(a.loader),r.css({width:"horizontal"===a.settings.mode?1e3*a.children.length+215+"%":"auto",position:"relative"}),a.usingCSS&&a.settings.easing?r.css("-"+a.cssPrefix+"-transition-timing-function",a.settings.easing):a.settings.easing||(a.settings.easing="swing"),a.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),a.viewport.parent().css({maxWidth:C()}),a.settings.pager||a.settings.controls||a.viewport.parent().css({margin:"0 auto 0px"}),a.children.css({float:"horizontal"===a.settings.mode?"left":"none",listStyle:"none",position:"relative"}),a.children.css("width",E()),"horizontal"===a.settings.mode&&a.settings.slideMargin>0&&a.children.css("marginRight",a.settings.slideMargin),"vertical"===a.settings.mode&&a.settings.slideMargin>0&&a.children.css("marginBottom",a.settings.slideMargin),"fade"===a.settings.mode&&(a.children.css({position:"absolute",zIndex:0,display:"none"}),a.children.eq(a.settings.startSlide).css({zIndex:a.settings.slideZIndex,display:"block"})),a.controls.el=e('<div class="bx-controls" />'),a.settings.captions&&_(),a.active.last=a.settings.startSlide===h()-1,a.settings.video&&r.fitVids(),("all"===a.settings.preloadImages||a.settings.ticker)&&(t=a.children),a.settings.ticker?a.settings.pager=!1:(a.settings.controls&&m(),a.settings.auto&&a.settings.autoControls&&v(),a.settings.pager&&f(),(a.settings.controls||a.settings.autoControls||a.settings.pager)&&a.viewport.after(a.controls.el)),A(t,c)},A=function(t,i){var n=t.find('img:not([src=""]), iframe').length,a=0;if(0===n)return void i();t.find('img:not([src=""]), iframe').each(function(){e(this).one("load error",function(){++a===n&&i()}).each(function(){this.complete&&e(this).trigger("load")})})},c=function(){if(a.settings.infiniteLoop&&"fade"!==a.settings.mode&&!a.settings.ticker){var t="vertical"===a.settings.mode?a.settings.minSlides:a.settings.maxSlides,i=a.children.slice(0,t).clone(!0).addClass("bx-clone"),n=a.children.slice(-t).clone(!0).addClass("bx-clone");a.settings.ariaHidden&&(i.attr("aria-hidden",!0),n.attr("aria-hidden",!0)),r.append(i).prepend(n)}a.loader.remove(),p(),"vertical"===a.settings.mode&&(a.settings.adaptiveHeight=!0),a.viewport.height(d()),r.redrawSlider(),a.settings.onSliderLoad.call(r,a.active.index),a.initialized=!0,a.settings.responsive&&e(window).bind("resize",H),a.settings.auto&&a.settings.autoStart&&(h()>1||a.settings.autoSlideForOnePage)&&P(),a.settings.ticker&&$(),a.settings.pager&&S(a.settings.startSlide),a.settings.controls&&T(),a.settings.touchEnabled&&!a.settings.ticker&&j(),a.settings.keyboardEnabled&&!a.settings.ticker&&e(document).keydown(L)},d=function(){var t=0,n=e();if("vertical"===a.settings.mode||a.settings.adaptiveHeight)if(a.carousel){var r=1===a.settings.moveSlides?a.active.index:a.active.index*D();for(n=a.children.eq(r),i=1;i<=a.settings.maxSlides-1;i++)n=r+i>=a.children.length?n.add(a.children.eq(i-1)):n.add(a.children.eq(r+i))}else n=a.children.eq(a.active.index);else n=a.children;return"vertical"===a.settings.mode?(n.each(function(i){t+=e(this).outerHeight()}),a.settings.slideMargin>0&&(t+=a.settings.slideMargin*(a.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),"border-box"===a.viewport.css("box-sizing")?t+=parseFloat(a.viewport.css("padding-top"))+parseFloat(a.viewport.css("padding-bottom"))+parseFloat(a.viewport.css("border-top-width"))+parseFloat(a.viewport.css("border-bottom-width")):"padding-box"===a.viewport.css("box-sizing")&&(t+=parseFloat(a.viewport.css("padding-top"))+parseFloat(a.viewport.css("padding-bottom"))),t},C=function(){var e="100%";return a.settings.slideWidth>0&&(e="horizontal"===a.settings.mode?a.settings.maxSlides*a.settings.slideWidth+(a.settings.maxSlides-1)*a.settings.slideMargin:a.settings.slideWidth),e},E=function(){var e=a.settings.slideWidth,t=a.viewport.width();if(0===a.settings.slideWidth||a.settings.slideWidth>t&&!a.carousel||"vertical"===a.settings.mode)e=t;else if(a.settings.maxSlides>1&&"horizontal"===a.settings.mode){if(t>a.maxThreshold)return e;t<a.minThreshold?e=(t-a.settings.slideMargin*(a.settings.minSlides-1))/a.settings.minSlides:a.settings.shrinkItems&&(e=Math.floor((t+a.settings.slideMargin)/Math.ceil((t+a.settings.slideMargin)/(e+a.settings.slideMargin))-a.settings.slideMargin))}return e},u=function(){var e=1,t=null;return"horizontal"===a.settings.mode&&a.settings.slideWidth>0?a.viewport.width()<a.minThreshold?e=a.settings.minSlides:a.viewport.width()>a.maxThreshold?e=a.settings.maxSlides:(t=a.children.first().outerWidth()+a.settings.slideMargin,e=Math.floor((a.viewport.width()+a.settings.slideMargin)/t)):"vertical"===a.settings.mode&&(e=a.settings.minSlides),e},h=function(){var e=0,t=0,i=0;if(a.settings.moveSlides>0)if(a.settings.infiniteLoop)e=Math.ceil(a.children.length/D());else for(;t<a.children.length;)++e,t=i+u(),i+=a.settings.moveSlides<=u()?a.settings.moveSlides:u();else e=Math.ceil(a.children.length/u());return e},D=function(){return a.settings.moveSlides>0&&a.settings.moveSlides<=u()?a.settings.moveSlides:u()},p=function(){var e,t,i;a.children.length>a.settings.maxSlides&&a.active.last&&!a.settings.infiniteLoop?"horizontal"===a.settings.mode?(t=a.children.last(),e=t.position(),B(-(e.left-(a.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===a.settings.mode&&(i=a.children.length-a.settings.minSlides,e=a.children.eq(i).position(),B(-e.top,"reset",0)):(e=a.children.eq(a.active.index*D()).position(),a.active.index===h()-1&&(a.active.last=!0),void 0!==e&&("horizontal"===a.settings.mode?B(-e.left,"reset",.01):"vertical"===a.settings.mode&&B(-e.top,"reset",.01)))},B=function(t,i,n,s){var o,F;a.usingCSS?(F="vertical"===a.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)",r.css("-"+a.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===i?(r.css(a.animProp,F),0!==n?r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(r)&&(r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),I())}):I()):"reset"===i?r.css(a.animProp,F):"ticker"===i&&(r.css("-"+a.cssPrefix+"-transition-timing-function","linear"),r.css(a.animProp,F),0!==n?r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(r)&&(r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),B(s.resetValue,"reset",0),N())}):(B(s.resetValue,"reset",0),N()))):(o={},o[a.animProp]=t,"slide"===i?r.animate(o,n,a.settings.easing,function(){I()}):"reset"===i?r.css(a.animProp,t):"ticker"===i&&r.animate(o,n,"linear",function(){B(s.resetValue,"reset",0),N()}))},g=function(){for(var t="",i="",n=h(),r=0;r<n;r++)i="",a.settings.buildPager&&e.isFunction(a.settings.buildPager)||a.settings.pagerCustom?(i=a.settings.buildPager(r),a.pagerEl.addClass("bx-custom-pager")):(i=r+1,a.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+r+'" class="bx-pager-link">'+i+"</a></div>";a.pagerEl.html(t)},f=function(){a.settings.pagerCustom?a.pagerEl=e(a.settings.pagerCustom):(a.pagerEl=e('<div class="bx-pager" />'),a.settings.pagerSelector?e(a.settings.pagerSelector).html(a.pagerEl):a.controls.el.addClass("bx-has-pager").append(a.pagerEl),g()),a.pagerEl.on("click touchend","a",w)},m=function(){a.controls.next=e('<a class="bx-next" href="" aria-hidden="true" aria-label="'+a.settings.nextText+'">'+a.settings.nextText+"</a>"),a.controls.prev=e('<a class="bx-prev" href="" aria-hidden="true" aria-label="'+a.settings.prevText+'">'+a.settings.prevText+"</a>"),a.controls.next.bind("click touchend",y),a.controls.prev.bind("click touchend",b),a.settings.nextSelector&&e(a.settings.nextSelector).append(a.controls.next),a.settings.prevSelector&&e(a.settings.prevSelector).append(a.controls.prev),a.settings.nextSelector||a.settings.prevSelector||(a.controls.directionEl=e('<div class="bx-controls-direction" />'),a.controls.directionEl.append(a.controls.prev).append(a.controls.next),a.controls.el.addClass("bx-has-controls-direction").append(a.controls.directionEl))},v=function(){a.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+a.settings.startText+"</a></div>"),a.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+a.settings.stopText+"</a></div>"),a.controls.autoEl=e('<div class="bx-controls-auto" />'),a.controls.autoEl.on("click",".bx-start",x),a.controls.autoEl.on("click",".bx-stop",k),a.settings.autoControlsCombine?a.controls.autoEl.append(a.controls.start):a.controls.autoEl.append(a.controls.start).append(a.controls.stop),a.settings.autoControlsSelector?e(a.settings.autoControlsSelector).html(a.controls.autoEl):a.controls.el.addClass("bx-has-controls-auto").append(a.controls.autoEl),M(a.settings.autoStart?"stop":"start")},_=function(){a.children.each(function(t){var i=e(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&e(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},y=function(e){e.preventDefault(),a.controls.el.hasClass("disabled")||(a.settings.auto&&a.settings.stopAutoOnClick&&r.stopAuto(),r.goToNextSlide())},b=function(e){e.preventDefault(),a.controls.el.hasClass("disabled")||(a.settings.auto&&a.settings.stopAutoOnClick&&r.stopAuto(),r.goToPrevSlide())},x=function(e){r.startAuto(),e.preventDefault()},k=function(e){r.stopAuto(),e.preventDefault()},w=function(t){var i,n;t.preventDefault(),a.controls.el.hasClass("disabled")||(a.settings.auto&&a.settings.stopAutoOnClick&&r.stopAuto(),i=e(t.currentTarget),void 0!==i.attr("data-slide-index")&&(n=parseInt(i.attr("data-slide-index")))!==a.active.index&&r.goToSlide(n))},S=function(t){var i=a.children.length;if("short"===a.settings.pagerType)return a.settings.maxSlides>1&&(i=Math.ceil(a.children.length/a.settings.maxSlides)),void a.pagerEl.html(t+1+a.settings.pagerShortSeparator+i);a.pagerEl.find("a").removeClass("active"),a.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")})},I=function(){if(a.settings.infiniteLoop){var e="";0===a.active.index?e=a.children.eq(0).position():a.active.index===h()-1&&a.carousel?e=a.children.eq((h()-1)*D()).position():a.active.index===a.children.length-1&&(e=a.children.eq(a.children.length-1).position()),e&&("horizontal"===a.settings.mode?B(-e.left,"reset",0):"vertical"===a.settings.mode&&B(-e.top,"reset",0))}a.working=!1,a.settings.onSlideAfter.call(r,a.children.eq(a.active.index),a.oldIndex,a.active.index)},M=function(e){a.settings.autoControlsCombine?a.controls.autoEl.html(a.controls[e]):(a.controls.autoEl.find("a").removeClass("active"),a.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},T=function(){1===h()?(a.controls.prev.addClass("disabled"),a.controls.next.addClass("disabled")):!a.settings.infiniteLoop&&a.settings.hideControlOnEnd&&(0===a.active.index?(a.controls.prev.addClass("disabled"),a.controls.next.removeClass("disabled")):a.active.index===h()-1?(a.controls.next.addClass("disabled"),a.controls.prev.removeClass("disabled")):(a.controls.prev.removeClass("disabled"),a.controls.next.removeClass("disabled")))},P=function(){if(a.settings.autoDelay>0){setTimeout(r.startAuto,a.settings.autoDelay)}else r.startAuto(),e(window).focus(function(){r.startAuto()}).blur(function(){r.stopAuto()});a.settings.autoHover&&r.hover(function(){a.interval&&(r.stopAuto(!0),a.autoPaused=!0)},function(){a.autoPaused&&(r.startAuto(!0),a.autoPaused=null)})},$=function(){var t,i,n,s,o,F,l,A,c=0;"next"===a.settings.autoDirection?r.append(a.children.clone().addClass("bx-clone")):(r.prepend(a.children.clone().addClass("bx-clone")),t=a.children.first().position(),c="horizontal"===a.settings.mode?-t.left:-t.top),B(c,"reset",0),a.settings.pager=!1,a.settings.controls=!1,a.settings.autoControls=!1,a.settings.tickerHover&&(a.usingCSS?(s="horizontal"===a.settings.mode?4:5,a.viewport.hover(function(){i=r.css("-"+a.cssPrefix+"-transform"),n=parseFloat(i.split(",")[s]),B(n,"reset",0)},function(){A=0,a.children.each(function(t){A+="horizontal"===a.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),o=a.settings.speed/A,F="horizontal"===a.settings.mode?"left":"top",l=o*(A-Math.abs(parseInt(n))),N(l)})):a.viewport.hover(function(){r.stop()},function(){A=0,a.children.each(function(t){A+="horizontal"===a.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),o=a.settings.speed/A,F="horizontal"===a.settings.mode?"left":"top",l=o*(A-Math.abs(parseInt(r.css(F)))),N(l)})),N()},N=function(e){var t,i,n,s=e||a.settings.speed,o={left:0,top:0},F={left:0,top:0};"next"===a.settings.autoDirection?o=r.find(".bx-clone").first().position():F=a.children.first().position(),t="horizontal"===a.settings.mode?-o.left:-o.top,i="horizontal"===a.settings.mode?-F.left:-F.top,n={resetValue:i},B(t,"ticker",s,n)},O=function(t){var i=e(window),n={top:i.scrollTop(),left:i.scrollLeft()},a=t.offset();return n.right=n.left+i.width(),n.bottom=n.top+i.height(),a.right=a.left+t.outerWidth(),a.bottom=a.top+t.outerHeight(),!(n.right<a.left||n.left>a.right||n.bottom<a.top||n.top>a.bottom)},L=function(e){var t=document.activeElement.tagName.toLowerCase();if(null==new RegExp(t,["i"]).exec("input|textarea")&&O(r)){if(39===e.keyCode)return y(e),!1;if(37===e.keyCode)return b(e),!1}},j=function(){a.touch={start:{x:0,y:0},end:{x:0,y:0}},a.viewport.bind("touchstart MSPointerDown pointerdown",Y),a.viewport.on("click",".bxslider a",function(e){a.viewport.hasClass("click-disabled")&&(e.preventDefault(),a.viewport.removeClass("click-disabled"))})},Y=function(e){if(a.controls.el.addClass("disabled"),a.working)e.preventDefault(),a.controls.el.removeClass("disabled");else{a.touch.originalPos=r.position();var t=e.originalEvent,i=void 0!==t.changedTouches?t.changedTouches:[t];a.touch.start.x=i[0].pageX,a.touch.start.y=i[0].pageY,a.viewport.get(0).setPointerCapture&&(a.pointerId=t.pointerId,a.viewport.get(0).setPointerCapture(a.pointerId)),a.viewport.bind("touchmove MSPointerMove pointermove",z),a.viewport.bind("touchend MSPointerUp pointerup",W),a.viewport.bind("MSPointerCancel pointercancel",R)}},R=function(e){B(a.touch.originalPos.left,"reset",0),a.controls.el.removeClass("disabled"),a.viewport.unbind("MSPointerCancel pointercancel",R),a.viewport.unbind("touchmove MSPointerMove pointermove",z),a.viewport.unbind("touchend MSPointerUp pointerup",W),a.viewport.get(0).releasePointerCapture&&a.viewport.get(0).releasePointerCapture(a.pointerId)},z=function(e){var t=e.originalEvent,i=void 0!==t.changedTouches?t.changedTouches:[t],n=Math.abs(i[0].pageX-a.touch.start.x),r=Math.abs(i[0].pageY-a.touch.start.y),s=0,o=0;3*n>r&&a.settings.preventDefaultSwipeX?e.preventDefault():3*r>n&&a.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==a.settings.mode&&a.settings.oneToOneTouch&&("horizontal"===a.settings.mode?(o=i[0].pageX-a.touch.start.x,s=a.touch.originalPos.left+o):(o=i[0].pageY-a.touch.start.y,s=a.touch.originalPos.top+o),B(s,"reset",0))},W=function(e){a.viewport.unbind("touchmove MSPointerMove pointermove",z),a.controls.el.removeClass("disabled");var t=e.originalEvent,i=void 0!==t.changedTouches?t.changedTouches:[t],n=0,s=0;a.touch.end.x=i[0].pageX,a.touch.end.y=i[0].pageY,"fade"===a.settings.mode?(s=Math.abs(a.touch.start.x-a.touch.end.x))>=a.settings.swipeThreshold&&(a.touch.start.x>a.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):("horizontal"===a.settings.mode?(s=a.touch.end.x-a.touch.start.x,n=a.touch.originalPos.left):(s=a.touch.end.y-a.touch.start.y,n=a.touch.originalPos.top),!a.settings.infiniteLoop&&(0===a.active.index&&s>0||a.active.last&&s<0)?B(n,"reset",200):Math.abs(s)>=a.settings.swipeThreshold?(s<0?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):B(n,"reset",200)),a.viewport.unbind("touchend MSPointerUp pointerup",W),a.viewport.get(0).releasePointerCapture&&a.viewport.get(0).releasePointerCapture(a.pointerId)},H=function(t){if(a.initialized)if(a.working)window.setTimeout(H,10);else{var i=e(window).width(),n=e(window).height();s===i&&o===n||(s=i,o=n,r.redrawSlider(),a.settings.onSliderResize.call(r,a.active.index))}},U=function(e){var t=u();a.settings.ariaHidden&&!a.settings.ticker&&(a.children.attr("aria-hidden","true"),a.children.slice(e,e+t).attr("aria-hidden","false"))},K=function(e){return e<0?a.settings.infiniteLoop?h()-1:a.active.index:e>=h()?a.settings.infiniteLoop?0:a.active.index:e};return r.goToSlide=function(t,i){var n,s,o,F,l=!0,A=0,c={left:0,top:0},C=null;if(a.oldIndex=a.active.index,a.active.index=K(t),!a.working&&a.active.index!==a.oldIndex){if(a.working=!0,void 0!==(l=a.settings.onSlideBefore.call(r,a.children.eq(a.active.index),a.oldIndex,a.active.index))&&!l)return a.active.index=a.oldIndex,void(a.working=!1);"next"===i?a.settings.onSlideNext.call(r,a.children.eq(a.active.index),a.oldIndex,a.active.index)||(l=!1):"prev"===i&&(a.settings.onSlidePrev.call(r,a.children.eq(a.active.index),a.oldIndex,a.active.index)||(l=!1)),a.active.last=a.active.index>=h()-1,(a.settings.pager||a.settings.pagerCustom)&&S(a.active.index),a.settings.controls&&T(),"fade"===a.settings.mode?(a.settings.adaptiveHeight&&a.viewport.height()!==d()&&a.viewport.animate({height:d()},a.settings.adaptiveHeightSpeed),a.children.filter(":visible").fadeOut(a.settings.speed).css({zIndex:0}),a.children.eq(a.active.index).css("zIndex",a.settings.slideZIndex+1).fadeIn(a.settings.speed,function(){e(this).css("zIndex",a.settings.slideZIndex),I()})):(a.settings.adaptiveHeight&&a.viewport.height()!==d()&&a.viewport.animate({height:d()},a.settings.adaptiveHeightSpeed),!a.settings.infiniteLoop&&a.carousel&&a.active.last?"horizontal"===a.settings.mode?(C=a.children.eq(a.children.length-1),c=C.position(),A=a.viewport.width()-C.outerWidth()):(n=a.children.length-a.settings.minSlides,c=a.children.eq(n).position()):a.carousel&&a.active.last&&"prev"===i?(s=1===a.settings.moveSlides?a.settings.maxSlides-D():(h()-1)*D()-(a.children.length-a.settings.maxSlides),C=r.children(".bx-clone").eq(s),c=C.position()):"next"===i&&0===a.active.index?(c=r.find("> .bx-clone").eq(a.settings.maxSlides).position(),a.active.last=!1):t>=0&&(F=t*parseInt(D()),c=a.children.eq(F).position()),void 0!==c?(o="horizontal"===a.settings.mode?-(c.left-A):-c.top,B(o,"slide",a.settings.speed)):a.working=!1),a.settings.ariaHidden&&U(a.active.index*D())}},r.goToNextSlide=function(){if(a.settings.infiniteLoop||!a.active.last){var e=parseInt(a.active.index)+1;r.goToSlide(e,"next")}},r.goToPrevSlide=function(){if(a.settings.infiniteLoop||0!==a.active.index){var e=parseInt(a.active.index)-1;r.goToSlide(e,"prev")}},r.startAuto=function(e){a.interval||(a.interval=setInterval(function(){"next"===a.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},a.settings.pause),a.settings.autoControls&&!0!==e&&M("stop"))},r.stopAuto=function(e){a.interval&&(clearInterval(a.interval),a.interval=null,a.settings.autoControls&&!0!==e&&M("start"))},r.getCurrentSlide=function(){return a.active.index},r.getCurrentSlideElement=function(){return a.children.eq(a.active.index)},r.getSlideElement=function(e){return a.children.eq(e)},r.getSlideCount=function(){return a.children.length},r.isWorking=function(){return a.working},r.redrawSlider=function(){a.children.add(r.find(".bx-clone")).outerWidth(E()),a.viewport.css("height",d()),a.settings.ticker||p(),a.active.last&&(a.active.index=h()-1),a.active.index>=h()&&(a.active.last=!0),a.settings.pager&&!a.settings.pagerCustom&&(g(),S(a.active.index)),a.settings.ariaHidden&&U(a.active.index*D())},r.destroySlider=function(){a.initialized&&(a.initialized=!1,e(".bx-clone",this).remove(),a.children.each(function(){void 0!==e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!==e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),a.controls.el&&a.controls.el.remove(),a.controls.next&&a.controls.next.remove(),a.controls.prev&&a.controls.prev.remove(),a.pagerEl&&a.settings.controls&&!a.settings.pagerCustom&&a.pagerEl.remove(),e(".bx-caption",this).remove(),a.controls.autoEl&&a.controls.autoEl.remove(),clearInterval(a.interval),a.settings.responsive&&e(window).unbind("resize",H),a.settings.keyboardEnabled&&e(document).unbind("keydown",L),e(this).removeData("bxSlider"))},r.reloadSlider=function(t){void 0!==t&&(n=t),r.destroySlider(),F(),e(r).data("bxSlider",this)},F(),e(r).data("bxSlider",this),this}}}(jQuery),function(e){"use strict";var t=function(e,t){this.init(e,t)},i={classNames:{wrapper:"custom-select",label:"custom-select-label",hasValue:"custom-select-has-value",list:"custom-select-list",selected:"custom-select-selected",scrollable:"custom-select-scrollable",disabled:"custom-select-disabled",prefix:"custom-select-",optgroup:"custom-select-optgroup"},defaultInList:0,sizeToOptions:1,maxHeight:300,isDefault:function(e,t){return!e.val()}};t.prototype={toggled:!1,init:function(t,n){function a(){var t;return C.$el.find("option").each(function(){e(this).prop("selected")&&(t=e(this).text())}),t}function r(){var t,i,n=document.createDocumentFragment(),r=(a(),"");C.$el.find("option").each(function(a){i=e(this),!C.o.defaultInList&&C.o.isDefault(i,C.$el)||(t=e("<li/>"),t.attr("data-select-index",a),i.prop("disabled")&&t.attr("disabled",!0),i.attr("aria-label")&&t.attr("aria-label",i.attr("aria-label")),t.text(i.text()),""!=this.className&&t.addClass(this.className),n.appendChild(t[0])),i.text().length>r.length&&(r=i.text())}),C.defaultOption=d(),C.$el.find("option, optgroup").each(function(a){i=e(this),i.is("optgroup")&&(t=e(i.hasClass("visually-hidden")?'<li class="visually-hidden '+C.o.classNames.optgroup+'"/>':'<li class="'+C.o.classNames.optgroup+'"/>'),t.text(i.attr("label")),n.insertBefore(t[0],n.childNodes[C.defaultOption&&!C.o.defaultInList?a-1:a]))}),C.$list.html(n),C.$list.find("li:not(."+C.o.classNames.optgroup+")").off("click",c).on("click",c),C.$list.find("."+C.o.classNames.optgroup).off("click",o).on("click",o),C.o.sizeToOptions&&(C.$labelText.text(r),r=C.$label.outerWidth(!0)+15,C.$wrapper.css("width")||C.$wrapper.width(r)),C.$list.outerHeight(!0)>C.o.maxHeight&&C.$list.height(C.o.maxHeight).addClass(C.o.classNames.scrollable),C.setValue(C.$el.val(),!0)}function s(e,t){if(t&&"formValidator"===t)return e.preventDefault();C.disabled||(e.stopPropagation(),C.toggle())}function o(e){return e.preventDefault(),!1}function F(){C.$target&&C.$target.length?C.$target.trigger("click"):C.toggled&&C.close()}function l(e){e.preventDefault();var t,i=C.$list.find("."+C.o.classNames.selected);38===e.keyCode?t=i.prev():40===e.keyCode&&(t=i.length?i.next():C.$list.children("li:first")),t&&t.length&&(i.removeClass(C.o.classNames.selected),t.addClass(C.o.classNames.selected),C.$target=t)}function A(e){13===e.keyCode&&(e.preventDefault(),F()),27===e.keyCode&&(e.preventDefault(),C.close()),9===e.keyCode&&C.close()}function c(t){t.stopPropagation(),void 0!==e(t.currentTarget).data("selectIndex")&&C.selectIndex(e(t.currentTarget).data("selectIndex"))}function d(){var t=!1;return C.$el.find("option").each(function(){C.o.isDefault(e(this),C.$el)&&(t={text:e(this).text(),value:e(this).val()})}),t}
if(t.data("customSelect"))return t.data("customSelect");this.o=e.extend({},i,n),this.$el=t;var C=this;!function(){var e=C.$el[0].className.split(" ");e=e.length>1?C.o.classNames.prefix+e.join(" "+C.o.classNames.prefix):" "+C.o.classNames.prefix+e[0],C.$el.wrap('<div class="'+C.o.classNames.wrapper+" "+e+'"></div>'),C.$wrapper=C.$el.parents("."+C.o.classNames.wrapper),C.$wrapper.append('<div class="'+C.o.classNames.label+'"><span></span></div>'),C.$label=C.$wrapper.find("."+C.o.classNames.label),C.$labelText=C.$label.find("span"),C.$wrapper.append('<ul class="'+C.o.classNames.list+'"></ul>'),C.$list=C.$wrapper.find("."+C.o.classNames.list),C.$el.prop("disabled")&&(C.disabled=!0,C.$wrapper.addClass(C.o.classNames.disabled))}(),r(),e(document).on("click",F),this.$label.on("click",s),this.$el.on("focus",s),this.$el.on("keyup",l),this.$el.on("keydown",A),this.refresh=function(){C.disabled=C.$el.prop("disabled"),C.$wrapper.toggleClass(C.o.classNames.disabled,C.disabled),r()},this.destroy=function(){C.$list.find("li:not(."+C.o.classNames.optgroup+")").off("click",c),C.$list.find("."+C.o.classNames.optgroup).off("click",o),e(document).off("click",F),C.$label.off("click",s),C.$el.detach(),C.$wrapper.after(C.$el),C.$wrapper.remove(),this.$el.removeData("customSelect")},this.$el.data("customSelect",this)},toggle:function(){this.toggled?this.close():this.open()},open:function(){this.toggled=!0,this.$wrapper.addClass("custom-select-toggled"),this.$wrapper.trigger("open")},close:function(){this.$target=null,this.toggled=!1,this.$wrapper.removeClass("custom-select-toggled"),this.$wrapper.trigger("close")},selectIndex:function(e,t,i){var n=this.defaultOption&&!this.o.defaultInList,a=this.$list.find("li:not(."+this.o.classNames.optgroup+")").removeClass(this.o.classNames.selected),r=n?e-1:e;r>-1&&(a=a.eq(r).addClass(this.o.classNames.selected)),this.$el[0].selectedIndex=e,this.$labelText.text(n&&(0===e||e<0)?this.defaultOption.text:a.text()),t||this.previousValue===this.$el.val()||this.$el.trigger("change"),this.$label.toggleClass(this.o.classNames.hasValue,this.$el.val()!==this.defaultOption.value),this.previousValue=this.$el.val(),this.close()},getValue:function(){return this.$el.val()},setValue:function(t,i){if(void 0!==t){var n;this.$el.find("option").each(function(i){e(this).val()===t&&(n=i)}),this.selectIndex(n,i)}}},e.fn.customSelect=function(i){if(0===this.length)return this;var n=e(this);return n.data("customSelect")?n.data("customSelect"):n.length>1?n.each(function(){e(this).customSelect(i)}):new t(e(this),i)},e.customSelect=function(t,i){return e(t).customSelect(i)}}(jQuery),/*! jQuery UI - v1.12.1 - 2017-02-07
* http://jqueryui.com
* Includes: keycode.js, widgets/datepicker.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){for(var t,i;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",i,function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,a)}function a(){e.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}e.ui=e.ui||{},e.ui.version="1.12.1",e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.extend(e.ui,{datepicker:{version:"1.12.1"}});var s;e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,a,r;n=t.nodeName.toLowerCase(),a="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),r=this._newInst(e(t),a),r.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,r):a&&this._inlineDatepicker(t,r)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,a,r,s=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[o?"before":"after"](i.append)),t.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.on("focus",this._showDatepicker),("button"===n||"both"===n)&&(a=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:r,alt:a,title:a}):e("<button type='button'></button>").addClass(this._triggerClass).html(r?e("<img/>").attr({src:r,alt:a,title:a}):a)),t[o?"before":"after"](i.trigger),i.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,a,r=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(i=0,n=0,a=0;e.length>a;a++)e[a].length>i&&(i=e[a].length,n=a);return n},r.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,a,s){var o,F,l,A,c,d=this._dialogInst;return d||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},e.data(this._dialogInput[0],"datepicker",d)),r(d.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(F=document.documentElement.clientWidth,l=document.documentElement.clientHeight,A=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[F/2-100+A,l/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var i,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(a.append.remove(),a.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),s===a&&(s=null))},_enableDatepicker:function(t){var i,n,a=e(t),r=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=a.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,a=e(t),r=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=a.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var a,s,o,F,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(a=i||{},"string"==typeof i&&(a={},a[i]=n),void(l&&(this._curInst===l&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),F=this._getMinMaxDate(l,"max"),r(l.settings,a),null!==o&&void 0!==a.dateFormat&&void 0===a.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==F&&void 0!==a.dateFormat&&void 0===a.maxDate&&(l.settings.maxDate=this._formatDate(l,F)),"disabled"in a&&(a.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,s),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,a,r=e.datepicker._getInst(t.target),s=!0,o=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return a=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv),a[0]&&e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,a[0]),i=e.datepicker._get(r,"onSelect"),i?(n=e.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,a=e.datepicker._getInst(t.target);return e.datepicker._get(a,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(a,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i))&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(i){if(i=i.target||i,"input"!==i.nodeName.toLowerCase()&&(i=e("input",i.parentNode)[0]),!e.datepicker._isDisabledDatepicker(i)&&e.datepicker._lastInput!==i){var n,a,s,o,F,l,A;n=e.datepicker._getInst(i),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(n,"beforeShow"),!1!==(s=a?a.apply(i,[i,n]):{})&&(r(n.settings,s),n.lastVal=null,e.datepicker._lastInput=i,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(i.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(i),e.datepicker._pos[1]+=i.offsetHeight),o=!1,e(i).parents().each(function(){return!(o|="fixed"===e(this).css("position"))}),F={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),F=e.datepicker._checkOffset(n,F,o),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:F.left+"px",top:F.top+"px"}),n.inline||(l=e.datepicker._get(n,"showAnim"),A=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",t(e(i))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?n.dpDiv.show(l,e.datepicker._get(n,"showOptions"),A):n.dpDiv[l||"show"](l?A:null),e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,s=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),r=n[1],o=t.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&a.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var a=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,F=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?a-s:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+a>F&&F>a?Math.abs(i.left+a-F):0),i.top-=Math.min(i.top,i.top+r>l&&l>r?Math.abs(r+o):0),i},_findPos:function(t){for(var i,n=this._getInst(t),a=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[a?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,a,r,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),a=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[i]||e.effects[i])?s.dpDiv.hide(i,e.datepicker._get(s,"showOptions"),n,a):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,a),i||a(),this._datepickerShowing=!1,r=this._get(s,"onClose"),r&&r.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var a=e(t),r=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(t){var i,n=e(t),a=this._getInst(n[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(i=new Date,a.selectedDay=i.getDate(),a.drawMonth=a.selectedMonth=i.getMonth(),a.drawYear=a.selectedYear=i.getFullYear()),this._notifyChange(a),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var a=e(t),r=this._getInst(a[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(a)},_selectDay:function(t,i,n,a){var r,s=e(t);e(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(r=this._getInst(s[0]),r.selectedDay=r.currentDay=e("a",a).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,a=e(t),r=this._getInst(a[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),n=this._get(r,"onSelect"),n?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var i,n,a,r=this._get(t,"altField");r&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),a=this.formatDate(i,n,this._getFormatConfig(t)),e(r).val(a))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?""+i:i+""))return null;var a,r,s,o,F=0,l=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,A="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,C=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,E=(n?n.monthNames:null)||this._defaults.monthNames,u=-1,h=-1,D=-1,p=-1,B=!1,g=function(e){var i=t.length>a+1&&t.charAt(a+1)===e;return i&&a++,i},f=function(e){var t=g(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,a="y"===e?n:1,r=RegExp("^\\d{"+a+","+n+"}"),s=i.substring(F).match(r);if(!s)throw"Missing number at position "+F;return F+=s[0].length,parseInt(s[0],10)},m=function(t,n,a){var r=-1,s=e.map(g(t)?a:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var n=t[1];return i.substr(F,n.length).toLowerCase()===n.toLowerCase()?(r=t[0],F+=n.length,!1):void 0}),-1!==r)return r+1;throw"Unknown name at position "+F},v=function(){if(i.charAt(F)!==t.charAt(a))throw"Unexpected literal at position "+F;F++};for(a=0;t.length>a;a++)if(B)"'"!==t.charAt(a)||g("'")?v():B=!1;else switch(t.charAt(a)){case"d":D=f("d");break;case"D":m("D",c,d);break;case"o":p=f("o");break;case"m":h=f("m");break;case"M":h=m("M",C,E);break;case"y":u=f("y");break;case"@":o=new Date(f("@")),u=o.getFullYear(),h=o.getMonth()+1,D=o.getDate();break;case"!":o=new Date((f("!")-this._ticksTo1970)/1e4),u=o.getFullYear(),h=o.getMonth()+1,D=o.getDate();break;case"'":g("'")?v():B=!0;break;default:v()}if(i.length>F&&(s=i.substr(F),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===u?u=(new Date).getFullYear():100>u&&(u+=(new Date).getFullYear()-(new Date).getFullYear()%100+(A>=u?0:-100)),p>-1)for(h=1,D=p;!((r=this._getDaysInMonth(u,h-1))>=D);)h++,D-=r;if(o=this._daylightSavingAdjust(new Date(u,h-1,D)),o.getFullYear()!==u||o.getMonth()+1!==h||o.getDate()!==D)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var n,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,F=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},l=function(e,t,i){var n=""+t;if(F(e))for(;i>n.length;)n="0"+n;return n},A=function(e,t,i,n){return F(e)?n[t]:i[t]},c="",d=!1;if(t)for(n=0;e.length>n;n++)if(d)"'"!==e.charAt(n)||F("'")?c+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":c+=l("d",t.getDate(),2);break;case"D":c+=A("D",t.getDay(),a,r);break;case"o":c+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",t.getMonth()+1,2);break;case"M":c+=A("M",t.getMonth(),s,o);break;case"y":c+=F("y")?t.getFullYear():(10>t.getFullYear()%100?"0":"")+t.getFullYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":F("'")?c+="'":d=!0;break;default:c+=e.charAt(n)}return c},_possibleChars:function(e){var t,i="",n=!1,a=function(i){var n=e.length>t+1&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;e.length>t;t++)if(n)"'"!==e.charAt(t)||a("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":a("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),r=a,s=this._getFormatConfig(e);try{r=this.parseDate(i,n,s)||a}catch(e){n=t?"":n}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=n?r.getDate():0,e.currentMonth=n?r.getMonth():0,e.currentYear=n?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var a=null==i||""===i?n:"string"==typeof i?function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(e){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),r=n.getMonth(),s=n.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,F=o.exec(i);F;){switch(F[2]||"d"){case"d":case"D":s+=parseInt(F[1],10);break;case"w":case"W":s+=7*parseInt(F[1],10);break;case"m":case"M":r+=parseInt(F[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(a,r));break;case"y":case"Y":a+=parseInt(F[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(a,r))}F=o.exec(i)}return new Date(a,r,s)}(i):"number"==typeof i?isNaN(i)?n:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,a=e.selectedMonth,r=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),a===e.selectedMonth&&r===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,a,r,s,o,F,l,A,c,d,C,E,u,h,D,p,B,g,f,m,v,_,y,b,x,k,w,S,I,M,T,P,$,N,O,L,j,Y=new Date,R=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),z=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),H=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),q=this._get(e,"stepMonths"),X=1!==K[0]||1!==K[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),G=this._getMinMaxDate(e,"max"),Q=e.drawMonth-V,ee=e.drawYear;if(0>Q&&(Q+=12,ee--),G)for(t=this._daylightSavingAdjust(new Date(G.getFullYear(),G.getMonth()-K[0]*K[1]+1,G.getDate())),t=J&&J>t?J:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)0>--Q&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,i=this._get(e,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Q-q,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>":H?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+i+"</span></a>",a=this._get(e,"nextText"),a=U?this.formatDate(a,this._daylightSavingAdjust(new Date(ee,Q+q,1)),this._getFormatConfig(e)):a,r=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+a+"</span></a>":H?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+a+"</span></a>",s=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?Z:R,s=U?this.formatDate(s,o,this._getFormatConfig(e)):s,F=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?F:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(z?"":F)+"</div>":"",A=parseInt(this._get(e,"firstDay"),10),A=isNaN(A)?0:A,c=this._get(e,"showWeek"),d=this._get(e,"dayNames"),C=this._get(e,"dayNamesMin"),E=this._get(e,"monthNames"),u=this._get(e,"monthNamesShort"),h=this._get(e,"beforeShowDay"),D=this._get(e,"showOtherMonths"),p=this._get(e,"selectOtherMonths"),B=this._getDefaultDate(e),g="",m=0;K[0]>m;m++){for(v="",this.maxRows=4,_=0;K[1]>_;_++){if(y=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),b=" ui-corner-all",x="",X){if(x+="<div class='ui-datepicker-group",K[1]>1)switch(_){case 0:x+=" ui-datepicker-group-first",b=" ui-corner-"+(z?"right":"left");break;case K[1]-1:x+=" ui-datepicker-group-last",b=" ui-corner-"+(z?"left":"right");break;default:x+=" ui-datepicker-group-middle",b=""}x+="'>"}for(x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+b+"'>"+(/all|left/.test(b)&&0===m?z?r:n:"")+(/all|right/.test(b)&&0===m?z?n:r:"")+this._generateMonthYearHeader(e,Q,ee,J,G,m>0||_>0,E,u)+"</div><table class='ui-datepicker-calendar'><thead><tr>",k=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",f=0;7>f;f++)w=(f+A)%7,k+="<th scope='col'"+((f+A+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[w]+"'>"+C[w]+"</span></th>";for(x+=k+"</tr></thead><tbody>",S=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,S)),I=(this._getFirstDayOfMonth(ee,Q)-A+7)%7,M=Math.ceil((I+S)/7),T=X&&this.maxRows>M?this.maxRows:M,this.maxRows=T,P=this._daylightSavingAdjust(new Date(ee,Q,1-I)),$=0;T>$;$++){for(x+="<tr>",N=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",f=0;7>f;f++)O=h?h.apply(e.input?e.input[0]:null,[P]):[!0,""],L=P.getMonth()!==Q,j=L&&!p||!O[0]||J&&J>P||G&&P>G,N+="<td class='"+((f+A+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(P.getTime()===y.getTime()&&Q===e.selectedMonth&&e._keyEvent||B.getTime()===P.getTime()&&B.getTime()===y.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!D?"":" "+O[1]+(P.getTime()===Z.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(L&&!D||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(L&&!D?"&#xa0;":j?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===Z.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);x+=N+"</tr>"}Q++,Q>11&&(Q=0,ee++),x+="</tbody></table>"+(X?"</div>"+(K[0]>0&&_===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),v+=x}g+=v}return g+=l,e._keyEvent=!1,g},_generateMonthYearHeader:function(e,t,i,n,a,r,s,o){
var F,l,A,c,d,C,E,u,h=this._get(e,"changeMonth"),D=this._get(e,"changeYear"),p=this._get(e,"showMonthAfterYear"),B="<div class='ui-datepicker-title'>",g="";if(r||!h)g+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(F=n&&n.getFullYear()===i,l=a&&a.getFullYear()===i,g+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",A=0;12>A;A++)(!F||A>=n.getMonth())&&(!l||a.getMonth()>=A)&&(g+="<option value='"+A+"'"+(A===t?" selected='selected'":"")+">"+o[A]+"</option>");g+="</select>"}if(p||(B+=g+(!r&&h&&D?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!D)B+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),C=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},E=C(c[0]),u=Math.max(E,C(c[1]||"")),E=n?Math.max(E,n.getFullYear()):E,u=a?Math.min(u,a.getFullYear()):u,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";u>=E;E++)e.yearshtml+="<option value='"+E+"'"+(E===i?" selected='selected'":"")+">"+E+"</option>";e.yearshtml+="</select>",B+=e.yearshtml,e.yearshtml=null}return B+=this._get(e,"yearSuffix"),p&&(B+=(!r&&h&&D?"":"&#xa0;")+g),B+="</div>"},_adjustInstDate:function(e,t,i){var n=e.selectedYear+("Y"===i?t:0),a=e.selectedMonth+("M"===i?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(n,a))+("D"===i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,a,r)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),a=i&&i>t?i:t;return n&&a>n?n:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var a=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(i,n+(0>t?t:a[0]*a[1]),1));return 0>t&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var i,n,a=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),s=null,o=null,F=this._get(e,"yearRange");return F&&(i=F.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(o+=n)),(!a||t.getTime()>=a.getTime())&&(!r||t.getTime()<=r.getTime())&&(!s||t.getFullYear()>=s)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1",e.datepicker}),function(e){var t=function(e,t){return this.init(e,t),this};t.prototype={init:function(e,t){this.$el=e;var i=navigator.userAgent;this.isAndroid=i.indexOf("Mozilla/5.0")>-1&&i.indexOf("Android ")>-1&&i.indexOf("AppleWebKit")>-1&&!(i.indexOf("Chrome")>-1),this.isPosbug=!1,this.setMask(t),this.fn={onInput:this.onInput.bind(this)},this.$el.on("input",this.fn.onInput),this.$el.data("fieldMask",this)},onInput:function(e){var t=this.$el[0],i=t.selectionStart,n=1;this.isAndroid&&(n=10,1==t.value.length&&0==i&&(this.isPosbug=!0)),this.isPosbug&&++i;var a=this.separators.indexOf(t.value.charAt(i-1))>-1;t.value=this.insertSeparators(this.cleanValue(t.value,a),a);var r=this;setTimeout(function(){""!=r.mask[i-1]&&++i,i>t.value.length&&(i=t.value.length),t.selectionEnd=i,t.selectionStart=i},n)},cleanValue:function(e,t){var i=this,n="";e=e.split("");for(var a=0,r=e.length;a<r;a++)(i.separators.indexOf(e[a])<0||t&&a===r-1)&&(n+=e[a]);return n},insertSeparators:function(e,t){var i="";e=e.split("");for(var n=0,a=e.length;n<a;++n)i.length+1<=this.mask.length&&(!i.length||"_"===this.mask[i.length]||t&&n===a-1||(i+=this.mask[i.length]),i+=e[n]);return i},setMask:function(e){return this.separators=e.replace(/_/g,"").split(""),this.mask=e.split(""),this.$el.val(this.insertSeparators(this.cleanValue(this.$el.val()))),this}},e.fn.fieldMask=function(i){return 0===this.length?this:e(this).data("fieldMask")?(i&&this.setMask(i),this):new t(e(this),i)},e.fieldMask=function(t,i){e(t).fieldMask(i)}}(jQuery),/* jQuery-FontSpy.js v3.0.0
 * https://github.com/patrickmarabeas/jQuery-FontSpy.js
 *
 * Copyright 2013, Patrick Marabeas http://pulse-dev.com
 * Released under the MIT license
 * http://opensource.org/licenses/mit-license.php
 *
 * Date: 02/11/2015
 */
function(e,t){fontSpy=function(e,i){var n=t("html"),a=t("body"),r=e;if("string"!=typeof r||""===r)throw"A valid fontName is required. fontName must be a string and must not be an empty string.";var s={font:r,fontClass:r.toLowerCase().replace(/\s/g,""),success:function(){},failure:function(){},testFont:"Courier New",testString:"QW@HhsXJ",glyphs:"",delay:50,timeOut:1e3,callback:t.noop},o=t.extend(s,i),F=t("<span>"+o.testString+o.glyphs+"</span>").css("position","absolute").css("top","-9999px").css("left","-9999px").css("visibility","hidden").css("fontFamily",o.testFont).css("fontSize","250px");a.append(F);var l=F.outerWidth();F.css("fontFamily",o.font+","+o.testFont);var A=function(){n.addClass("no-"+o.fontClass),o&&o.failure&&o.failure(),o.callback(new Error("FontSpy timeout")),F.remove()},c=function(){o.callback(),n.addClass(o.fontClass),o&&o.success&&o.success(),F.remove()},d=function(){setTimeout(C,o.delay),o.timeOut=o.timeOut-o.delay},C=function(){var e=F.outerWidth();l!==e?c():o.timeOut<0?A():d()};C()}}(0,jQuery),function(e){e.formValidatorMethods={regex:{alphanumeric:XRegExp("^[-'\\p{L}\\p{N}\\p{Z}]*$"),numeric:/^\d+$/,alpha:XRegExp("^[-'\\p{L}\\p{Z}]*$"),email:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},getFieldError:function(e){return this.validateField(e)},getGroupError:function(e,t){return this.validGroup(e,t.attr("data-validation-group"),t.attr("data-validation-min"))?0:3},validateField:function(e){var t=e.val();e.attr("data-uppercase")&&(t=t.toUpperCase());if(e.data("required")||!e.is(":checkbox")&&!e.is(":radio")&&t){if(!this.notEmpty(e))return 1;if(!this.validRegex(t,e.attr("data-regex")))return 2;if(!this.longerThanMin(t,e.attr("data-min-length")))return 2;if(!this.shorterThanMax(t,e.attr("maxlength")))return 2}return 0},notEmpty:function(e){return e.is(":checkbox")||e.is(":radio")?e.prop("checked"):!!e.val()},validRegex:function(e,t){return t&&this.regex[t]?this.regex[t].test(e):"string"!=typeof t||XRegExp(t).test(e)},longerThanMin:function(e,t){return!t||e.length>=t},shorterThanMax:function(e,t){return!t||e.length<=t},validGroup:function(t,i,n){n=n||1;var a,r=0;if($group=t.find("*[data-validation-group="+i+"]"),$group.first().attr("data-identical"))var s=$group.first().val();for(var o=0,F=$group.length;o<F;++o)a=e($group[o]),!(a.is(":checkbox")||a.is(":radio")?a.prop("checked"):a.val())||this.getFieldError(a)||s&&a.val()!==s||r++;return r>=n}};var t=function(e,t){this.init(e,t)};t.prototype={init:function(t,i){this.$form=t;var n={fieldWrapperSelector:".form-field",fieldErrorSelector:".form-field-error",submitSelector:'input[type="submit"]:last',disableSubmit:!0,$errorContainer:null,onSubmit:null};e.extend(this,e.formValidatorMethods),this.o=e.extend(n,i),this.$form=t,this.$submit=this.$form.find(this.o.submitSelector),i&&i.regex&&(e.formValidator.regex=i.regex),this.o.globalSelectors=this.o.fieldWrapperSelector+":visible input, "+this.o.fieldWrapperSelector+":visible select, "+this.o.fieldWrapperSelector+":visible textarea, .js-force-check",this.o.disableSubmit&&(this.$submit.prop("disabled",!this.validateAll(!0)),this.checkOnAutoFill()),this.addListeners(),t.data("formValidator",this)},validate:function(t,i,n){var a,r,s=this,o=[];return i||this.resetFieldsStatus(t),t.each(function(){a=e(this),r=n&&"password"===a.attr("type")?0:e.formValidatorMethods.getFieldError(a),!r&&a.attr("data-validation-group")&&(r=e.formValidatorMethods.getGroupError(s.$form,a)),r&&(o.push({code:r,$el:a}),3===r&&s.$form.find('*[data-validation-group="'+a.attr("data-validation-group")+'"]').each(function(){o.push({code:r,$el:e(this)})}))}),i||(o.length&&this.handleErrors(o),this.handleSuccess(t)),!o.length},validatePrevious:function(t,n,a){var r=[];this.$form.find(this.o.fieldWrapperSelector).each(function(){e(this).find("input:visible, select:visible, textarea:visible , .js-force-check").each(function(){r.push(e(this))})}),_multipleGroup=t.attr("data-multiple-group");var s,o=e();for(i=0,j=r.length;i<j&&(s=e(r[i]),!s.is(t));++i)_multipleGroup&&s.attr("data-multiple-group")&&s.attr("data-multiple-group")===_multipleGroup||o.push(s);a&&!_multipleGroup&&o.push(t);var F=this.validate(o,n);return this.o.disableSubmit&&this.$submit.prop("disabled",!F||!this.validateAll(!0)),F},validateAll:function(e,t){var i=this.validate(this.$form.find(this.o.globalSelectors),e,t);return this.o.disableSubmit&&this.$submit.prop("disabled",!i),i},handleErrors:function(t){var i,n,a,r=this;this.$form.find(this.o.globalSelectors).each(function(){if(a=e(this),n=a.parents(r.o.fieldWrapperSelector+":first"),i=r.findFieldErrorInArray(a,t)){switch(a.attr("data-error-code",i.code),i.code){case 1:_errorMessage=a.attr("data-empty");break;case 2:_errorMessage=a.attr("data-error");break;case 3:_errorMessage=a.attr("data-group-error")||a.attr("data-empty")}if(n.toggleClass("has-error",!0),_errorId=n.find(r.o.fieldErrorSelector).attr("id"),void 0!=_errorId){var s=a.attr("aria-describedby");s||(s=""),-1==s.indexOf(_errorId)&&(s+=" "+_errorId),a.attr("aria-describedby",s)}if(_errorMessage){if(r.getErrorContainer(a).html(_errorMessage).prop("hidden",!1),r.getErrorContainer(a).html(_errorMessage),3===i.code&&a.attr("data-validation-group")){var o,F=r.$form.find('*[data-validation-group="'+a.attr("data-validation-group")+'"]').parents(r.o.fieldWrapperSelector).find(".form-field-error").attr("id");r.$form.find('*[data-validation-group="'+a.attr("data-validation-group")+'"]').each(function(){o=e(this).parents(r.o.fieldWrapperSelector),o.toggleClass("has-error",!0),e(this).attr("aria-describedby",F),e(this).attr("data-error-code",3),o.attr("data-group-error")&&r.getErrorContainer(o).html(o.attr("data-group-error"))})}}}else"3"===!a.attr("data-error-code")&&a.removeAttr("data-error-code")})},handleSuccess:function(t){var i,n,a=this;t.each(function(){if(i=e(this),n=i.parents(a.o.fieldWrapperSelector+":first"),!n.hasClass("has-error")&&i.val()){n.toggleClass("has-success",!0);var t=n.find(a.o.fieldErrorSelector).attr("id");t&&i.attr("aria-describedby")?i.attr("aria-describedby",i.attr("aria-describedby").replace(t,"")):i.attr("aria-describedby","")}})},resetFieldsStatus:function(t){var i,n,a=this;t.each(function(){i=e(this),i.parents(a.o.fieldWrapperSelector+":first").removeClass("has-success").removeClass("has-error"),a.getErrorContainer(i).empty(),i.attr("data-validation-group")&&a.$form.find('*[data-validation-group="'+i.attr("data-validation-group")+'"]').not(i).each(function(){n=e(this),n.attr("data-error-code")&&"3"===n.attr("data-error-code")&&(n.parents(a.o.fieldWrapperSelector+":first").removeClass("has-error"),n.attr("aria-describedby",""),a.getErrorContainer(n).empty())})})},findFieldErrorInArray:function(t,i){for(var n=0,a=i.length;n<a;++n)if(e(i[n].$el).is(t))return i[n];return null},addListeners:function(){var e=this,t=0,i=0,n=function(t,n){i||(i=1,t.apply(e,n),setTimeout(function(){i=0},9))},a=function(i,n){t||(t=1,i.apply(e,n),setTimeout(function(){t=0},9))};this._onFocus=function(t){e.onFocus(t)},this._onBlur=function(t){n(e.onBlur,[t])},this._onInput=function(t){a(e.onInput,[t])},this._onSubmit=function(t){e.onSubmit(t)},this._onTab=function(t){e.onTab(t)},this.onAutofill=this.onAutofill.bind(this),this.$form.on("submit",this._onSubmit).find(this.o.globalSelectors).on("click focusin",this._onFocus).on("blur change focusout",this._onBlur).on("input keydown keyup change",this._onInput).on("keyup",this._onTab).on("animationstart",this.onAutofill)},removeListeners:function(){this.$form.off("submit",this._onSubmit).find(this.o.globalSelectors).off("click focusin",this._onFocus).off("blur change focusout",this._onBlur).off("input keydown keyup change",this._onInput).off("keyup",this._onTab).off("animationstart",this.onAutofill)},refreshListeners:function(){this.removeListeners(),this.addListeners(),this.validateAll(!0)},destroy:function(){this.removeListeners()},onFocus:function(t){var i=e(t.currentTarget);this.validatePrevious(i),i.parents(this.o.fieldWrapperSelector+":first").hasClass("has-error")&&this.validate(i)},onBlur:function(t){var i=e(t.currentTarget);i.attr("data-uppercase")&&this.uppercase(i),this.validatePrevious(i,!1,!0)},onAutofill:function(e){this.o.disableSubmit&&"onAutoFillStart"===e.originalEvent.animationName&&this.checkOnAutoFill()},checkOnAutoFill:function(){clearTimeout(this.autoFillTimeout);var e=this;this.autoFillTimeout=setTimeout(function(){e.validateAll(!0,!0)},300)},onInput:function(t){var i=e(t.currentTarget);i.attr("maxlength")&&this.limit(i,parseInt(i.attr("maxlength"))),i.attr("data-format")&&this.format(i,i.attr("data-format")),i.parents(this.o.fieldWrapperSelector).hasClass("has-error")&&this.validate(i),this.o.disableSubmit&&this.$submit.prop("disabled",!this.validateAll(!0))},onSubmit:function(t){var i=this;this.$form.find(this.o.globalSelectors).each(function(){var t=e(this);t.attr("data-uppercase")&&i.uppercase(t)}),this.validateAll()?this.o.onSubmit&&"function"==typeof this.o.onSubmit&&this.o.onSubmit(t):t.preventDefault()},onTab:function(t){9===(t.keyCode?t.keyCode:t.which)&&e(t.currentTarget).length&&(t.preventDefault(),setTimeout(function(){e(t.currentTarget).trigger("focus","formValidator")},10))},format:function(e,t){switch(t){case"alphanumeric":e.val().match(/[^0-9a-zA-Z_ ]/g)&&e.val(e.val().replace(/[^0-9a-zA-Z_ ]/g,""));break;case"numeric":e.val().match(/[^0-9.]/g)&&e.val(e.val().replace(/[^0-9.]/g,""));break;case"alphanumericWithAccent":e.val().match(/[^0-9a-zA-Z_àèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸçÇßØøÅåÆæœ@&!? ]/g)&&e.val(e.val().replace(/[^0-9a-zA-Z_àèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸçÇßØøÅåÆæœ@&!? ]/g,""));break;default:try{t=XRegExp(t),e.val().match(t)&&e.val(e.val().replace(t,""))}catch(e){console.log(e)}}},limit:function(e,t){e.val().length>t&&e.val(e.val().substr(0,t))},uppercase:function(e){e.val(e.val().toUpperCase())},getErrorContainer:function(e){return e.attr("data-error-container")?this.$form.find(e.attr("data-error-container")):e.parents(this.o.fieldWrapperSelector+":first").find(this.o.fieldErrorSelector)},reset:function(){this.$form[0].reset(),this.resetFieldsStatus(this.$form.find(this.o.globalSelectors))}},e.fn.formValidator=function(i){return 0===this.length?this:this.data("formValidator")?(this.data("formValidator").refreshListeners(),e(this).data("formValidator")):this.each(function(){return new t(e(this),i)})},e.formValidator=function(t,i){return e(t).formValidator(i)}}(jQuery),/*!
 * hoverIntent v1.8.0 // 2014.06.29 // jQuery v1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
function(e){e.fn.hoverIntent=function(t,i,n){var a={interval:100,sensitivity:6,timeout:0};a="object"==typeof t?e.extend(a,t):e.isFunction(i)?e.extend(a,{over:t,out:i,selector:n}):e.extend(a,{over:t,out:t,selector:i});var r,s,o,F,l=function(e){r=e.pageX,s=e.pageY},A=function(t,i){if(i.hoverIntent_t=clearTimeout(i.hoverIntent_t),Math.sqrt((o-r)*(o-r)+(F-s)*(F-s))<a.sensitivity)return e(i).off("mousemove.hoverIntent",l),i.hoverIntent_s=!0,a.over.apply(i,[t]);o=r,F=s,i.hoverIntent_t=setTimeout(function(){A(t,i)},a.interval)},c=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,a.out.apply(t,[e])},d=function(t){var i=e.extend({},t),n=this;n.hoverIntent_t&&(n.hoverIntent_t=clearTimeout(n.hoverIntent_t)),"mouseenter"===t.type?(o=i.pageX,F=i.pageY,e(n).on("mousemove.hoverIntent",l),n.hoverIntent_s||(n.hoverIntent_t=setTimeout(function(){A(i,n)},a.interval))):(e(n).off("mousemove.hoverIntent",l),n.hoverIntent_s&&(n.hoverIntent_t=setTimeout(function(){c(i,n)},a.timeout)))};return this.on({"mouseenter.hoverIntent":d,"mouseleave.hoverIntent":d},a.selector)}}(jQuery),function(e){e.fn.onImagesLoaded=function(t){function i(){this.onload=null,++s===r&&t()}if(0===this.length)return this;"function"!=typeof t&&e.error("onImagesLoaded needs a callback");var n,a=e(this),r=a.length,s=0;return a.each(function(){n=e(this)[0],n.complete?i.call(n):n.onload=i}),this}}(jQuery),function(e){var t=function(e,t){this.init(e,t)};t.prototype={init:function(t,i){var n={selectors:{wrapper:".jq-scroller-wrapper",scrollbar:".jq-scroller-scrollbar",thumb:".jq-scroller-thumb",disabled:".jq-scroller-disabled"},axis:"y",size:void 0,scrollbar:1,wheel:1,wheelSpeed:40,swipe:1,preventDefaultScroll:!1};this.$el=t,this.initialStyle=this.$el.attr("style")||"",this.o=e.extend(n,i),this.setAxisVariables(),this.wrap(),this.o.scrollbar&&this.buildScrollbar(),this.setSizes(),this.setPosition(0),this._onScrollbarPointerDown=this.onScrollbarPointerDown.bind(this),this._onPointerDown=this.onPointerDown.bind(this),this._onPointerMove=this.onPointerMove.bind(this),this._onPointerUp=this.onPointerUp.bind(this),this._onMousewheel=this.onMousewheel.bind(this),this.addListeners(),this.$el.data("scroller",this)},setAxisVariables:function(){"x"===this.o.axis?(this.direction="left",this.sizeValue="width",this.oppositeSizeValue="height",this.outerFunction="outerWidth",this.oppositeOuterFunction="outerHeight"):(this.direction="top",this.sizeValue="height",this.oppositeSizeValue="width",this.outerFunction="outerHeight",this.oppositeOuterFunction="outerWidth")},wrap:function(){this.$el.parents(this.o.selectors.wrapper).length?this.hadWrapper=!0:this.$el.wrap('<div class="'+i(this.o.selectors.wrapper)+'"></div>'),this.$wrapper=this.$el.parents(this.o.selectors.wrapper),this.wrapperInitialStyle=this.$el.attr("style")},buildScrollbar:function(){this.$wrapper.append('<div class="'+i(this.o.selectors.scrollbar)+'"></div>'),this.$scrollbar=this.$wrapper.find(this.o.selectors.scrollbar),this.$scrollbar.append('<div class="'+i(this.o.selectors.thumb)+'"></div>'),this.$thumb=this.$wrapper.find(this.o.selectors.thumb)},setSizes:function(e){var t={overflow:"hidden"};if(t[this.sizeValue]="100%",this.elOuter=void 0!==this.o.size?this.o.size:this.$el[this.outerFunction](!0),this.$el.css(this.sizeValue,this.elOuter),this.$wrapper.css({position:"absolute",overflow:"hidden"}),this.o.scrollbar&&this.$scrollbar.css(t),t[this.oppositeSizeValue]=this.$el[this.oppositeOuterFunction](!0),t.position="relative",this.$wrapper.css(t),this.wrapperOuter=this.$wrapper[this.outerFunction](!0),this.leeway=this.elOuter-this.wrapperOuter,this.o.scrollbar){var n=this.wrapperOuter/this.elOuter;this.thumbSize=n*this.$scrollbar[this.outerFunction](!0),this.thumbsPercentsWidth=this.thumbSize/this.wrapperOuter*100,this.$thumb.css(this.sizeValue,this.thumbSize),this.$wrapper.toggleClass(i(this.o.selectors.disabled),n>=1)}},_reset:function(){this.$wrapper.removeAttr("style").attr("style",this.wrapperInitialStyle),this.$el.removeAttr("style").attr("style",this.initialStyle),this.$wrapper.css({position:"static",overflow:"auto"}),this.$wrapper.toggleClass(i(this.o.selectors.disabled),!0)},reset:function(){this._reset(),this.setSizes(),this.setPosition(0)},setPosition:function(e){e=Math.max(Math.min(e,0),-this.leeway),this.$el.css(this.direction,e),this.o.scrollbar&&this.$thumb.css(this.direction,Math.abs(e)/this.leeway*(100-this.thumbsPercentsWidth)+"%"),this.position=e},animateScroll:function(e,t){e=Math.max(Math.min(e,0),-this.leeway);var i={};i[this.direction]=e;var n=this;if(this.$el.animate(i,t,function(){n.position=e}),this.o.scrollbar){var a={};a[this.direction]=Math.abs(e)/this.leeway*(100-this.thumbsPercentsWidth)+"%",this.$thumb.animate(a,t)}},addListeners:function(){this.o.scrollbar&&(this.$scrollbar.on("mousedown touchstart",this._onScrollbarPointerDown),e(document).on("mousemove touchmove",this._onPointerMove).on("mouseup touchend",this._onPointerUp)),this.o.wheel&&this.$wrapper.on("mousewheel DOMMouseScroll",this._onMousewheel),this.o.swipe&&(this.$wrapper.on("touchstart",this._onPointerDown),e(document).on("touchmove",this._onPointerMove).on("touchend",this._onPointerUp))},removeListeners:function(){this.o.scrollbar&&(this.$scrollbar.off("mousedown touchstart",this._onScrollbarPointerDown),e(document).off("mousemove touchmove",this._onPointerMove).off("mouseup touchend",this._onPointerUp)),this.o.wheel&&this.$wrapper.off("mousewheel DOMMouseScroll",this._onMousewheel),this.o.swipe&&(this.$wrapper.off("touchstart",this._onPointerDown),e(document).off("touchmove",this._onPointerMove).off("touchend",this._onPointerUp))},onScrollbarPointerDown:function(e){e.stopImmediatePropagation(),e=n(e),this.draggingScrollbar=!0,this.prevCoordinates=e},onPointerDown:function(e){e=n(e),this.swiping=!0,this.prevCoordinates=e},onPointerMove:function(e){if(this.draggingScrollbar||this.swiping){e.preventDefault(),e=n(e);var t=("x"===this.o.axis?e.x-this.prevCoordinates.x:e.y-this.prevCoordinates.y)/this.wrapperOuter;this.swiping&&(t=-t),this.setPosition(this.position-t*this.elOuter),this.prevCoordinates=e}},onPointerUp:function(e){this.draggingScrollbar=!1,this.swiping=!1},onMousewheel:function(e){this.setPosition(this.position+((e.originalEvent.wheelDelta||-e.originalEvent.detail)>0?1:-1)*this.o.wheelSpeed),this.o.preventDefaultScroll&&this.leeway!==Math.abs(this.position)&&0!==this.position&&e.preventDefault()},refresh:function(e){e&&(this.o.size=e);var t=this.position/this.elOuter;this.reset(),this.setPosition(t*this.elOuter)},destroy:function(){this.$scrollbar.remove(),this._reset(),this.hadWrapper||(this.$el.detach(),this.$wrapper.after(this.$el).remove()),this.removeListeners(),this.$el.data("scroller",null)}},e.fn.scroller=function(i){return 0===this.length?this:e(this).data("scroller")?e(this).data("scroller"):e(this).each(function(){return new t(e(this),i)})},e.scroller=function(t,i){return e(t).scroller(i)},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a});var i=function(e){return e.replace(/^[\.#]/,"")},n=function(e){return void 0!==e.pageX?{x:e.pageX,y:e.pageY}:{x:e.originalEvent.changedTouches[0].pageX,y:e.originalEvent.changedTouches[0].pageY}}}(jQuery),function(e){var t=function(e,t,i){this.init(e,t,i)};t.prototype={neverSelected:!0,init:function(e,t,i){this.$el=e,this.object=i,this.$sublist=t,this.onChangeProxy=this.onChange.bind(this),this.$el.on("change",this.onChangeProxy),this.onChange()},refreshListeners:function(){this.destroy(),this.$el.on("change",this.onChangeProxy)},destroy:function(){this.$el.off("change",this.onChangeProxy)},buildList:function(e){var t,i=document.createDocumentFragment();e.forEach(function(e){t=document.createElement("option"),t.innerText=e.text,t.value=e.value,e.selected&&this.neverSelected&&(this.neverSelected=!1,t.defaultSelected=!0),i.appendChild(t)}),this.$sublist.html(i)},onChange:function(){this.object[this.$el.val()]&&this.buildList(this.object[this.$el.val()])}},e.fn.sublistSelect=function(i,n){if(0===this.length)return this;i instanceof jQuery||(i=e(this).closest("select"))instanceof jQuery||e.error("jQuery.sublistSelect requires a valid $sublist jQuery element as first parameter"),n||e.error("jQuery.sublistSelect requires an object parameter holding its list arrays");var a=new t(e(this),i,n);return this.data("sublistSelect",a),a}}(jQuery),function(e){var t=function(e,t){this.init(e,t)};t.prototype={init:function(t,i){var n={$container:e(".js-tooltip-container"),$messageContainer:e(".js-tooltip-message-container"),message:".js-tooltip-message",$triangle:e(".js-tooltip-triangle"),minWidth:50,maxWidth:null,margin:10,events:"click blur"},a=this;this.o=e.extend(n,i),this.$triggers=t,this.fn={toggle:function(t){a.toggle(t,e(t.currentTarget))}},this.$triggers.on(this.o.events,this.fn.toggle);var a=this;e(document).on("keydown",function(e){27===e.originalEvent.keyCode&&a.o.$container.hasClass("active")&&a.o.$container.toggleClass("active",!1)})},toggle:function(e,t){e.preventDefault(),this.triggerPosition=t.position(),this.triggerOffset=t.offset(),this.setContainerWidth(t,this.o.$container),this.$triggers.not(t).removeClass("active"),t.toggleClass("active"),this.o.$messageContainer.html(t.find(this.o.message).html());var i=t.hasClass("active");this.setContainerPosition(t,i),this.o.$container.toggleClass("active",i)},setContainerWidth:function(t){var i=this.o.width?this.o.width:5*t.find(this.o.message).html().length,n=this.o.maxWidth?this.o.maxWidth:e(window).width()-60;containerWidth=Math.max(Math.min(i,n),this.o.minWidth),this.o.$container.width(containerWidth)},setContainerPosition:function(t,i){if(!i)return this.o.$container.removeAttr("style");this.cssPosition={top:Math.min(Math.floor(Math.max(this.o.margin,this.triggerOffset.top-this.o.$container.outerHeight()-this.o.margin)),e(document).height()-this.o.$container.outerHeight()-this.o.margin),left:Math.min(Math.floor(Math.max(this.triggerOffset.left-.5*this.o.$container.outerWidth()+.5*t.outerWidth(),this.o.margin)),e(window).width()-this.o.$container.outerWidth()-this.o.margin)},this.o.$container.css(this.cssPosition),this.o.$triangle.length&&this.setTrianglePosition(t)},setTrianglePosition:function(e){this.o.$triangle.css("left",Math.floor(this.triggerOffset.left-this.cssPosition.left+.5*e.outerWidth()-.5*this.o.$triangle.outerWidth()))},destroy:function(){this.$triggers.off("click",this.fn.toggle)}},e.fn.tooltip=function(i){return 0===this.length?this:e(this).data("tooltip")?e(this).data("tooltip"):new t(e(this),i)},e.tooltip=function(t,i){return e(t).tooltip(i)}}(jQuery),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var i=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=i,n}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function t(i){function n(t,a,r){var s;if("undefined"!=typeof document){if(arguments.length>1){if(r=e({path:"/"},n.defaults,r),"number"==typeof r.expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*r.expires),r.expires=o}r.expires=r.expires?r.expires.toUTCString():"";try{s=JSON.stringify(a),/^[\{\[]/.test(s)&&(a=s)}catch(e){}a=i.write?i.write(a,t):encodeURIComponent(a+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(t+""),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var F="";for(var l in r)r[l]&&(F+="; "+l,!0!==r[l]&&(F+="="+r[l]));return document.cookie=t+"="+a+F}t||(s={});for(var A=document.cookie?document.cookie.split("; "):[],c=0;c<A.length;c++){var d=A[c].split("="),C=d.slice(1).join("=");'"'===C.charAt(0)&&(C=C.slice(1,-1));try{var E=d[0].replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);if(C=i.read?i.read(C,E):i(C,E)||C.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent),this.json)try{C=JSON.parse(C)}catch(e){}if(t===E){s=C;break}t||(s[E]=C)}catch(e){}}return s}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,i){n(t,"",e(i,{expires:-1}))},n.withConverter=t,n}return t(function(){})}),function(e,t,i){function n(e,t){return typeof e===t}function a(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):g?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function r(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")}function s(e,t){return!!~(""+e).indexOf(t)}function o(e,t){return function(){return e.apply(t,arguments)}}function F(e,t,i){var a;for(var r in e)if(e[r]in t)return!1===i?e[r]:(a=t[e[r]],n(a,"function")?o(a,i||t):a);return!1}function l(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function A(){var e=t.body;return e||(e=a(g?"svg":"body"),e.fake=!0),e}function c(e,i,n,r){var s,o,F,l,c="modernizr",d=a("div"),C=A();if(parseInt(n,10))for(;n--;)F=a("div"),F.id=r?r[n]:c+(n+1),d.appendChild(F);return s=a("style"),s.type="text/css",s.id="s"+c,(C.fake?C:d).appendChild(s),C.appendChild(d),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(t.createTextNode(e)),d.id=c,C.fake&&(C.style.background="",C.style.overflow="hidden",l=B.style.overflow,B.style.overflow="hidden",B.appendChild(C)),o=i(d,e),C.fake?(C.parentNode.removeChild(C),B.style.overflow=l,B.offsetHeight):d.parentNode.removeChild(d),!!o}function d(t,n){var a=t.length;if("CSS"in e&&"supports"in e.CSS){for(;a--;)if(e.CSS.supports(l(t[a]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];a--;)r.push("("+l(t[a])+":"+n+")");return r=r.join(" or "),c("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return i}function C(e,t,o,F){function l(){c&&(delete b.style,delete b.modElem)}if(F=!n(F,"undefined")&&F,!n(o,"undefined")){var A=d(e,o);if(!n(A,"undefined"))return A}for(var c,C,E,u,h,D=["modernizr","tspan","samp"];!b.style&&D.length;)c=!0,b.modElem=a(D.shift()),b.style=b.modElem.style;for(E=e.length,C=0;E>C;C++)if(u=e[C],h=b.style[u],s(u,"-")&&(u=r(u)),b.style[u]!==i){if(F||n(o,"undefined"))return l(),"pfx"!=t||u;try{b.style[u]=o}catch(e){}if(b.style[u]!=h)return l(),"pfx"!=t||u}return l(),!1}function E(e,t,i,a,r){var s=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+m.join(s+" ")+s).split(" ");return n(t,"string")||n(t,"undefined")?C(o,t,a,r):(o=(e+" "+_.join(s+" ")+s).split(" "),F(o,t,i))}var u=[],h=[],D={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){h.push({name:e,fn:t,options:i})},addAsyncTest:function(e){h.push({name:null,fn:e})}},p=function(){};p.prototype=D,p=new p;var B=t.documentElement,g="svg"===B.nodeName.toLowerCase();p.addTest("video",function(){var e=a("video"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(e){}return t});var f="Moz O ms Webkit",m=D._config.usePrefixes?f.split(" "):[];D._cssomPrefixes=m;var v=function(t){var n,a=k.length,r=e.CSSRule;if(void 0===r)return i;if(!t)return!1;if(t=t.replace(/^@/,""),(n=t.replace(/-/g,"_").toUpperCase()+"_RULE")in r)return"@"+t;for(var s=0;a>s;s++){var o=k[s];if(o.toUpperCase()+"_"+n in r)return"@-"+o.toLowerCase()+"-"+t}return!1};D.atRule=v;var _=D._config.usePrefixes?f.toLowerCase().split(" "):[];D._domPrefixes=_;var y={elem:a("modernizr")};p._q.push(function(){delete y.elem});var b={style:y.elem.style};p._q.unshift(function(){delete b.style}),D.testAllProps=E;var x=D.prefixed=function(e,t,i){return 0===e.indexOf("@")?v(e):(-1!=e.indexOf("-")&&(e=r(e)),t?E(e,t,i):E(e,"pfx"))};p.addTest("fullscreen",!(!x("exitFullscreen",t,!1)&&!x("cancelFullScreen",t,!1)));var k=D._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];D._prefixes=k,function(){var e,t,i,a,r,s,o;for(var F in h)if(h.hasOwnProperty(F)){if(e=[],t=h[F],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(a=n(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)s=e[r],o=s.split("."),1===o.length?p[o[0]]=a:(!p[o[0]]||p[o[0]]instanceof Boolean||(p[o[0]]=new Boolean(p[o[0]])),p[o[0]][o[1]]=a),u.push((a?"":"no-")+o.join("-"))}}(),function(e){var t=B.className,i=p._config.classPrefix||"";if(g&&(t=t.baseVal),p._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}p._config.enableClasses&&(t+=" "+i+e.join(" "+i),g?B.className.baseVal=t:B.className=t)}(u),delete D.addTest,delete D.addAsyncTest;for(var w=0;w<p._q.length;w++)p._q[w]();e.Modernizr=p}(window,document);
!function e(t,i,n){function o(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return o(i||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=e("../modules/Dispatcher.js"),s=function(e){return e&&e.__esModule?e:{default:e}}(r),a=function(){function e(t,i){n(this,e),this.init(t,i)}return o(e,[{key:"init",value:function(e,t){var i=this;this.dispatcher=new s.default,this.scroll=void 0===t.scroll||t.scroll,this._toggle=function(e){i.toggle(e,$(e.currentTarget))},"function"==typeof t?this.on("toggle",t):(t.onToggle&&(this.on("toggle",t.onToggle),delete t.onToggle),$.extend(this,t)),this.$trigger=e,this.$trigger.on("click",this._toggle),this.$trigger.data("accordion",this)}},{key:"toggle",value:function(e,t){e&&e.preventDefault();var i=t.hasClass("active");t.toggleClass("active"),i?this.close(t):this.open(t)}},{key:"open",value:function(e){var t=this,i=$(e.attr("data-accordion-target"));this.dispatcher.trigger("open",i,e),e.attr("data-accordion-dependency")?$(e.attr("data-accordion-dependency")).not(e).each(function(i,n){var o=$(n);if(o.hasClass("active")){var r=$(o.removeClass("active").attr("data-accordion-target"));diorV7.DOMStateManager.slideUp(r,"aria-expanded",function(){t.dispatcher.trigger("closed",r),t.scroll&&$("html, body").animate({scrollTop:e.offset().top-20},300)})}}):e.hasClass("js-scroll-on-open")&&this.scroll&&$("html, body").animate({scrollTop:e.offset().top-20},300),diorV7.DOMStateManager.slideDown(i,"aria-expanded",function(){var n=i.find(".js-select");n.length&&n.each(function(){void 0!==$(this).data("customSelect")&&$(this).data("customSelect").refresh()}),t.dispatcher.trigger("toggle",!0,i,e),t.dispatcher.trigger("opened",i,e)})}},{key:"close",value:function(e){var t=this,i=$(e.attr("data-accordion-target"));this.dispatcher.trigger("close",i,e),diorV7.DOMStateManager.slideUp(i,"aria-expanded",function(){t.dispatcher.trigger("toggle",!1,i,e),t.dispatcher.trigger("closed",i,e)})}},{key:"on",value:function(e,t){this.dispatcher.on(e,t)}},{key:"destroy",value:function(){this.$trigger.off("click",this._toggle)}}]),e}();i.default=a},{"../modules/Dispatcher.js":31}],2:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r={classNames:{wrapper:"autocomplete-wrapper",list:"autocomplete-list",ada:"js-autocomplete-search-help"},debounce:150,max:0,restrictive:!1},s=function(){function e(t,i){n(this,e),this.init(t,i)}return o(e,[{key:"init",value:function(e,t){this.$input=e,this.o=$.extend(r,t),this.$adaResult=$("."+this.o.classNames.ada).find(".js-count-result"),this.buildWrapper(),this.buildList(),this.addListeners(),this.$input.data("AutoComplete",this),t&&t.restrictive&&(this.previousValue=this.$input.val())}},{key:"addListeners",value:function(){this._onInput=this.onInput.bind(this),this._onClickOnOption=this.onClickOnOption.bind(this),this._onFocus=this.onFocus.bind(this),this._onClickOutside=this.onClickOutside.bind(this),this.$input.on("input keyup",this._onInput),this.$input.on("focus",this._onFocus),this.$list.on("click","li",this._onClickOnOption),$(document).on("click",this._onClickOutside)}},{key:"removeListeners",value:function(){this.$input.off("input keyp",this._onInput),this.$input.off("focus",this._onFocus),this.$list.off("click","li",this._onClickOnOption),$(document).off("click",this._onClickOutside)}},{key:"buildWrapper",value:function(){this.$wrapper=this.$input.wrap('<div class="'+this.o.classNames.wrapper+'" />').parent()}},{key:"buildList",value:function(){var e=document.createElement("ul");e.className=this.o.classNames.list,this.$list=$(e),this.$list.attr("role","listbox").attr("id",this.o.classNames.list),this.$wrapper.find("input").attr("aria-controls",this.o.classNames.list),this.$wrapper.append(this.$list)}},{key:"fillList",value:function(e){if(this.$list.empty(),this.$wrapper.find("input").attr("aria-expanded",!1),e.length){var t=void 0;this.$adaResult.html(e.length);for(var i=0,n=!this.o.max||e.length<this.o.max?e.length:this.o.max;i<n;++i)t=document.createElement("li"),$(t).attr("role","option").attr("tabindex","-1"),t.innerHTML='<a href="#">'+e[i]+"</a>",this.$list.append(t)}else this.$adaResult.html(e.length);this.toggleList(!0)}},{key:"toggleList",value:function(e){e=void 0===e?!this.$input.hasClass("active"):e,this.$input.toggleClass("active",e),this.$wrapper.find("input").attr("aria-expanded",e)}},{key:"updateList",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){var t=e.$input.val();if(t){var i=e.o.values.filter(function(e){return e.toLowerCase().substring(0,t.length)===t.toLowerCase()});e.fillList(i)}},this.o.debounce)}},{key:"onFocus",value:function(){this.toggleList(!0),this.updateList(),this.arrowNav()}},{key:"arrowNav",value:function(){var e=this;$(this.$wrapper).on("keydown",function(t){var i=$(t.target);switch(t.keyCode){case 40:i.next("#autocomplete-list").length?i.next("#autocomplete-list").find("a:first").focus():!i.next().length&&i.parent().next().find("a").length&&i.parent().next().find("a:first").focus(),t.preventDefault();break;case 38:i.prev().length||i.parent().prev().find("a").length?!i.prev().length&&i.parent().prev().find("a").length&&i.parent().prev().find("a:first").focus():e.$input.focus();break;case 27:e.$input.focus(),e.$adaResult.html("0"),diorV7.DOMStateManager.hide(e.$wrapper.find("#autocomplete-list"));break;case 9:e.$wrapper.find("button:first").focus(),e.$adaResult.html("0"),diorV7.DOMStateManager.hide(e.$wrapper.find("#autocomplete-list"));break;default:diorV7.DOMStateManager.show(e.$wrapper.find("#autocomplete-list"))}})}},{key:"onClickOutside",value:function(e){this.$input.is(e.target)||this.$list.is(e.target)||0!==this.$input.has(e.target).length||0!==this.$list.has(e.target).length||this.toggleList(!1)}},{key:"onInput",value:function(e){this.o.restrictive&&this.restrict(),this.updateList()}},{key:"onClickOnOption",value:function(e){this.$input.val($(e.currentTarget).text()),this.toggleList(!1)}},{key:"destroy",value:function(){this.$wrapper.after(this.$input.detach()),this.$wrapper.remove(),this.removeListeners()}},{key:"setValues",value:function(e){this.o.values=e,this.$list.empty()}},{key:"restrict",value:function(){for(var e=this.$input.val().toLowerCase(),t=!0,i=0,n=this.o.values.length;i<n;++i)if(0===this.o.values[i].toLowerCase().lastIndexOf(e,0)){t=!1;break}t?this.$input.val(this.previousValue):this.previousValue=this.$input.val()}}]),e}();i.default=s},{}],3:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("./AutoComplete.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(e,i,r,s,a){n(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return l.valueId=i,l.valueLabel=r,l.$hidden=s,a&&a.values&&l.flattenValues(a.values),l}return r(t,e),s(t,[{key:"flattenValues",value:function(e){var t=this;this.flatValues=[],e.forEach(function(e){t.flatValues.push(e[t.valueLabel])})}},{key:"updateList",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){var t=e.$input.val();if(t){var i=e.flatValues.filter(function(e){return e.toLowerCase().substring(0,t.length)===t.toLowerCase()});e.fillList(i)}},this.o.debounce)}},{key:"onClickOnOption",value:function(e){var t=$(e.currentTarget).text();this.$input.val(t),this.toggleList(!1),this.$hidden.val(this.o.values[this.flatValues.indexOf(t)][this.valueId])}},{key:"setValues",value:function(e){this.o.values=e,this.flattenValues(e);var t=this.$hidden.val();this.$hidden.val(""),this.$list.empty(),void 0!==t&&this.setFromId(t)}},{key:"restrict",value:function(){for(var e=this.$input.val().toLowerCase(),t=!0,i=0,n=this.flatValues.length;i<n;++i)if(0===this.flatValues[i].toLowerCase().lastIndexOf(e,0)){t=!1;break}t?this.$input.val(this.previousValue):this.previousValue=this.$input.val()}},{key:"setFromId",value:function(e){for(var t=0,i=this.o.values.length;t<i;++t)if(this.o.values[t][this.valueId]&&this.o.values[t][this.valueId]==e){this.$input.val(this.o.values[t][this.valueLabel]),this.$hidden.val(this.o.values[this.flatValues.indexOf(this.o.values[t][this.valueLabel])][this.valueId]);break}}}]),t}(l.default);i.default=u},{"./AutoComplete.js":2}],4:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("./AutoComplete.js"),l=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e){function t(e,i){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return r.lang=diorV7.helpers.getLanguage().substr(0,2),r}return r(t,e),s(t,[{key:"updateList",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.$input.val()?e.getValues(function(t){return e.fillList(t)}):e.$list.empty()},this.o.debounce)}},{key:"getValues",value:function(e){$.ajax({url:diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS.url,type:diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS.method,xhrFields:diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS.xhrFields,data:{rc:1,oe:"UTF-8",ie:"UTF-8",max:10,format:"rich",client:"dior_"+this.lang,q:this.$input.val()},success:function(t){var i=[];t.results.forEach(function(e){i.push(e.name)}),e(i)}})}},{key:"onClickOnOption",value:function(e){this.$input.val($(e.currentTarget).text()),this.$input.parents("form:first").submit()}}]),t}(l.default);i.default=u},{"./AutoComplete.js":2}],5:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e);var i={$el:null,axis:"x",percents:0,onChange:function(e){}};this.o=$.extend(i,t),this.percents=this.o.percents,this.init()}return o(e,[{key:"init",value:function(){this.setSize(),this.build(),this.addListeners(),this.set(this.percents,!0)}},{key:"setSize",value:function(){this.sizeMethod="x"===this.o.axis?"width":"height",this.positionValue="x"===this.o.axis?"left":"top",this.maxSize=this.o.$el[this.sizeMethod](),this.percentSize=this.maxSize/100}},{key:"build",value:function(){if(!this.$progress){var e=document.createElement("div");e.className="input-range-progress",this.$progress=$(e),this.o.$el.append(this.$progress)}}},{key:"set",value:function(e,t){e=Math.max(0,Math.min(e,100)),this.$progress[this.sizeMethod](this.percentSize*e),t||e===this.percents||this.o.onChange(e),this.percents=e}},{key:"addListeners",value:function(){var e=this;this._onPointerdown=function(t){return e.onPointerdown(t)},this._onPointermove=function(t){return e.onPointermove(t)},this._onPointerup=function(t){return e.onPointerup(t)},this.o.$el.on("mousedown touchstart",this._onPointerdown),$(document).on("mousemove touchmove",this._onPointermove),$(document).on("mouseup touchend",this._onPointerup)}},{key:"removeListeners",value:function(){this.o.$el.off("mousedown touchstart",this._onPointerdown),$(document).off("mousemove touchmove",this._onPointermove),$(document).off("mouseup touchend",this._onPointerup)}},{key:"onPointerdown",value:function(e){this.coords=diorV7.helpers.normalizeInput.eventToCoordinate(e),this.pointerDown=!0,this.set(this.sizeToPercents(this.coords[this.o.axis]-this.o.$el.offset()[this.positionValue]))}},{key:"onPointermove",value:function(e){if(this.pointerDown){var t=diorV7.helpers.normalizeInput.eventToCoordinate(e),i=t[this.o.axis]-this.coords[this.o.axis];this.coords=t,this.set(this.percents+this.sizeToPercents(i))}}},{key:"onPointerup",value:function(e){this.pointerDown=!1}},{key:"sizeToPercents",value:function(e){return e/this.percentSize}},{key:"pointerPositionToPercents",value:function(e){return this.sizeToPercents(e-this.o.$el.offset()[this.positionValue])}},{key:"destroy",value:function(){this.removeListeners(),this.$progress.remove(),delete this.$progress}}]),e}();i.default=r},{}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return e?(e=new Date(1e3*e).toISOString().substr(11,8),"00:"===e.substr(0,3)&&(e=e.substr(3,e.length)),e):"00:00"}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../InputRange.js"),l=n(a),u=e("../TTML.js"),c=n(u),d=e("../../modules/Dispatcher.js"),h=n(d),p=e("./playerTemplate.js"),f=n(p),v=[],y=void 0,g=function(){function e(t,i){o(this,e),this.userPaused=!1,this.isFullscreen=!1,this.subtitlesActive=!1,this.neverPlayed=!0,this.completed25=!1,this.completed50=!1,this.completed75=!1,this.completed100=!1,this.built=!1,this.mmmDone=!1;var n={$video:null,poster:null,subtitles:null,mmmID:null,align:"middle",classNames:{videoWrapper:"player-wrapper",controlsWrapper:"player-controls",controlsVisible:"player-controls-visible",playing:"player-playing",hasPlayed:"player-has-played",centralPlayButton:"player-play-central",fullscreen:"player-fullscreen",hasEnded:"played-video-finished",repeat:"player-repeat"},playClass:null,wrapperClass:null,controlsFadeTimeout:1500,diorTV:diorV7.config.url.diorTV,volume:localStorage.diorVolume||80,mute:1,hasSoundBar:1,muted:0,autoplay:0,autoTogglePlay:0,tiny:0,playVisibleThreshold:.75,locale:{fullscreen:"Fullscreen",volume:"Volume",subtitltes:"Subtitles",share:"Share"}},r=i.attr("id");if(""===r||void 0===r)window.console&&console.error("[Player]: video tag must have an id.");else for(var s=v.length,a=0;a<s;++a)v[a].o.$video.attr("id")===r&&console.warn("[Player]: video tag must have a unique id. "+r+" is already registered.");this.o=$.extend(n,t),this.o.volume=parseInt(this.o.volume),0===this.o.volume&&(this.o.muted=1),i&&(this.o.$video=i),this.video=this.o.$video[0],this.o.autoplay&&null===t.autoTogglePlay&&(this.o.autoTogglePlay=1),diorV7.helpers.isTactile()&&(this.o.mute=this.o.hasSoundBar=0,this.o.autoplay=0),this.dispatcher=new h.default,this._build=this.buildPlayer.bind(this),window.diorV7.helpers.isTactile()?(this._build(),this.video.addEventListener("loadedmetadata",function(){window.console&&console.log("loadedmetadata")}),this.video.addEventListener("durationchange",function(){window.console&&console.log("durationchange")})):(this.video.addEventListener("loadedmetadata",this._build),this.video.addEventListener("durationchange",this._build)),this.o.mmmID?this.getSrcFromMMM():this.o.url?this.o.$video.attr("src",this.o.url):window.console&&console.warn('[Player]: object is neither mmm (missing "mmmID") nor native (missing "url")'),v.push(this),this.o.$video.data("player",this)}return s(e,[{key:"togglePlayPause",value:function(e){this.video.paused?this.play():(e&&(this.userPaused=!0),this.pause())}},{key:"play",value:function(){this.video.paused&&(this.neverPlayed&&(this.neverPlayed=!1,this.trackEvent("Video Play")),this.video.play(),this.trigger("play"))}},{key:"pause",value:function(e){this.video.paused||(this.video.pause(),this.trigger("pause"),this.$el.toggleClass(this.o.classNames.playing,!1)),e&&(this.userPaused=!0)}},{key:"repeat",value:function(){this.play()}},{key:"toggleFullscreen",value:function(t){var i=this;if(void 0===t&&(t=!this.isFullscreen),t?this.trigger("enterFullscreen"):this.trigger("exitFullscreen"),Modernizr.fullscreen&&!diorV7.helpers.isTactile())diorV7.helpers.fullscreen(this.$el);else if(this.o.$video.parents(".popin:first").length){var n=window.diorV7.popinManager.popinPlayer;n.toggleFullscreen(!$("html").hasClass("popin-fullscreen"))}else{var o=this.o.$video.data("options");o.fullscreen=!0,this.o.$video.data("options",o),diorV7.popinManager.openVideoFullscreen(this.video)}t&&setTimeout(function(){e.PauseAll(i)},250)}},{key:"toggleControls",value:function(e){void 0===e&&(e=!this.$controls.is(":visible")),this.$el.toggleClass(this.o.classNames.controlsVisible,e)}},{key:"toggleMuted",value:function(e){this.video.muted=!this.video.muted,this.video.muted?this.setVolume(0,e):this.setVolume(localStorage.diorVolumeOn,e)}},{key:"toggleSubs",value:function(){this.subtitlesActive=!this.subtitlesActive,this.$el.toggleClass("player-subtitles",this.subtitlesActive),this.subtitlesActive&&this.TTML.update(this.video.currentTime)}},{key:"setVolume",value:function(e,t){t&&(localStorage.diorVolume=e,e>0&&(localStorage.diorVolumeOn=e)),this.video.volume=.01*e,this.$volume&&this.$volume.length&&(this.$volume[0].className=this.$volume[0].className.replace(/volume-\d\s?/g,""),this.$volume.addClass("volume-"+Math.round(e/100*8))),0===e?this.$el.addClass("player-muted"):this.$el.removeClass("player-muted")}},{key:"destroy",value:function(){var e=this;this.pause(),this.removeListeners(),this.o.$video.detach(),this.$el.after(this.o.$video),this.$el.remove(),this.o.$video.attr("style",this.initialStyle),this.o.$video.attr("src",""),v.splice(v.indexOf(v),1),setTimeout(function(){widemotion&&widemotion.W&&(widemotion.W.ids[e.o.mmmID]&&delete widemotion.W.ids[e.o.mmmID],widemotion.W.video_tags&&widemotion.W.video_tags&&delete widemotion.W.video_tags[e.o.$video.attr("id")])},0),this.$el=null}},{key:"getSrcFromMMM",value:function(){var e=this;if(this.storyBoard||(this.storyBoard={}),window.widemotion){widemotion.attach(this.o.$video,this.o.mmmID,diorV7.config.MMM.accounts).done(function(t){e.trigger("ready"),e.storyBoard.sequenceWidth=4e3,e.storyBoard.framesPerSequence=t.storyboard.density,e.storyBoard.fps=t.storyboard.ips,e.storyBoard.sequenceSources=[],e.storyBoard.path=t.storyboard.path,e.storyBoard.sequenceNumber=t.storyboard.count,e.mmmDone=!0,e.checkBuildStoryboard()}).fail(function(t){e.buildWrapper(),e.buildPoster(),window.console&&console.error(t)})}else this.buildWrapper(),this.buildPoster(),window.console&&console.error("[Player]: widemotion controller is not loaded.")}},{key:"buildPlayer",value:function(){this.built||(this.built=!0,this.buildWrapper(),this.buildPoster(),this.buildControls(),this.buildSubtitles(),this.o.share&&this.buildShare(),(this.o.muted||0===this.o.volume)&&this.toggleMuted(),this.addListeners(),this.o.autoTogglePlay&&this.onScroll(),this.trigger("built"),this.checkBuildStoryboard(),this.o.autoplay&&this.video.paused&&!this.o.autoTogglePlay&&this.play())}},{key:"checkBuildStoryboard",value:function(){this.built&&this.mmmDone&&this.buildStoryBoard()}},{key:"buildWrapper",value:function(){this.initialStyle=this.o.$video.attr("style"),this.o.$video.removeAttr("style");var e=document.createElement("div");e.className=this.o.classNames.videoWrapper,this.o.wrapperClass&&(e.className+=" "+this.o.wrapperClass),this.video.muted&&(e.className+=" player-muted"),this.subtitlesActive&&(e.className+=" player-subtitles"),this.o.tiny&&(e.className+=" player-tiny"),this.o.$video.wrap(e),this.$el=this.o.$video.parent(),this.$el.attr("style",this.initialStyle),"middle"!==this.o.align&&this.$el.addClass("align-"+this.o.align),window.diorV7.config.minisite&&this.$el.parent().addClass("dior-v7")}},{key:"buildPoster",value:function(){if(this.o.poster){var e=new Image;e.className="player-poster",e.src=this.o.poster,this.$el.append(e)}}},{key:"buildControls",value:function(){var e=this,t=Modernizr.fullscreen||this.o.$video.parents(".popin").length&&!$("html").hasClass("popin-fullscreen")||!this.o.$video.parents(".popin").length;this.$el.append(f.default.render({centralPlayButton:this.o.classNames.centralPlayButton+(this.o.playClass?" "+this.o.playClass:""),diorTV:this.o.diorTV,controlsWrapper:this.o.classNames.controlsWrapper,currentTime:r(this.video.currentTime),duration:r(this.video.duration),hasFullscreen:t,hasSubtitles:this.o.subtitles,hasMute:this.o.mute,hasSoundBar:this.o.hasSoundBar,hasChapters:this.o.chapters,repeat:this.o.classNames.repeat,tiny:this.o.tiny,locale:this.o.locale,share:this.o.share})),this.$controls=this.$el.find("."+this.o.classNames.controlsWrapper),this.seeker=new l.default({$el:this.$controls.find(".js-player-seeker"),onChange:function(t){return e.setTimeFromPercents(t)}}),this.o.hasSoundBar&&(this.$volume=this.$controls.find(".js-player-volume"),this.volume=new l.default({$el:this.$volume.find(".js-player-volume-input-range"),onChange:function(t){return e.setVolume(t,!0)}}),this.setVolume(this.o.volume||0)),this.$controls.find(".js-tooltip-trigger").on("mouseover",function(t){e.$controls.find('.js-tooltip[data-tooltip="'+$(t.currentTarget).data("tooltip")+'"]').addClass("visible")}).on("mouseout",function(t){e.$controls.find('.js-tooltip[data-tooltip="'+$(t.currentTarget).data("tooltip")+'"]').removeClass("visible")})}},{key:"buildStoryBoard",value:function(){this.storyBoard||(this.storyBoard={}),this.storyBoard.el=document.createElement("div"),this.storyBoard.el.className="player-storyboard",this.$controls.find(".player-preview").append(this.storyBoard.el),this.$preview=this.$controls.find(".player-preview"),this.loadStoryBoard()}},{key:"loadStoryBoard",value:function(){var e=this;this.storyBoard.frameWidth=this.storyBoard.sequenceWidth/this.storyBoard.framesPerSequence,this.storyBoard.frameNumber=Math.ceil(this.video.duration*this.storyBoard.fps);for(var t,i=this.storyBoard.path.split("storyboard_")[0],n=0;n<this.storyBoard.sequenceNumber;++n){for(t=n.toString();t.length<4;)t="0"+t;this.storyBoard.sequenceSources.push(i+"storyboard_"+t+".jpg")}diorV7.preloader.preload(this.storyBoard.sequenceSources,function(t){e.storyBoard.sequences=t,e.$controls.find(".js-player-seeker").on("mousemove",e._updatePreview),e.$controls.find(".js-player-seeker").on("mouseout",e._hidePreview),e.storyBoardBuilt=!0})}},{key:"buildSubtitles",value:function(){var e=this;this.o.subtitles&&(this.subtitles=[],this.activeSubtitle=-1,this.$subtitlesArea=this.$el.find(".js-player-subtitles-area"),this.$subtitleContent=this.$el.find(".js-subtitle-content"),$.ajax({url:this.o.subtitles,type:"GET",dataType:"xml",success:function(t){e.TTML=new c.default(t,e.$subtitlesArea),e.o.subtitlesOn&&e.toggleSubs()}}))}},{key:"setTimeFromPercents",value:function(e){this.video.currentTime=this.video.duration*e*.01,this.trackEvent("Timeline")}},{key:"updatePreview",value:function(e){this.$preview.toggleClass("active",!0);var t=.01*this.seeker.pointerPositionToPercents(diorV7.helpers.normalizeInput.eventToCoordinate(e).x),i=Math.ceil(this.video.duration*t*this.storyBoard.fps),n=Math.floor(i/this.storyBoard.framesPerSequence);void 0!==this.storyBoard.activeSequence&&n===this.storyBoard.activeSequence||this.$preview.find(".player-storyboard").html(this.storyBoard.sequences[n]),this.storyBoard.activeSequence=n;var o=i*this.storyBoard.frameWidth%this.storyBoard.sequenceWidth,r=t*this.$controls.width()-.5*this.$preview.width();r=Math.min(Math.max(0,r),this.$controls.width()-this.$preview.width()),this.$preview.css("left",r).find("img").css("left",-o)}},{key:"hidePreview",value:function(){this.$preview.toggleClass("active",!1)}},{key:"buildShare",value:function(){var e=this,t=this.$controls.find("li.share-open").outerWidth(!0),i=this.$controls.find(".share-container").width()-t;if(this.$controls.find(".icon-player-share").on("click",function(t){t.preventDefault(),e.$controls.find(".share-container").width(i).addClass("open")}),this.$controls.find(".icon-player-close-share").on("click",function(i){i.preventDefault(),e.$controls.find(".share-container").width(t).removeClass("open")}),this.$controls.find(".share-container").width(t),window.clipboardData)this.$el.find(".copy").on("click",function(){window.clipboardData.setData("Text",e.$el.find(".insert textarea").val())});else{var n=this.$el.find(".insert textarea")[0],o=document.createRange();try{document.execCommand("copy"),o.selectNode(n),window.getSelection().addRange(o)}catch(e){console.warn(e)}window.getSelection().removeAllRanges()}this.$el.find(".icon-player-embed").on("click",function(t){t.preventDefault(),e.$el.find("#"+e.$el.attr("id")+"_embedLayer").toggle()}),this.$el.find(".share-container .icon-player-layer-close").on("click",function(t){t.preventDefault(),e.params.$el.find("#"+e.$el.attr("id")+"_embedLayer").hide()})}},{key:"trigger",value:function(e,t){this.dispatcher.trigger(e,this)}},{key:"on",value:function(e,t,i){this.dispatcher.on(e,t,i)}},{key:"off",value:function(e,t){this.dispatcher.off(e,t)}},{key:"onTimeupdate",value:function(){this.trackCompletion(),this.$controls.find(".js-player-current-time").text(r(this.video.currentTime)),this.seeker.set(this.video.currentTime/this.video.duration*100,!0),this.subtitlesActive&&this.TTML.update(this.video.currentTime)}},{key:"onMouseover",value:function(){clearTimeout(this.fadeTimeout),this.toggleControls(!0)}},{key:"onMouseout",value:function(){this.fadeTimeout=setTimeout(this._hideControls,this.o.controlsFadeTimeout)}},{key:"onFullscreenchange",value:function(){this.isFullscreen=!this.isFullscreen,this.$el.toggleClass(this.o.classNames.fullscreen,this.isFullscreen),this.onResize(),this.trackEvent("Fullscreen")}},{key:"onEnded",value:function(){this.$el.toggleClass(this.o.classNames.hasEnded,!0),this.video.pause(),this.trackEvent("Video Completion 100"),this.trigger("end")}},{key:"onResize",value:function(){this.seeker&&this.seeker.setSize(),this.volume&&this.volume.setSize()}},{key:"addListeners",value:function(){var e=this;this._togglePlayPause=function(t){return e.togglePlayPause(t)},this._toggleFullscreen=function(){return e.toggleFullscreen()},this._exitFullscreen=function(){return e.toggleFullscreen(!1)},this._onTimeupdate=function(){return e.onTimeupdate()},this._onMouseover=function(){return e.onMouseover()},this._onMouseout=function(){return e.onMouseout()},this._hideControls=function(){return e.toggleControls(!1)},this._toggleMuted=function(t){return e.toggleMuted(t)},this._toggleSubs=function(){return e.toggleSubs()},this._onEnded=function(){return e.onEnded()},this.play=this.play.bind(this),this._updatePreview=function(t){return e.updatePreview(t)},this._hidePreview=function(){return e.hidePreview()},this._onScroll=function(){return e.onScroll()},this._onResize=function(){return e.onResize()},this.onPlay=this.onPlay.bind(this),this.o.$video.on("click",this._togglePlayPause),window.diorV7.helpers.isTactile()||(this.$el.on("mouseover",this._onMouseover),this.$el.on("mouseout",this._onMouseout)),this.$el.find("img, ."+this.o.classNames.centralPlayButton).on("click",this._togglePlayPause),this.$el.on("click","."+this.o.classNames.repeat,this.play),this.$el.find(".js-player-exit-fullscreen").on("click",this._exitFullscreen),this.$controls.find(".js-player-play").on("click",this._togglePlayPause),this.$controls.find(".js-toggle-sound").on("click",this._toggleMuted),this.$controls.find(".js-toggle-subs").on("click",this._toggleSubs),this.$controls.find(".js-player-fullscreen").on("click",this._toggleFullscreen),this.video.addEventListener("timeupdate",this._onTimeupdate),this.video.addEventListener("ended",this._onEnded),this.video.addEventListener("play",this.onPlay),this.o.autoTogglePlay&&$(window).on("scroll",this._onScroll),$(window).on("resize",this.onResize)}},{key:"removeListeners",value:function(){this.o.$video.off("click",this._togglePlayPause),this.$el.off("mouseover",this._onMouseover),this.$el.off("mouseout",this._onMouseout),this.$el.find("img, ."+this.o.classNames.centralPlayButton).off("click",this._togglePlayPause),this.$el.off("click","."+this.o.classNames.repeat,this.play),this.$el.find(".js-player-exit-fullscreen").off("click",this._exitFullscreen),this.$controls.find(".js-player-play").off("click",this._togglePlayPause),this.$controls.find(".js-toggle-sound").off("click",this._toggleMuted),this.$controls.find(".js-toggle-subs").off("click",this._toggleSubs),this.$controls.find(".js-player-fullscreen").off("click",this._toggleFullscreen),this.video.removeEventListener("durationchange",this._build),this.video.removeEventListener("timeupdate",this._onTimeupdate),this.video.removeEventListener("ended",this._onEnded),$(window).off("scroll",this._onScroll).off("resize",this.onResize),clearTimeout(this.fadeTimeout),this.storyBoardBuilt&&(this.$controls.find(".js-player-seeker").off("mousemove",this._updatePreview),this.$controls.find(".js-player-seeker").off("mouseout",this._hidePreview))}},{key:"onPlay",value:function(){this.$el.toggleClass(this.o.classNames.hasEnded,!1).toggleClass(this.o.classNames.playing,!0).toggleClass(this.o.classNames.hasPlayed,!0)}},{key:"onScroll",value:function(){if(!(diorV7.popinManager&&diorV7.popinManager.isPopinOpened()||this.userPaused)){var e=this.$el.height(),t=$(window).scrollTop(),i=t+$(window).height(),n=this.$el.offset().top,o=this.$el.offset().top+e,r=Math.min(o,i)-Math.max(n,t);r>=e*this.o.playVisibleThreshold?this.play():r<=e*(1-this.o.playVisibleThreshold)&&this.pause()}}},{key:"trackEvent",value:function(e){diorV7.tracking.trackEvent(e,this.o.mmmID||"MMM_"+this.o.$video.attr("id"))}},{key:"trackCompletion",value:function(){return this.video.currentTime>.5*this.video.duration&&!this.completed50?(this.completed50=!0,
this.trackEvent("Video Completion 50")):this.video.currentTime>.75*this.video.duration&&!this.completed75?(this.completed75=!0,this.trackEvent("Video Completion 75")):void(this.video.currentTime>.25*this.video.duration&&(this.completed25||(this.completed25=!0,this.trackEvent("Video Completion 25"))))}}],[{key:"PauseAll",value:function(e){for(var t=v.length,i=0;i<t;++i){var n=v[i];e&&e==n||v[i].pause()}}},{key:"Get",value:function(e){for(var t=v.length,i=0;i<t;++i){var n=v[i];if(n.video.getAttribute("id")==e)return n}}},{key:"Init",value:function(e){e&&e.length||(e=$("main").find("video[data-options]")),e.each(function(e,t){var i=$(t),n=i.data("options"),o=void 0;o=n.chapters?new diorV7.PlayerChaptered(n,i):new diorV7.Player(n,i),o.on("ready",function(){window.console&&console.log("[Player]::ready"),i.trigger("ready")})})}},{key:"Destroy",value:function(t){var i=e.Get(t);if(!i)return void(window.console&&console.warn("[Player]: player to destroy not found for id "+t));i.destroy()}},{key:"documentFullscreenchange",value:function(t){var i=document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.fullscreenElement;i?(y=e.Get($(i).find("video").attr("id")),y?y.onFullscreenchange():window.console&&console.warn("[Player]: couldn't find an instance of player attached to the fullscreened element. Missing id on video tag?")):y&&(y.onFullscreenchange(),y=null)}},{key:"videos",get:function(){return v}}]),e}();i.default=g},{"../../modules/Dispatcher.js":31,"../InputRange.js":5,"../TTML.js":10,"./playerTemplate.js":9}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,i);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,i,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},u=e("./Player.js"),c=n(u),d=e("./playerTemplate.js"),h=n(d);e("core-js/fn/array/find");var p=function(e){function t(e,i){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return n.on("built",n.buildChapterSlider,n),n.o.chapters||console.warn("PlayerChaptered -> chapters are undefined"),n}return s(t,e),a(t,[{key:"buildChapterSlider",value:function(){var e=this;this.maxVisible=5,this.o.chapters.length>this.maxVisible&&(this.$el.append(h.default.renderChapterSlider(this.o.chapters)),this.$chapterSliderParent=this.$el.find(".player-chapter-slider"),this.$chapterSlider=this.$chapterSliderParent.children("ul"),this.chapterSlider=this.$chapterSlider.bxSlider(this.getSliderOptions()),this._onChapterClick=function(t){return e.onChapterClick(t)},this._updateChapter=function(t){return e.updateChapter(t)},this.$chapterSlider.find("li").on("click",this._onChapterClick),this.video.addEventListener("timeupdate",this._updateChapter))}},{key:"getSliderOptions",value:function(){var e=this;return{infiniteLoop:!1,pager:!1,moveSlides:1,minSlides:this.maxVisible,maxSlides:this.maxVisible,slideWidth:this.$chapterSliderParent.width()/this.maxVisible,nextText:this.o.next,prevText:this.o.prev,onSlideBefore:function(t,i,n){n+e.maxVisible===e.o.chapters.length?e.$chapterSliderParent.find(".bx-next").addClass("disabled"):e.$chapterSliderParent.find(".bx-next").removeClass("disabled"),0===n?e.$chapterSliderParent.find(".bx-prev").addClass("disabled"):e.$chapterSliderParent.find(".bx-prev").removeClass("disabled")}}}},{key:"onChapterClick",value:function(e){this.goToChapter(parseInt($(e.currentTarget).data("index")))}},{key:"goToChapter",value:function(e){this.setActiveChapter(e),this.video.currentTime=this.o.chapters[e].time,this.trigger("chapterChange")}},{key:"setActiveChapter",value:function(e){this.activeChapter=e,this.chapterSlider.goToSlide(e),this.$chapterSlider.find("li").removeClass("active"),this.$chapterSlider.find('li[data-index="'+e+'"]').addClass("active"),this.$controls.find(".js-player-chapter").text(this.o.chapters[e].title)}},{key:"updateChapter",value:function(){this.setActiveChapter(this.findChapterForTime(this.video.currentTime))}},{key:"destroy",value:function(){this.$chapterSlider.find("li").off("click",this._onChapterClick),this.video.removeEventListener("timeupdate",this._updateChapter),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"findChapterForTime",value:function(e){for(var t=0,i=0,n=this.o.chapters.length;i<n&&!(this.o.chapters[i].time>e);++i)e>=this.o.chapters[i].time&&(t=i);return t}},{key:"onResize",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onResize",this).call(this),this.chapterSlider&&this.chapterSlider.reloadSlider(this.getSliderOptions())}}]),t}(c.default);i.default=p},{"./Player.js":6,"./playerTemplate.js":9,"core-js/fn/array/find":37}],8:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t,i){n(this,e);var o={$video:null,width:"640",height:"380",autoplay:0,controls:0,loop:0,playsinline:0,showinfo:0,videoId:null,rel:0};t.$video=i.attr("id"),this.o=$.extend(o,t),this.initYouTubeIframeAPI(this.o)}return o(e,[{key:"initYouTubeIframeAPI",value:function(e){new YT.Player(e.$video,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{autoplay:e.autoplay,controls:e.controls,loop:e.loop,showinfo:e.showinfo,rel:e.rel}})}}],[{key:"Init",value:function(e){e&&e.length||(e=$("main").find(".js-videoYt[data-options]")),e.each(function(e,t){var i=$(t),n=i.data("options");new diorV7.PlayerYoutube(n,i)})}}]),e}();i.default=r},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../helpers/createElement"),o=function(e){return e&&e.__esModule?e:{default:e}}(n),r={render:function(e){var t=document.createDocumentFragment();e.hasSubtitles&&t.appendChild(this.renderSubtitlesArea(e.hasSubtitles)),t.appendChild((0,o.default)("button",e.centralPlayButton)),e.hasFullscreen&&t.appendChild((0,o.default)("button","player-exit-fullscreen js-player-exit-fullscreen",{innerText:"Close"})),t.appendChild((0,o.default)("button",e.repeat,{innerText:"repeat"}));var i=(0,o.default)("div",e.controlsWrapper);i.appendChild((0,o.default)("a","player-diortv js-player-diortv",{innerText:"diorTV",href:e.diorTV,target:"_blank"}));var n=(0,o.default)("div","player-secondary-controls");n.appendChild(this.renderTooltips(e)),e.share&&n.appendChild(this.renderShare(e.share)),n.appendChild(this.renderSubtitleButton(e.locale));var r=(0,o.default)("button","player-sound js-toggle-sound");if(r.setAttribute("aria-label",e.locale.volume),n.appendChild(r),n.appendChild(this.renderVolume(e.locale)),e.hasFullscreen){var s=(0,o.default)("button","player-fullscreen js-player-fullscreen js-tooltip-trigger",{data:{tooltip:"fullscreen"}});s.setAttribute("aria-label",e.locale.fullscreen),n.appendChild(s)}return i.appendChild(n),i.appendChild(this.renderPlayButton()),i.appendChild(this.renderTime(e.currentTime,e.duration)),e.hasChapters&&i.appendChild(this.renderChaptersButton()),i.appendChild(this.renderSeeker()),i.appendChild(this.renderPreview()),t.appendChild(i),t},renderTooltips:function(e){var t=(0,o.default)("div","tooltips");if(e.tooltipsHidden&&(t.style.display="none"),e.share&&t.appendChild((0,o.default)("span","js-tooltip",{data:{tooltip:"share"}})),e.hasSubtitles){var i=(0,o.default)("span","js-tooltip",{data:{tooltip:"subtitles"},innerText:e.locale.subtitles});i.attributes.mode="on",t.appendChild(i)}return t.appendChild((0,o.default)("span","js-tooltip",{data:{tooltip:"volume"},innerText:e.locale.volume})),t.appendChild((0,o.default)("span","js-tooltip",{data:{tooltip:"fullscreen"},innerText:e.locale.fullscreen})),t},renderSubtitlesArea:function(e){return(0,o.default)("div","player-subtitles-area js-player-subtitles-area")},renderShare:function(e){var t=(0,o.default)("div","share-container"),i=document.createElement("ul");return i.className="share",i.appendChild(this.renderShareEl(null,"share-open","icon-player-share js-tooltip-trigger","share")),e.embed&&i.appendChild(this.renderShareEl(null,null,"icon-player-embed")),e.facebook&&i.appendChild(this.renderShareEl(e.facebook,null,"icon-player-facebook")),e.twitter&&i.appendChild(this.renderShareEl(e.twitter,null,"icon-player-twitter")),e.tumblr&&i.appendChild(this.renderShareEl(e.tumblr,null,"icon-player-tumblr")),i.appendChild((0,o.default)("li","icon-player-close-share")),t.appendChild(i),t},renderShareEl:function(e,t,i,n){var r=(0,o.default)("li",t),s=(0,o.default)(e?"a":"span",i,n&&{data:{tooltip:n}});return e&&(s.href=e),r.appendChild(s),r},renderSubtitleButton:function(e){var t=(0,o.default)("button","player-subs js-toggle-subs js-tooltip-trigger",{data:{tooltip:"subtitles"}});return t.setAttribute("aria-label",e.subtitles),t},renderVolume:function(e){var t=(0,o.default)("div","player-volume js-player-volume js-tooltip-trigger",{data:{tooltip:"volume"}});t.setAttribute("aria-label",e.volume);var i=(0,o.default)("div","player-volume-input-range js-player-volume-input-range");return t.appendChild(i),t.appendChild(this.renderVolumeBar()),t},renderVolumeBar:function(){var e=document.createElement("ul");e.className="player-volume-bars";for(var t=void 0,i=0;i<8;i++)t=document.createElement("li"),e.appendChild(t);return e},renderPlayButton:function(){var e=(0,o.default)("button","player-play js-player-play");return e.appendChild((0,o.default)("span","player-play-paused",{innerText:"Play"})),e.appendChild((0,o.default)("span","player-play-playing",{innerText:"Pause"})),e},renderTime:function(e,t){var i=(0,o.default)("div","player-time");return i.appendChild((0,o.default)("span","js-player-current-time",{innerText:e})),i.innerHTML+=" / "+t,i},renderChaptersButton:function(){return(0,o.default)("span","player-chapter js-player-chapter")},renderSeeker:function(){return(0,o.default)("div","player-seeker js-player-seeker")},renderPreview:function(){return(0,o.default)("div","player-preview")},renderChapterSlider:function(e){var t=(0,o.default)("div","player-chapter-slider"),i=document.createElement("ul");return e.forEach(function(e,t){i.appendChild((0,o.default)("li",null,{data:{index:t},innerHTML:"<span>"+e.name+"</span>"}))}),t.appendChild(i),t}};i.default=r},{"../../helpers/createElement":15}],10:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return e=e.split(":").map(function(e){return parseFloat(e)}),e[1]+=60*e[0],e[1]*=60,e[1]+e[2]}function r(e){var t={};for(var i in l)e.getNamedItem(i)&&(t[l[i]]=e.getNamedItem(i).nodeValue);return t}function s(e){return e.attr("id")||e.attr("xml:id")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l={textAlign:"text-align","tts:textAlign":"text-align",padding:"padding","tts:padding":"padding",color:"color","tts:color":"color","tts:backgroundColor":"background-color","tts:fontSize":"font-size","tts:fontWeight":"font-weight","tts:fontFamily":"font-family","tts:fontStyle":"font-style","tts:opacity":"opacity"},u=function(){function e(t,i){n(this,e),this.$xml=$(t),this.$container=i,this.setStyles(),this.buildRegions(),this.setSubtitles()}return a(e,[{key:"buildRegions",value:function(){this.regionsActiveSubtitle={},this.$xml.find("head > layout > region").each(this.buildRegion.bind(this))}},{key:"buildRegion",value:function(t,i){i=$(i);var n=$('<div class="player-subtitle-region"></div>');n.attr("id",s(i)),i.attr("style")&&e.applyStyle(n,this.styles[i.attr("style")]),this.$container.append(n),this.regionsActiveSubtitle[n.attr("id")]=-1}},{key:"setStyles",value:function(){this.styles={},this.$xml.find("head > styling > style").each(this.setStyle.bind(this))}},{key:"setStyle",value:function(e,t){t=$(t),this.styles[s(t)]=r(t[0].attributes)}},{key:"setSubtitles",value:function(){this.subtitles={},this.$xml.find("body p").each(this.setSubtitle.bind(this))}},{key:"setSubtitle",value:function(t,i){i=$(i);var n=o(i.attr("begin")),r=e.findSubtitleRegion(i);this.subtitles[r]||(this.subtitles[r]=[]),this.subtitles[r].push({index:t,start:n,end:i.attr("end")?o(i.attr("end")):n+o(i.attr("dur")),content:i.text(),style:i.attr("style")})}},{key:"update",value:function(e){for(var t in this.subtitles)this.subtitles.hasOwnProperty(t)&&this.updateRegion(t,this.getRegionSubtitleForTime(e,t))}},{key:"updateRegion",value:function(t,i){var n=this.$container.find($("#"+t));if(i){if(this.regionsActiveSubtitle[t]!==i.index){this.regionsActiveSubtitle[t]=i.index;var o=$("<p></p>");o.html(i.content),i.style&&e.applyStyle(o,this.styles[i.style]),n.html(o).toggleClass("active",!0)}}else n.toggleClass("active",!1).empty(),this.regionsActiveSubtitle[t]=-1}},{key:"getRegionSubtitleForTime",value:function(e,t){for(var i=0,n=this.subtitles[t].length;i<n;++i)if(e>=this.subtitles[t][i].start&&e<=this.subtitles[t][i].end)return this.subtitles[t][i]}}],[{key:"findSubtitleRegion",value:function(e){if(e.attr("region"))return e.attr("region");for(var t=e.parents(),i=0,n=t.length;i<n;++i)if(t[i].attributes.getNamedItem("region"))return t[i].attributes.getNamedItem("region").nodeValue}},{key:"applyStyle",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&e.css(i,t[i]);return e}},{key:"setRegionOrigin",value:function(e,t){return t?(t=t.split(" "),e.css("left",t[0]),e.css("top",t[1])):(e.css("bottom",55),e.css("left","50%"),e.css(Modernizr.prefixed("transform"),"translateX(-50%)")),e}},{key:"setRegionExtent",value:function(e,t){return t&&(t=t.split(" "),e.css("width",t[0]),e.css("height",t[1])),e}}]),e}();i.default=u},{}],11:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e);var i={identifier:null,$trigger:null,$el:null,$wrapper:$("#popin-wrapper"),manager:null,closeButtonClass:".js-popin-close",template:null,webservice:null,triggerEvents:0,fullscreen:0,$originalTrigger:null};this.o=$.extend(i,t),this.isOpen=!1,this.init(),this.$el.data("popin",this),this.addListeners()}return o(e,[{key:"init",value:function(){this.$el=this.o.$el,this.$el.hasClass("js-auto-open")&&this.open(this.o.identifier)}},{key:"addListeners",value:function(){var e=this;this.o.$trigger&&(this._onTriggerClick=function(t){return e.open(t)},this.o.$trigger.on("click",this._onTriggerClick)),this.o.$wrapper&&this.o.$wrapper.on("click",this._onCloseClick),this._onCloseClick=function(t){return e.close(t)},this.$el.find(this.o.closeButtonClass).on("click",this._onCloseClick),this._resize=function(){return e.resize()},window.addEventListener("resize",this._resize())}},{key:"addTabListeners",value:function(){var e=this;$(document).on("keydown",function(t){if(e.isOpen&&0===$(t.target).parents("#popin-wrapper").length){e.$el.find(e.o.closeButtonClass).first().focus()}})}},{key:"open",value:function(e){var t=this;if(!this.isOpen){this.scrollLevel=document.body.scrollTop||document.documentElement.scrollTop,this.isOpen=!0,e&&void 0!==e?this.o.$originalTrigger=e.currentTarget?$(e.currentTarget):$(e):console.warn("[Popin]: we need to have the original btn to reset focus on close (ADA)"),diorV7.DOMStateManager.fadeToggle(this.$el,"hidden",1,function(){t.trigger("opened"),t.$el.find(".js-form").length&&t.$el.find(".js-form").each(function(){$(this).data("formValidator")&&$(this).data("formValidator").refreshListeners()})}),this.trigger("open"),document.body.style.height=window.innerHeight+"px",document.body.style.overflow="hidden",document.documentElement.style.overflowY="scroll",this.o.fullscreen?this.toggleFullscreen():(this.setPosition(),$("html").removeClass("popin-fullscreen")),this.o.manager.toggleOverlay(this.$el,1),diorV7.Player.PauseAll(this.player),$("#dior-header, #dior-footer, #main-content, #scrollToTop, #skipNavigation").attr("aria-hidden",!0);var i=this.$el.find(this.o.closeButtonClass).first();setTimeout(function(){i.focus()},50),setTimeout(function(){document.documentElement.scrollTop=0},100),document.body.scrollTop=this.scrollLevel}}},{key:"toggleFullscreen",value:function(e){var t=this.$el.css("z-index");this.$el.removeAttr("style").css("z-index",t),$("html").addClass("popin-fullscreen")}},{key:"setPosition",value:function(){var e=this;this.$el[0].style.left=this.setLeft()+"px",clearTimeout(this.positionTimeout),this.positionTimeout=setTimeout(function(){e.$el[0].style.top=e.setTop()+"px",e.$el[0].style.opacity=1},100)}},{key:"setLeft",value:function(){var e=.5*this.$el[0].offsetWidth;return.5*document.body.offsetWidth-e}},{key:"setTop",value:function(){var e=(Math.min(.5*this.$el[0].offsetHeight,.5*window.innerHeight),window.pageYOffset,window.innerHeight,void 0);return this.$el[0].offsetHeight>=window.innerHeight?(document.body.style.height=this.$el[0].offsetHeight+60+"px",e=30):(document.body.style.height=window.innerHeight,e=.5*window.innerHeight-.5*this.$el[0].offsetHeight),e}},{key:"close",value:function(e){var t=this;this.isOpen&&(this.isOpen=!1,diorV7.DOMStateManager.fadeToggle(this.$el,"hidden",0,function(){document.body.style.height="auto",document.body.style.overflow="auto",document.documentElement.style.overflowY="auto",document.body.scrollTop=0,document.body.style.position="static",window.scrollTo(0,t.scrollLevel),t.o.fullscreen&&$("html").removeClass("popin-fullscreen"),t.trigger("closed")}),this.o.$originalTrigger&&this.o.$originalTrigger.focus(),this.o.manager.toggleOverlay(this.$el,0),this.trigger("close"),$("#dior-header, #dior-footer, #main-content, #scrollToTop, #skipNavigation").attr("aria-hidden",!1))}},{key:"resize",value:function(){this.trigger("resize")}},{key:"destroy",value:function(){this.o.$trigger&&this.o.$trigger.off("click",this._onTriggerClick),this.$el.find(this.o.closeButtonClass).off("click",this._onCloseClick),window.removeEventListener("resize",this._resize()),this.trigger("destroyed")}},{key:"trigger",value:function(e){this.o.triggerEvents&&diorV7.dispatcher.trigger("popin-"+this.o.identifier+"::"+e)}},{key:"on",value:function(e,t){this.o.triggerEvents&&diorV7.dispatcher.on("popin-"+this.o.identifier+"::"+e,t)}}]),e}();i.default=r},{}],12:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=(0,h.default)("div","popin popin-"+e+" js-popin-"+e);return t.setAttribute("hidden",!0),t.appendChild((0,h.default)("button","popin-close js-popin-close",{innerText:"Close"})),t}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("./Popin.js"),c=n(u),d=e("../../helpers/createElement"),h=n(d),p=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),l(t,[{key:"init",value:function(){this.o.$wrapper.append(a(this.o.identifier)),this.$el=this.o.$wrapper.find(".js-popin-"+this.o.identifier)}},{key:"open",value:function(e){var t=this;this.hasData||this.getData(function(i){t.render(i),t.open(e)}),this.isOpen||(this.isOpen=!0,diorV7.DOMStateManager.fadeToggle(this.$el,"hidden",1))}},{key:"getData",value:function(e){var t=this;this.o.webservice&&this.o.webservice.url||console.warn("PopinDynamic.init -> webservice is required"),$.ajax({url:this.o.webservice.url,type:this.o.webservice.method||"GET",xhrFields:this.webservice.o.xhrFields,success:function(i){t.data=i,t.hasData=!0,e(i)},failure:function(e){console.warn("PopinDynamic.init -> "+t.o.webservice.url+" error")}})}},{key:"render",value:function(e){this.o.template||console.warn("PopinDynamic.render -> template is required"),this.$el.append(this.o.template(e))}}]),t}(c.default);i.default=p},{"../../helpers/createElement":15,"./Popin.js":11}],13:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function e(t,i,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,i);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,i,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},l=e("./Popin.js"),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(e){function t(e){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.$video=i.$el.find("video"),i.$video.length?i.$video.attr("id")||console.warn("[PopinPlayer]: missing id on video tag (absolutly needed by MMMM)."):console.warn("[PopinPlayer]: missing popin video element."),i.on("closed",function(){i.player&&(i.player.off("exitFullscreen",i._closeCb),i.player.off("end",i._closeCb),i.player.off("built",i._readyCb),i.player.destroy(),delete i.player)}),i.on("opened",function(){i.o.fullscreen&&$("html").addClass("popin-fullscreen"),i.player.onResize()}),i}return r(t,e),s(t,[{key:"open",value:function(e){this.$originalTrigger=e.currentTarget?$(e.currentTarget):$(e);var t=this.$originalTrigger.data("options");t.autoplay=!0,t.muted=0,this.o.fullscreen=t.fullscreen,this.player=new diorV7.Player(t,this.$video),this.player.o.triggerEvents=1,this._closeCb=this.close.bind(this),this.player.on("exitFullscreen",this._closeCb),this.player.on("end",this._closeCb),window.diorV7.helpers.isTactile()?this.onReady():(this._readyCb=this.onReady.bind(this),this.player.on("built",this._readyCb))}},{key:"onReady",value:function(e){var i=this;setTimeout(function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",i).call(i,e),diorV7.helpers.isTactile()||i.player.play()},150)}},{key:"close",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this)}}]),t}(u.default);i.default=c},{"./Popin.js":11}],14:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=e("./helpers/registerHandlebarsHelper.js"),r=n(o),s=e("./modules/DOMStateManager.js"),a=n(s),l=e("./modules/Dispatcher.js"),u=n(l),c=e("./modules/popinManager.js"),d=n(c),h=e("./components/Accordion.js"),p=n(h),f=e("./components/AutoComplete.js"),v=n(f),y=e("./components/AutoCompleteId.js"),g=n(y),m=e("./components/AutoCompleteSearch.js"),b=n(m),w=e("./components/Player/Player.js"),_=n(w),k=e("./components/Player/PlayerChaptered.js"),P=n(k),j=e("./components/Player/PlayerYoutube.js"),C=n(j),x=e("./helpers/css3.js"),S=e("./helpers/fullscreen.js"),T=n(S),O=e("./helpers/getLanguage.js"),E=n(O),M=e("./helpers/normalizeInput.js"),V=n(M),I=e("./helpers/queryString.js"),F=n(I),L=e("./helpers/stringToBoolean.js"),A=n(L),D=e("./helpers/deviceDetection.js"),N=e("./modules/forms.js"),B=n(N),H=e("./modules/preloader.js"),z=n(H),R=e("./modules/tracking.js"),q=n(R),W=e("./modules/ariaPageTitle.js"),U=n(W);window.diorV7.dispatcher=new u.default,window.diorV7.DOMStateManager=a.default,window.diorV7.data={cart:{}},window.diorV7.helpers={transitionEnd:x.transitionEnd,isTactile:D.isTactile,isIE9:D.isIE9,isIE10:D.isIE10,isIE11:D.isIE11,isEdge:D.isEdge,isIE:D.isIE,fullscreen:T.default,getLanguage:E.default,normalizeInput:V.default,queryString:F.default,stringToBoolean:A.default,registerHandlebarsHelper:r.default},window.diorV7.Accordion=p.default,window.diorV7.AutoComplete=v.default,window.diorV7.AutoCompleteId=g.default,window.diorV7.AutoCompleteSearch=b.default,window.diorV7.Player=_.default,window.diorV7.PlayerChaptered=P.default,window.diorV7.PlayerYoutube=C.default,window.diorV7.preloader=z.default,window.diorV7.tracking=q.default,window.diorV7.forms=B.default,window.diorV7.ariaPageTitle=U.default,window.modules||(window.modules={}),window.core?window.core.signals={global:null}:window.core={signals:{global:null}},$(window).ready(function(){window.diorV7.helpers.isTactile(),window.diorV7.helpers.isIE(),document.removeEventListener("fullscreenchange",_.default.documentFullscreenchange),document.removeEventListener("webkitfullscreenchange",_.default.documentFullscreenchange),document.removeEventListener("mozfullscreenchange",_.default.documentFullscreenchange),document.removeEventListener("MSFullscreenChange",_.default.documentFullscreenchange),document.addEventListener("fullscreenchange",_.default.documentFullscreenchange),document.addEventListener("webkitfullscreenchange",_.default.documentFullscreenchange),document.addEventListener("mozfullscreenchange",_.default.documentFullscreenchange),document.addEventListener("MSFullscreenChange",_.default.documentFullscreenchange),fontSpy("dior-iconfont",{testString:"&#xea01;&#xea02;&#xea03;",success:function(){$("html").removeClass("icons-loading")},failure:function(){$("html").removeClass("icons-loading")},delay:10,timeOut:1e3}),window.diorV7.forms.init(),window.diorV7.popinManager=d.default.init(),window.diorV7.ariaPageTitle.init()})},{"./components/Accordion.js":1,"./components/AutoComplete.js":2,"./components/AutoCompleteId.js":3,"./components/AutoCompleteSearch.js":4,"./components/Player/Player.js":6,"./components/Player/PlayerChaptered.js":7,"./components/Player/PlayerYoutube.js":8,"./helpers/css3.js":16,"./helpers/deviceDetection.js":17,"./helpers/fullscreen.js":18,"./helpers/getLanguage.js":19,"./helpers/normalizeInput.js":26,"./helpers/queryString.js":27,"./helpers/registerHandlebarsHelper.js":28,"./helpers/stringToBoolean.js":29,"./modules/DOMStateManager.js":30,"./modules/Dispatcher.js":31,"./modules/ariaPageTitle.js":32,"./modules/forms.js":33,"./modules/popinManager.js":34,"./modules/preloader.js":35,"./modules/tracking.js":36}],15:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i){var n=document.createElement(e);if(n.className=t,i){var o=["innerText","innerHTML","href","target"];for(var r in i)i.hasOwnProperty(r)&&o.indexOf(r)>-1&&(n[r]=i[r]);if(i.data)for(var s in i.data)i.data.hasOwnProperty(s)&&(n.dataset[s]=i.data[s])}return n}},{}],16:[function(e,t,i){"use strict";function n(){return o[Modernizr.prefixed("transition")]}Object.defineProperty(i,"__esModule",{value:!0}),i.transitionEnd=n;var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"}},{}],17:[function(e,t,i){"use strict";function n(){return void 0===u&&(u=/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|webOS/i.test(navigator.userAgent))&&$("html").addClass("tablet"),u}function o(){return void 0===c&&(c=$("html")[0].className.match(/ie9/)),c}function r(){return void 0===d&&(d=-1!==navigator.appVersion.indexOf("MSIE 10"))&&$("html").addClass("ie10"),d}function s(){return void 0===h&&(h=!!navigator.userAgent.match(/Trident\/7\./))&&$("html").addClass("ie11"),h}function a(){return void 0===p&&(p=/Edge/.test(navigator.userAgent))&&$("html").addClass("edge"),p}function l(){return void 0===f&&(f=o()||r()||s()||a())&&$("html").addClass("ie"),f}Object.defineProperty(i,"__esModule",{value:!0}),i.isTactile=n,i.isIE9=o,i.isIE10=r,i.isIE11=s,i.isEdge=a,i.isIE=l;var u=void 0,c=void 0,d=void 0,h=void 0,p=void 0,f=void 0},{}],18:[function(e,t,i){"use strict";t.exports=function(e){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e[0].requestFullscreen?e[0].requestFullscreen():e[0].mozRequestFullScreen?e[0].mozRequestFullScreen():e[0].webkitRequestFullscreen?e[0].webkitRequestFullscreen():e[0].msRequestFullscreen&&e[0].msRequestFullscreen()}},{}],19:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){var e=/\/[^\/]*([A-Za-z]{2}_[A-Za-z]{2,3})/g,t=e.exec(window.location.href);return t?t[1]:(t=o.default.get("lang"))||"fr_fr"};var n=e("./queryString.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(n)},{"./queryString.js":27}],20:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i){var n="";t||(t=e.length),t>e.length&&(t=e.length);for(var o=Handlebars.createFrame(i.data),r=0;r<t;++r)o.index=r,o.last=r+1===t,n+=i.fn(e[r],{data:o});return n}},{}],21:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i,n){switch(t){case"==":return e==i?n.fn(this):n.inverse(this);case"===":return e===i?n.fn(this):n.inverse(this);case"!=":return e!=i?n.fn(this):n.inverse(this);case"!==":return e!==i?n.fn(this):n.inverse(this);case"<":return e<i?n.fn(this):n.inverse(this);case"<=":return e<=i?n.fn(this):n.inverse(this);case">":return e>i?n.fn(this):n.inverse(this);case">=":return e>=i?n.fn(this):n.inverse(this);case"&&":return e&&i?n.fn(this):n.inverse(this);case"||":return e||i?n.fn(this):n.inverse(this);case"%":return e%i?n.fn(this):n.inverse(this);default:return n.inverse(this)}}},{}],22:[function(e,t,i){
"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){return new diorV7.Handlebars.SafeString(t[e])}},{}],23:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){if(e)return JSON.stringify(e).replace(/(['])/g,"&apos;")}},{}],24:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){for(var i="",n=Handlebars.createFrame(t.data),o=0;o<e;++o)n.index=o,n.index1=o+1,n.last=o+1===e,i+=t.fn(this,{data:n});return i}},{}],25:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){if(e.length>t&&e.length>0){var i=e+" ";return i=e.substr(0,t),i=e.substr(0,i.lastIndexOf(" ")),i=i.length>0?i:e.substr(0,t),new diorV7.Handlebars.SafeString(i+"...")}return e}},{}],26:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={eventToCoordinate:function(e){return void 0!==e.pageX?{x:e.pageX,y:e.pageY}:{x:e.originalEvent.changedTouches[0].pageX,y:e.originalEvent.changedTouches[0].pageY}}};i.default=n},{}],27:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={get:function(e){for(var t={},i=window.location.search.substring(1),n=i.split("&"),o=n.length,r=0;r<o;r++){var s=n[r].split("=");if(void 0===t[s[0]])t[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof t[s[0]]){var a=[t[s[0]],decodeURIComponent(s[1])];t[s[0]]=a}else t[s[0]].push(decodeURIComponent(s[1]))}return e?t[e]:t},set:function(e,t,i,n){var o={},r=window.location.search.replace("?","");r&&(r.split("&"),r instanceof Array||(r=[r]),r.forEach(function(e){o[e[0]]=void 0!==e[1]?e[1]:""})),o[e]=t,r="?";for(var s in o)o.hasOwnProperty(s)&&(r+=e+"="+o[s]+"&");r=r.replace(/&$/,""),this.pushState(i,window.location.pathname+r,n)},pushState:function(e,t,i){diorV7.helpers.isIE9()?i&&(window.location.href=t):window.history.pushState(e||{},"",t)}};i.default=n},{}],28:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(e){if(m.indexOf(e)<0){switch(e){case"eachWithMax":window.diorV7.Handlebars.registerHelper("eachWithMax",a.default);break;case"ifCond":window.diorV7.Handlebars.registerHelper("ifCond",u.default);break;case"stringify":window.diorV7.Handlebars.registerHelper("stringify",d.default);break;case"times":window.diorV7.Handlebars.registerHelper("times",p.default);break;case"truncate":window.diorV7.Handlebars.registerHelper("truncate",v.default);break;case"keyInObject":window.diorV7.Handlebars.registerHelper("keyInObject",g.default)}m.push(e)}})};var o=e("../../../node_modules/handlebars/runtime.js"),r=n(o),s=e("./handlebars/eachWithMax.js"),a=n(s),l=e("./handlebars/ifCond.js"),u=n(l),c=e("./handlebars/stringify.js"),d=n(c),h=e("./handlebars/times.js"),p=n(h),f=e("./handlebars/truncate.js"),v=n(f),y=e("./handlebars/keyInObject.js"),g=n(y);window.diorV7||(window.diorV7={}),window.diorV7.Handlebars=r.default;var m=[]},{"../../../node_modules/handlebars/runtime.js":88,"./handlebars/eachWithMax.js":20,"./handlebars/ifCond.js":21,"./handlebars/keyInObject.js":22,"./handlebars/stringify.js":23,"./handlebars/times.js":24,"./handlebars/truncate.js":25}],29:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}},{}],30:[function(e,t,i){"use strict";var n={toggleExpanded:function(e,t){return t=void 0===t?"true"===e.attr("aria-expanded")?"false":"true":t?"true":"false",e.attr("aria-expanded",t)},expand:function(e){this.toggleExpanded(e,1)},retract:function(){this.toggleExpanded($el,0)},toggleHidden:function(e,t){return void 0===t&&(t=!e.prop("hidden")),(diorV7.helpers.isIE9()||diorV7.helpers.isIE10())&&(t?e.attr("hidden","true"):e.removeAttr("hidden")),e.prop("hidden",t)},hide:function(e){return this.toggleHidden(e,1)},show:function(e){return this.toggleHidden(e,0)},toggleDisabled:function(e,t){if(t=void 0===t?"true"===e.attr("aria-disabled")?"false":"true":t?"true":"false",!(e.is("button")||e.is("input")||e.is("option")||e.is("select")||e.is("textarea")))return e.attr("aria-disabled",t);e.prop("disabled","true"===t)},disable:function(e){this.toggleDisabled(e,1)},enable:function(e){this.toggleDisabled(e,0)},slideToggle:function(e,t,i,n){var o=this;void 0===t&&(t="aria-expanded"),void 0===i&&(i=!this.getVisibleStateFromAttribute(e,t)),i?e.slideDown(400,function(){o.setVisibleStateFromAttribute(e,t,1),"function"==typeof n&&n()}):e.slideUp(400,function(){o.setVisibleStateFromAttribute(e,t,0),"function"==typeof n&&n()})},slideDown:function(e,t,i){this.slideToggle(e,t,1,i)},slideUp:function(e,t,i){this.slideToggle(e,t,0,i)},fadeToggle:function(e,t,i,n){var o=this;void 0===t&&(t="hidden"),void 0===i&&(i=!this.getVisibleStateFromAttribute(e,t)),i?(this.setVisibleStateFromAttribute(e,t,1),e.fadeIn(400,function(){"function"==typeof n&&n()})):e.fadeOut(400,function(){o.setVisibleStateFromAttribute(e,t,0),"function"==typeof n&&n()})},fadeIn:function(e,t,i){this.fadeToggle(e,t,1)},fadeOut:function(e,t,i){this.fadeToggle(e,t,0)},getVisibleStateFromAttribute:function(e,t){switch(t){case"hidden":return!e.prop("hidden");case"aria-expanded":return e.attr("aria-expanded")&&"false"!==e.attr("aria-expanded")&&"0"!==e.attr("aria-expanded")}},setVisibleStateFromAttribute:function(e,t,i){switch(void 0===i&&(i=!this.getVisibleStateFromAttribute(e,t)),t){case"hidden":return this.toggleHidden(e,!i);case"aria-expanded":return this.toggleExpanded(e,i)}}};t.exports=n},{}],31:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){n(this,e),this.actions=[]}return o(e,[{key:"on",value:function(e,t,i){return this.actions[e]?this.actions[e].push({scope:i,callback:t}):this.actions[e]=[{scope:i,callback:t}],this}},{key:"off",value:function(e,t){this.actions[e]||console.warn("Dispatcher->"+e+" is undefined"),t||(this.actions[e]=[]);var i=this.actions[e].indexOf(t);return i>-1&&this.actions[e].splice(i,1),this}},{key:"trigger",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return this.actions[e]&&this.actions[e].forEach(function(e){if("function"==typeof e.callback){var t;e.scope?(t=e.callback).call.apply(t,[e.scope].concat(i)):e.callback.apply(e,i)}}),this}}]),e}();i.default=r},{}],32:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={init:function(){this.title=document.title},set:function(e){document.title=e+" | "+this.title},reset:function(){document.title=this.title}}},{}],33:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={init:function(){var e=$("input[placeholder]");window.forms=this,diorV7.helpers.isIE9()&&this.IE9Placeholders(e),$(".js-sublist").each(function(){$(this).sublistSelect($($(this).data("sublist-target")),$(this).data("sublist"))});var t=$(".js-show-password");if(t.length){var i=t.parents("form:first").find(".js-password");t.is(":checked")?i.attr("type","text"):i.attr("type","password"),t.on("change",function(){t.is(":checked")?i.attr("type","text"):i.attr("type","password")})}this.initAutocomplete(),$(".js-toggle-different-address").on("change",function(){var e=$(this);diorV7.DOMStateManager.toggleHidden(e.parents(".form-field").next(".js-different-address-section"),e.prop("checked"));var t=e.parents(".js-form");t.length&&t.data("formValidator")&&t.data("formValidator").refreshListeners()})},IE9Placeholders:function(e){e.each(function(){var e=$(this),t=void 0,i=void 0,o=e.parents('*[aria-expanded="false"], *[hidden]');o.length&&(t=o.attr("style"),i=o.attr("hidden"),o.removeAttr("hidden").show()),e.val()||e.parents(".form-field:first").addClass("show-placeholder");var r=document.createElement("div");r.className="form-field-placeholder",r.style.width=e.outerWidth()+"px",r.style.height=e.outerHeight()+"px",r.style.top=e.position().top+"px",r.style.paddingLeft=window.getComputedStyle(e[0]).paddingLeft,r.innerText=e.attr("placeholder"),e.after(r),e.val()&&n.IE9onFocus.call($(r)),o.length&&(t&&o.attr("style",t),i&&diorV7.DOMStateManager.hide(o))}),$(".form-field-placholder").on("mousedown",this.IE9PlaceholderMouseDown),e.on("focus",this.IE9onFocus),e.on("focusout",this.IE9onFocusOut)},IE9PlaceholderMouseDown:function(){$(this).parents(".form-field:first").find("input:first").focus()},IE9onFocus:function(){$(this).parents(".form-field:first").removeClass("show-placeholder")},IE9onFocusOut:function(){var e=$(this);e.val()||e.parents(".form-field:first").addClass("show-placeholder")},IE9RefreshPlaceholders:function(e){e.find("input[placeholder]").each(function(){var e=$(this);e.val()&&n.IE9onFocus.call(e)})},initAutocomplete:function(){$(".dior-v7 .js-autocomplete").each(function(){new diorV7.AutoComplete($(this))}),$(".dior-v7 .js-autocomplete-id").each(function(){var e=$(this);new diorV7.AutoCompleteId(e,e.attr("data-autocomplete-id"),e.attr("data-autocomplete-label"),$(e.attr("data-autocomplete-hidden")),{restrictive:!0})});var e=$(".dior-v7 .js-autocomplete-county");e.length&&$.ajax({url:diorV7.config.webservices.COUNTIES.url,type:diorV7.config.webservices.COUNTIES.method,success:function(t){var i=void 0,n=void 0;e.each(function(){n=$(this),i=new diorV7.AutoCompleteId(n,n.attr("data-autocomplete-id"),n.attr("data-autocomplete-label"),$(n.attr("data-autocomplete-hidden")),{restrictive:!0}),i.setValues(t)})}});var t=void 0,i=void 0;$(".dior-v7 .js-autocomplete-update").each(function(){t=$(this),i=$(t.attr("data-autocomplete-update")),t.on("change",function(){var e=$("option:selected",this);i.val("").parents(".form-field").removeClass("has-success has-error"),i.data("AutoComplete").setValues(e.data("autocomplete-values"))}),i.data("AutoComplete").setValues(t.find("option:selected").data("autocomplete-values")),i.attr("data-value-id")&&i.data("AutoComplete").setFromId(i.attr("data-value-id"))})}};i.default=n},{}],34:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var o=e("../components/popins/Popin.js"),r=n(o),s=e("../components/popins/PopinDynamic.js"),a=n(s),l=e("../components/popins/PopinPlayer.js"),u=n(l),c={popins:{},openPopins:[],init:function(){var e=this;this.currentLevel=0,this.minZIndex=5e4,this.$overlay=$("#page-overlay"),this.$overlay.on("click",function(){return e.onOverlayClick()}),$(document).on("keydown",function(t){return e.onKeyDown(t)}),diorV7.helpers.isTactile()&&(this._preventScroll=this.preventScroll.bind(this));var t=diorV7.helpers.queryString.get("popin");if(t&&""!==t){var i=this.popins[t];if(i)this.popinPlayer.open();else{var n=$("#popin-wrapper .popin-"+t);n.length?(i=this.instanciate({identifier:t,$el:n,triggerEvents:1}),i.open()):console.warn("popinManager.init -> popin that should be automatically opened not found")}}return this},instanciate:function(e,t){return e||console.warn("popinManager.instanciate -> options are required"),e.identifier||console.warn("popinManager.instanciate -> identifier is required"),e.manager=this,this.popins[e.identifier]=t?"dynamic"===t?new a.default(e):new t(e):new r.default(e),this.popins[e.identifier]},initVideoPopin:function(){var e=this,t=$("body").find(".popin-wrapper.dior-v7"),i=t.find(".js-popin-player");i&&i.length||t.append('            <div class="popin popin-player js-popin-player" hidden="">                <button class="popin-close js-popin-close icon icon-cross" aria-label="Close"></button>                <video id="playerPopin" preload="metadata"></video>            </div>'),this.popinPlayer||(this.popinPlayer=diorV7.popinManager.instanciate({identifier:"popin-player",$el:$(".js-popin-player"),triggerEvents:1},u.default),this._openPopinPlayer=function(t){t.preventDefault(),e.popinPlayer.open(t)}),$(".js-popin-player-trigger").off("click",this._openPopinPlayer).on("click",this._openPopinPlayer)},openVideoFullscreen:function(e){this.popinPlayer||this.initVideoPopin(),this.popinPlayer.open(e)},toggleOverlay:function(e,t){var i=this;t?(this.currentLevel++,this.openPopins.push(e.data("popin")),diorV7.helpers.isTactile()&&$("body")[0].addEventListener("touchmove",this._preventScroll,!1),$("html").addClass("popin-opened")):(this.currentLevel--,this.openPopins.pop(),diorV7.helpers.isTactile()&&$("body")[0].removeEventListener("touchmove",this._preventScroll),0===this.openPopins.length&&($("html").removeClass("popin-opened"),diorV7.helpers.isTactile()&&$("body").removeAttr("style"),$("#popin-wrapper").removeAttr("style"))),this.$overlay.css("z-index",this.minZIndex+this.currentLevel),e.css("z-index",this.minZIndex+this.currentLevel+1),this.currentLevel>0?this.$overlay.fadeIn(600):this.$overlay.fadeOut(600,function(){i.$overlay.removeAttr("style")})},preventScroll:function(e){e.preventDefault()},onOverlayClick:function(){this.openPopins.length&&this.openPopins[this.openPopins.length-1].close()},onKeyDown:function(e){var t=this;27===e.which?this.onOverlayClick():9===e.which&&this.openPopins.length&&setTimeout(function(){var i=$(e.currentTarget.activeElement),n=$(t.openPopins[t.openPopins.length-1].$el).find(".js-popin-close");i.parents(".popin:first").length||n.focus()},1)},open:function(e,t){this.popins[e].open(t)},close:function(e){this.popins[e].close()},isPopinOpened:function(){return this.openPopins.length>0}};i.default=c},{"../components/popins/Popin.js":11,"../components/popins/PopinDynamic.js":12,"../components/popins/PopinPlayer.js":13}],35:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={preload:function(e,t){var i=this;!(e instanceof Array)&&e instanceof String&&(e=[e]);for(var o=0,r={},s=e.length,a=0;a<s;++a){(function(s){var a=e[s],l=void 0;if("string"==typeof a)l=a;else{if("object"!==(void 0===a?"undefined":n(a)))return"continue";l=a.src}++o,i.preloadImg(l,function(i){if(o--,r[l]=i,0===o){var n=e.map(function(e){return r[e]});t(n)}})})(a)}},preloadImg:function(e,t){var i=new Image;i.onload=t.bind(this,i),i.src=e}};i.default=o},{}],36:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={debug:localStorage.debug&&"tracking"===localStorage.debug,init:function(e,t){e||console.warn("tracking -> no data-track-universee defined on main element"),t||console.warn("tracking -> no data-track-page defined on main element"),this.universe=e,this.page=t,$("*[data-track-label], *[data-track-href], *[data-tpv]").not(".js-addtocart").off("click",this.track).on("click",this.track),$(".js-track-checkbox").on("change",this.trackCheckbox),"undefined"!=typeof dataLayerInfo&&(dataLayerInfo.ecoId=Cookies.get(diorV7.config.cookies.ECO_ID),dataLayerInfo.ecoId&&(dataLayerInfo.ecoId=dataLayerInfo.ecoId.split("-")[1]),dataLayerInfo.userIsConnected=!!Cookies.get(diorV7.config.cookies.CONNECTED),this.pushToDataLayer(dataLayerInfo)),diorV7.dispatcher.trigger("tracking:init"),this.initialized=!0},track:function(e,t){var i=$(this);if(i.attr("data-track-object")){if(!t){if(i.hasClass("js-noclick-track"))return;i.hasClass("js-stop-propagation")&&e.stopPropagation()}window.diorV7.tracking.trackObjectString(i.attr("data-track-object"))}else{var o="trackEvent";if(void 0!==i.data("track-event")&&(o=i.data("track-type")),"trackEvent"===o)n.trackEvent(i.data("track-action"),i.data("track-label"));else{if("trackPage"!==o)throw o+" isn't a valid function";n.trackPage(i.data("track-href"))}}},trackObjectString:function(e){var t=this.stringToObject(e);t instanceof Array?t.forEach(function(e){n.pushToDataLayer(e)}):n.pushToDataLayer(t)},stringToObject:function(e){return"string"==typeof e?$.parseJSON(e.replace(/(\\)?'/g,"'").replace(/(\\)?"/g,'"')):e},trackCheckbox:function(){if($(this).prop("checked")){var e="",t="*[data-track-checkbox-group="+$(this).attr("data-track-checkbox-group")+"]";$(t+":checked").length>0&&(e+=" ",$(t+":checked").each(function(t){t>0&&(e+=" and "),e+=$(this).attr("data-track-checked-value")}));var i=$.parseJSON($(this).attr("data-track-checked"));i.eventAction+=e,n.pushToDataLayer(i)}},trackPage:function(e){n.pushToDataLayer({event:"tpv",pageVirtualPath:e,userIsConnected:!!Cookies.get(diorV7.config.cookies.CONNECTED)})},trackEvent:function(e,t){n.pushToDataLayer({event:"trackEvent",eventCategory:n.getEventCategory(),eventAction:e,eventLabel:t})},getEventCategory:function(){return diorV7.config.tracking.prefix+n.universe+"_"+n.page},updateTrackObject:function(e,t){var i=e.data("track-object")||{};$.extend(i,t),e.attr("data-track-object",JSON.stringify(i))},refreshListeners:function(e){e?e.off("click",this.track).on("click",this.track):$("*[data-track-label], *[data-track-href], *[data-tpv], *[data-track-object]").off("click",this.track).on("click",this.track)},pushToDataLayer:function(e){this.debug&&console.log("tracking -> ",e),dataLayer.push(e)}};i.default=n},{}],37:[function(e,t,i){"use strict";e("../../modules/es6.array.find"),t.exports=e("../../modules/_core").Array.find},{"../../modules/_core":45,"../../modules/es6.array.find":69}],38:[function(e,t,i){"use strict";t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],39:[function(e,t,i){"use strict";var n=e("./_wks")("unscopables"),o=Array.prototype;void 0==o[n]&&e("./_hide")(o,n,{}),t.exports=function(e){o[n][e]=!0}},{"./_hide":54,"./_wks":68}],40:[function(e,t,i){"use strict";var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":58}],41:[function(e,t,i){"use strict";var n=e("./_ctx"),o=e("./_iobject"),r=e("./_to-object"),s=e("./_to-length"),a=e("./_array-species-create");t.exports=function(e,t){var i=1==e,l=2==e,u=3==e,c=4==e,d=6==e,h=5==e||d,p=t||a;return function(t,a,f){for(var v,y,g=r(t),m=o(g),b=n(a,f,3),w=s(m.length),_=0,$=i?p(t,w):l?p(t,0):void 0;w>_;_++)if((h||_ in m)&&(v=m[_],y=b(v,_,g),e))if(i)$[_]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:$.push(v)}else if(c)return!1;return d?-1:u||c?c:$}}},{"./_array-species-create":43,"./_ctx":46,"./_iobject":56,"./_to-length":64,"./_to-object":65}],42:[function(e,t,i){"use strict";var n=e("./_is-object"),o=e("./_is-array"),r=e("./_wks")("species");t.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},{"./_is-array":57,"./_is-object":58,"./_wks":68}],43:[function(e,t,i){"use strict";var n=e("./_array-species-constructor");t.exports=function(e,t){return new(n(e))(t)}},{"./_array-species-constructor":42}],44:[function(e,t,i){"use strict";var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],45:[function(e,t,i){"use strict";var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},{}],46:[function(e,t,i){"use strict";var n=e("./_a-function");t.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":38}],47:[function(e,t,i){"use strict";t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],48:[function(e,t,i){"use strict";t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":51}],49:[function(e,t,i){"use strict";var n=e("./_is-object"),o=e("./_global").document,r=n(o)&&n(o.createElement);t.exports=function(e){return r?o.createElement(e):{}}},{"./_global":52,"./_is-object":58}],50:[function(e,t,i){"use strict";var n=e("./_global"),o=e("./_core"),r=e("./_hide"),s=e("./_redefine"),a=e("./_ctx"),l=function e(t,i,l){var u,c,d,h,p=t&e.F,f=t&e.G,v=t&e.S,y=t&e.P,g=t&e.B,m=f?n:v?n[i]||(n[i]={}):(n[i]||{}).prototype,b=f?o:o[i]||(o[i]={}),w=b.prototype||(b.prototype={});f&&(l=i);for(u in l)c=!p&&m&&void 0!==m[u],d=(c?m:l)[u],h=g&&c?a(d,n):y&&"function"==typeof d?a(Function.call,d):d,m&&s(m,u,d,t&e.U),b[u]!=d&&r(b,u,h),y&&w[u]!=d&&(w[u]=d)};n.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":45,"./_ctx":46,"./_global":52,"./_hide":54,"./_redefine":61}],51:[function(e,t,i){"use strict";t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],52:[function(e,t,i){"use strict";var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],53:[function(e,t,i){"use strict";var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],54:[function(e,t,i){"use strict";var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,i){return n.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},{"./_descriptors":48,"./_object-dp":59,"./_property-desc":60}],55:[function(e,t,i){"use strict";t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":48,"./_dom-create":49,"./_fails":51}],56:[function(e,t,i){"use strict";var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":44}],57:[function(e,t,i){"use strict";var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":44}],58:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){return"object"===(void 0===e?"undefined":n(e))?null!==e:"function"==typeof e}},{}],59:[function(e,t,i){"use strict";var n=e("./_an-object"),o=e("./_ie8-dom-define"),r=e("./_to-primitive"),s=Object.defineProperty;i.f=e("./_descriptors")?Object.defineProperty:function(e,t,i){if(n(e),t=r(t,!0),n(i),o)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},{"./_an-object":40,"./_descriptors":48,"./_ie8-dom-define":55,"./_to-primitive":66}],60:[function(e,t,i){"use strict";t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],61:[function(e,t,i){"use strict";var n=e("./_global"),o=e("./_hide"),r=e("./_has"),s=e("./_uid")("src"),a=Function.toString,l=(""+a).split("toString");e("./_core").inspectSource=function(e){return a.call(e)},(t.exports=function(e,t,i,a){var u="function"==typeof i;u&&(r(i,"name")||o(i,"name",t)),e[t]!==i&&(u&&(r(i,s)||o(i,s,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=i:a?e[t]?e[t]=i:o(e,t,i):(delete e[t],o(e,t,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},{"./_core":45,"./_global":52,"./_has":53,"./_hide":54,"./_uid":67}],62:[function(e,t,i){"use strict";var n=e("./_global"),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./_global":52}],63:[function(e,t,i){"use strict";var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],64:[function(e,t,i){"use strict";var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":63}],65:[function(e,t,i){"use strict";var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":47}],66:[function(e,t,i){"use strict";var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var i,o;if(t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;if("function"==typeof(i=e.valueOf)&&!n(o=i.call(e)))return o;if(!t&&"function"==typeof(i=e.toString)&&!n(o=i.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":58}],67:[function(e,t,i){"use strict";var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],68:[function(e,t,i){"use strict";var n=e("./_shared")("wks"),o=e("./_uid"),r=e("./_global").Symbol,s="function"==typeof r;(t.exports=function(e){return n[e]||(n[e]=s&&r[e]||(s?r:o)("Symbol."+e))}).store=n},{"./_global":52,"./_shared":62,"./_uid":67}],69:[function(e,t,i){"use strict";var n=e("./_export"),o=e("./_array-methods")(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),n(n.P+n.F*r,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("find")},{"./_add-to-unscopables":39,"./_array-methods":41,"./_export":50}],70:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(){var e=new a.HandlebarsEnvironment;return p.extend(e,a),e.SafeString=u.default,e.Exception=d.default,e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=v,e.template=function(t){return v.template(t,e)},e}i.__esModule=!0;var s=e("./handlebars/base"),a=o(s),l=e("./handlebars/safe-string"),u=n(l),c=e("./handlebars/exception"),d=n(c),h=e("./handlebars/utils"),p=o(h),f=e("./handlebars/runtime"),v=o(f),y=e("./handlebars/no-conflict"),g=n(y),m=r();m.create=r,g.default(m),m.default=m,i.default=m,t.exports=i.default},{"./handlebars/base":71,"./handlebars/exception":74,"./handlebars/no-conflict":84,"./handlebars/runtime":85,"./handlebars/safe-string":86,"./handlebars/utils":87}],71:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,i){this.helpers=e||{},this.partials=t||{},this.decorators=i||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}i.__esModule=!0,i.HandlebarsEnvironment=o;var r=e("./utils"),s=e("./exception"),a=n(s),l=e("./helpers"),u=e("./decorators"),c=e("./logger"),d=n(c);i.VERSION="4.0.5";i.COMPILER_REVISION=7;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};i.REVISION_CHANGES=h;o.prototype={constructor:o,logger:d.default,log:d.default.log,registerHelper:function(e,t){if("[object Object]"===r.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===r.toString.call(e))r.extend(this.partials,e);else{if(void 0===t)throw new a.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===r.toString.call(e)){if(t)throw new a.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var p=d.default.log;i.log=p,i.createFrame=r.createFrame,i.logger=d.default},{"./decorators":72,"./exception":74,"./helpers":75,"./logger":83,"./utils":87}],72:[function(e,t,i){"use strict";function n(e){r.default(e)}i.__esModule=!0,i.registerDefaultDecorators=n;var o=e("./decorators/inline"),r=function(e){return e&&e.__esModule?e:{default:e}}(o)},{"./decorators/inline":73}],73:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerDecorator("inline",function(e,t,i,o){var r=e;return t.partials||(t.partials={},r=function(o,r){var s=i.partials;i.partials=n.extend({},s,t.partials);var a=e(o,r);return i.partials=s,a}),t.partials[o.args[0]]=o.fn,r})},t.exports=i.default},{"../utils":87}],74:[function(e,t,i){"use strict";function n(e,t){var i=t&&t.loc,r=void 0,s=void 0;i&&(r=i.start.line,s=i.start.column,e+=" - "+r+":"+s);for(var a=Error.prototype.constructor.call(this,e),l=0;l<o.length;l++)this[o[l]]=a[o[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),i&&(this.lineNumber=r,this.column=s)}i.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,i.default=n,t.exports=i.default},{}],75:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){s.default(e),l.default(e),c.default(e),h.default(e),f.default(e),y.default(e),m.default(e)}i.__esModule=!0,i.registerDefaultHelpers=o;var r=e("./helpers/block-helper-missing"),s=n(r),a=e("./helpers/each"),l=n(a),u=e("./helpers/helper-missing"),c=n(u),d=e("./helpers/if"),h=n(d),p=e("./helpers/log"),f=n(p),v=e("./helpers/lookup"),y=n(v),g=e("./helpers/with"),m=n(g)},{"./helpers/block-helper-missing":76,"./helpers/each":77,"./helpers/helper-missing":78,"./helpers/if":79,"./helpers/log":80,"./helpers/lookup":81,"./helpers/with":82}],76:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerHelper("blockHelperMissing",function(t,i){var o=i.inverse,r=i.fn;if(!0===t)return r(this);if(!1===t||null==t)return o(this);if(n.isArray(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):o(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return r(t,i)})},t.exports=i.default},{"../utils":87}],77:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.__esModule=!0;var o=e("../utils"),r=e("../exception"),s=function(e){return e&&e.__esModule?e:{default:e}}(r);i.default=function(e){e.registerHelper("each",function(e,t){function i(t,i,n){c&&(c.key=t,c.index=i,c.first=0===i,c.last=!!n,d&&(c.contextPath=d+t)),u+=r(e[t],{data:c,blockParams:o.blockParams([e[t],t],[d+t,null])})}if(!t)throw new s.default("Must pass iterator to #each");var r=t.fn,a=t.inverse,l=0,u="",c=void 0,d=void 0;if(t.data&&t.ids&&(d=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),o.isFunction(e)&&(e=e.call(this)),t.data&&(c=o.createFrame(t.data)),e&&"object"===(void 0===e?"undefined":n(e)))if(o.isArray(e))for(var h=e.length;l<h;l++)l in e&&i(l,l,l===e.length-1);else{var p=void 0;for(var f in e)e.hasOwnProperty(f)&&(void 0!==p&&i(p,l-1),p=f,l++);void 0!==p&&i(p,l-1,!0)}return 0===l&&(u=a(this)),u})},t.exports=i.default},{"../exception":74,"../utils":87}],78:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../exception"),o=function(e){return e&&e.__esModule?e:{default:e}}(n);i.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=i.default},{"../exception":74}],79:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerHelper("if",function(e,t){return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers.if.call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},t.exports=i.default},{"../utils":87}],80:[function(e,t,i){"use strict";i.__esModule=!0,i.default=function(e){
e.registerHelper("log",function(){for(var t=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),t[0]=o,e.log.apply(e,t)})},t.exports=i.default},{}],81:[function(e,t,i){"use strict";i.__esModule=!0,i.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},t.exports=i.default},{}],82:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("../utils");i.default=function(e){e.registerHelper("with",function(e,t){n.isFunction(e)&&(e=e.call(this));var i=t.fn;if(n.isEmpty(e))return t.inverse(this);var o=t.data;return t.data&&t.ids&&(o=n.createFrame(t.data),o.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),i(e,{data:o,blockParams:n.blockParams([e],[o&&o.contextPath])})})},t.exports=i.default},{"../utils":87}],83:[function(e,t,i){"use strict";i.__esModule=!0;var n=e("./utils"),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];console[t].apply(console,n)}}};i.default=o,t.exports=i.default},{"./utils":87}],84:[function(e,t,i){(function(e){"use strict";i.__esModule=!0,i.default=function(t){var i=void 0!==e?e:window,n=i.Handlebars;t.noConflict=function(){return i.Handlebars===t&&(i.Handlebars=n),t}},t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],85:[function(e,t,i){"use strict";function n(e){var t=e&&e[0]||1,i=y.COMPILER_REVISION;if(t!==i){if(t<i){var n=y.REVISION_CHANGES[i],o=y.REVISION_CHANGES[t];throw new v.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new v.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function o(e,t){function i(i,n,o){o.hash&&(n=p.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),i=t.VM.resolvePartial.call(this,i,n,o);var r=t.VM.invokePartial.call(this,i,n,o);if(null==r&&t.compile&&(o.partials[o.name]=t.compile(i,e.compilerOptions,t),r=o.partials[o.name](n,o)),null!=r){if(o.indent){for(var s=r.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=o.indent+s[a];r=s.join("\n")}return r}throw new v.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function n(t){function i(t){return""+e.main(o,t,o.helpers,o.partials,s,l,a)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;n._setup(r),!r.partial&&e.useData&&(s=u(t,s));var a=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(a=r.depths?t!==r.depths[0]?[t].concat(r.depths):r.depths:[t]),(i=c(e.main,i,o,r.depths||[],s,l))(t,r)}if(!t)throw new v.default("No environment passed to template");if(!e||!e.main)throw new v.default("Unknown template object: "+(void 0===e?"undefined":d(e)));e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var o={strict:function(e,t){if(!(t in e))throw new v.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var i=e.length,n=0;n<i;n++)if(e[n]&&null!=e[n][t])return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:p.escapeExpression,invokePartial:i,fn:function(t){var i=e[t];return i.decorator=e[t+"_d"],i},programs:[],program:function(e,t,i,n,o){var s=this.programs[e],a=this.fn(e);return t||o||n||i?s=r(this,e,a,t,i,n,o):s||(s=this.programs[e]=r(this,e,a)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i=p.extend({},t,e)),i},noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(o.helpers=i.helpers,o.partials=i.partials,o.decorators=i.decorators):(o.helpers=o.merge(i.helpers,t.helpers),e.usePartial&&(o.partials=o.merge(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(o.decorators=o.merge(i.decorators,t.decorators)))},n._child=function(t,i,n,s){if(e.useBlockParams&&!n)throw new v.default("must pass block params");if(e.useDepths&&!s)throw new v.default("must pass parent depths");return r(o,t,e[t],i,0,n,s)},n}function r(e,t,i,n,o,r,s){function a(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&t!==s[0]&&(a=[t].concat(s)),i(e,t,e.helpers,e.partials,o.data||n,r&&[o.blockParams].concat(r),a)}return a=c(i,a,e,s,n,r),a.program=t,a.depth=s?s.length:0,a.blockParams=o||0,a}function s(e,t,i){return e?e.call||i.name||(i.name=e,e=i.partials[e]):e="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],e}function a(e,t,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==l&&(i.data=y.createFrame(i.data),n=i.data["partial-block"]=i.fn,n.partials&&(i.partials=p.extend({},i.partials,n.partials))),void 0===e&&n&&(e=n),void 0===e)throw new v.default("The partial "+i.name+" could not be found");if(e instanceof Function)return e(t,i)}function l(){return""}function u(e,t){return t&&"root"in t||(t=t?y.createFrame(t):{},t.root=e),t}function c(e,t,i,n,o,r){if(e.decorator){var s={};t=e.decorator(t,s,i,n&&n[0],o,r,n),p.extend(t,s)}return t}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.__esModule=!0,i.checkRevision=n,i.template=o,i.wrapProgram=r,i.resolvePartial=s,i.invokePartial=a,i.noop=l;var h=e("./utils"),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(h),f=e("./exception"),v=function(e){return e&&e.__esModule?e:{default:e}}(f),y=e("./base")},{"./base":71,"./exception":74,"./utils":87}],86:[function(e,t,i){"use strict";function n(e){this.string=e}i.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},i.default=n,t.exports=i.default},{}],87:[function(e,t,i){"use strict";function n(e){return h[e]}function o(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}function r(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function s(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return f.test(e)?e.replace(p,n):e}function a(e){return!e&&0!==e||!(!g(e)||0!==e.length)}function l(e){var t=o({},e);return t._parent=e,t}function u(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.__esModule=!0,i.extend=o,i.indexOf=r,i.escapeExpression=s,i.isEmpty=a,i.createFrame=l,i.blockParams=u,i.appendContextPath=c;var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},p=/[&<>"'`=]/g,f=/[&<>"'`=]/,v=Object.prototype.toString;i.toString=v;
// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
/* eslint-disable func-style */
var y=function(e){return"function"==typeof e};y(/x/)&&(i.isFunction=y=function(e){return"function"==typeof e&&"[object Function]"===v.call(e)}),i.isFunction=y;var g=Array.isArray||function(e){return!(!e||"object"!==(void 0===e?"undefined":d(e)))&&"[object Array]"===v.call(e)};i.isArray=g},{}],88:[function(e,t,i){"use strict";t.exports=e("./dist/cjs/handlebars.runtime").default},{"./dist/cjs/handlebars.runtime":70}]},{},[14]);
(function( diorV7 ) {

    var _envPrefix = "";
    if (window.location.host.indexOf("dep.dev.happyend") > -1) {
        // ajax calls are always made from pages folder, root is what comes before in path
        _envPrefix = window.location.pathname.split("/pages/");
        _envPrefix = _envPrefix[0];
    } else if(window.location.host.indexOf("happyend-prep")>=0) {
        _envPrefix = "/"+window.location.pathname.split("/")[1];
    }

    diorV7.config = {

        tracking: {
            prefix: 'DiorV7_',
            wishlist: {
                connected: '<Connected>',
                notConnected: '<NotConnected>'
            }
        },

        /* Max number of item in Roll */
        WISHLIST_LIMIT: 5,

        webservices: {
            ACCOUNT: {
                ADDRESS: {
                    DELETE: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/address', method: 'DELETE'}
                },

                FORGOTTEN_PASSWORD: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=account/password',
                    method: 'GET'
                },

                ORDER: {
                    CANCEL: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/order', method: 'DELETE'}
                },

                RETURN_PICKUP_TIME: { url: _envPrefix + '/contrib/webservices/ws.php?ws=account/return-pickup-time', method: 'GET' },

                VIDEOS: {
                    GET: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/videos', method: 'GET'},
                    DELETE: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/videos', method: 'DELETE'}
                },
                WISHLIST: {
                    CDC: {
                        GET: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'GET',
                            contentType: 'application/json',
                            xhrFields: {
                                withCredentials: true
                            }
                        },
                        DELETE: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'DELETE',
                            contentType: 'application/json'
                        },
                        UPDATE_PRODUCT: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product', method: 'UPDATE'},
                        POST: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'POST',
                            contentType: 'application/json',
                            xhrFields: {
                                withCredentials: true
                            }
                        },
                        NOT_LOGGED: {
                            LOGIN: {
                                url: '/contrib/webservices/ws.php?ws=account/wishlist-product',
                                method: 'POST'
                            },
                            CREATE: {
                                url: '/contrib/webservices/ws.php?ws=account/wishlist-product?login',
                                method: 'POST'
                            }
                        }
                    },
                    PCD: {
                        GET: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'GET',
                            contentType: 'application/json'
                        },
                        DELETE: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'DELETE',
                            contentType: 'application/json'
                        },
                        UPDATE_PRODUCT: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product', method: 'UPDATE'},
                        POST: {
                            url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-product',
                            method: 'POST',
                            contentType: 'application/json',
                            xhrFields: {
                                withCredentials: true
                            }
                        },
                        NOT_LOGGED: {
                            LOGIN: {
                                url: '/pages/account/signin.php',
                                method: 'POST'
                            },
                            CREATE: {
                                url: '/pages/account/create.php',
                                method: 'POST'
                            }
                        }
                    },
                    SHARE: {url: _envPrefix + '/contrib/webservices/ws.php?ws=account/wishlist-share', method: 'POST', contentType: 'application/json'}
                }
            },
            CART: {
                PCD: {
                    ADD: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/add',
                        method: 'GET',
                        contentType: 'application/json',
                        formatter: null
                    },
                    APPLY_GIFT_WRAP:        {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=pcd', method: 'GET'},
                    APPLY_PROMOCODE:        {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=pcd', method: 'GET'},
                    GET: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=pcd',
                        method: 'GET',
                        contentType: 'application/json',
                        formatter: null
                    },
                    DELETE: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=pcd',
                        method: 'DELETE',
                        contentType: 'application/json',
                        formatter: null
                    },
                    SET_SHIPPING_MODE:      {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=pcd', method: 'GET'},
                    SET_SHIPPING_ADDRESS:   {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=pcd', method: 'GET'},
                    UPDATE_ITEM_QUANTITY:   {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=pcd', method: 'GET'},
                    UPDATE_GIFT_MESSAGE:    {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=pcd', method: 'GET'},
                    // is updated in front? (instead of back)
                    jsUpdate: true,
                    GET_ROLL: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=pcd',
                        method: 'GET',
                        contentType: 'application/json',
                        formatter: null
                    }
                },
                CDC: {
                    ADD: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/add',
                        method: 'GET',
                        contentType: 'application/json',
                        formatter: null
                    },
                    APPLY_GIFT_WRAP:        {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=cdc', method: 'GET'},
                    APPLY_PROMOCODE:        {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=cdc', method: 'GET'},
                    GET: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=cdc',
                        method: 'GET',
                        contentType: 'application/json',
                        formatter: null
                    },
                    DELETE: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=cdc',
                        method: 'DELETE',
                        contentType: 'application/json',
                        formatter: null
                    },
                    SET_SHIPPING_MODE:      {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=cdc', method: 'GET'},
                    SET_SHIPPING_ADDRESS:   {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=cdc', method: 'GET'},
                    UPDATE_ITEM_QUANTITY:   {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=cdc', method: 'GET'},
                    UPDATE_GIFT_MESSAGE:    {url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=cdc', method: 'GET'},
                    // is updated in front? (instead of back)
                    jsUpdate: true,
                    GET_ROLL: {
                        url: _envPrefix + '/contrib/webservices/ws.php?ws=cart/get&origin=cdc',
                        method: 'GET',
                        contentType: 'application/json',
                        formatter: null
                    }
                },
                TIMEOUT_DELAY: 5000
            },

            COUNTIES: {
                url: _envPrefix + '/contrib/webservices/ws.php?ws=uk-counties',
                method: 'GET',
            },

            DELIVERY_DAY_JP: {
                url:  _envPrefix + '/contrib/webservices/ws.php?ws=delivery-time&',
                method: 'GET'
            },

            ENGRAVING: {
                UPDATE: { url: _envPrefix + '/contrib/webservices/ws.php?ws=engraving', method: 'UPDATE' },
                DELETE: { url: _envPrefix + '/contrib/webservices/ws.php?ws=engraving', method: 'DELETE' }
            },

            HOME: {
                RANDOM: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=home/random-product'
                }
            },

            NEWSLETTER: {url: _envPrefix + '/contrib/webservices/ws.php?ws=newsletter', method: 'POST'},

            PRODUCT: {
                STOCK_ALERT: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=product/stock-alert',
                    method: 'POST',
                    contentType: 'application/json',
                    formatter: null
                },
                STOCK_STATUS: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=product/stock-status',
                    method: 'POST',
                    timeout: false,
                    contentType: 'application/json',
                    formatter: null
                }
            },

            SAMPLING: {
                REQUEST: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=sampling/request', method: 'POST'
                }
            },

            SEARCH: {
                GSA: {url: 'http://dior.com:8888/search', method: 'GET'}, //'http://gsa.dior.com/search'
                PRICESRANGE: {url: _envPrefix + '../../assets/json/pricesrange.json', method: 'GET'},
                AUTOCOMPLETE_SUGGESTIONS: {
                    url: _envPrefix + '/contrib/webservices/ws.php?ws=search/autocomplete',
                    method: 'POST'
                }, //http://gsa.dior.com/suggest //'http://dior.com:8888/suggest'
                SEARCH_SUGGESTIONS: {url: _envPrefix + '../../assets/json/suggestions.json', method: 'GET'}
            },

            STORES: { url: _envPrefix + '/contrib/webservices/ws.php?ws=stores', method: 'GET'},

            ZIPCODE: {url: _envPrefix + '/contrib/webservices/ws.php?ws=zipcode', method: 'POST'}

        },

        cookies: {

            domain: window.location.host.substring(window.location.host.lastIndexOf(".", window.location.host.lastIndexOf(".") - 1) + 1),
            path: '/',
            expires: 1,

            CART: {
                PCD: {
                    name: 'CartItemsCount',
                    // is updated in front? (instead of back)
                    jsUpdate: true
                },
                CDC: {
                    name: 'cdc_cart_items_count',
                    // is updated in front? (instead of back)
                    jsUpdate: true
                },
                ENGRAVING_COUNT: 'CartEngravingCount'
            },
            CONNECTED: 'global_isauthenticated',
            ECO_ID: 'GtmEcoId',
            USER: 'userData',
            ACCOUNT_TRACKEVENT: 'account_tracking_event',
            WISHLIST: {
                CDC: 'cdc_wishlist_items_id',
                PCD: 'pcd_wishlist_items_id',
                // is updated in front? (instead of back)
                jsUpdate: true,
                NEED_REFRESH: 'wishlist_need_refresh'
            },
            UNIVERSE: 'currentUniverse',
            NEED_REFRESH: 'needRefresh'
        },

        url: {
            /* default redirection url on player DiorTV button */
            diorTV: 'http://www.dior.com/diortv',
            /* Wishlist add btn: redirection url if not connected */
            account: "https://wws.dior.com/beauty/fr_fr/account-signin.html",
            /* impression open button */
            impression: _envPrefix + '/pages/tunnel/blocks/impression.php'
        },

        MMM: {
            account: 'diorparfums',
            accounts: ['onedior','diorparfums']
        }
    };

    // QUICKBUY / ADDTOCART V6 CONFIG //
    if (!window.core) {
        window.core = {};
    }
    window.core.AjaxConfig = {
        QuickBuy: {
            url : '../../assets_v6/json/quick_buy_makeup.json',
            method: 'GET'
        },
        Cart: {
            PCD: {
                COOKIE: 'CartItemsCount'
            },
            CDC: {
                COOKIE: 'cdc_cart_items_count'
            }
        },
        Product: {
            STOCK_ALERT:            {url: '../../assets_v6/json/stockAlert.json', method: 'POST'},
            STOCK_ALERT_NEWSLETTER: {url: '../../assets_v6/json/stockAlert.json', method: 'POST'}, // ONLY FOR CHINA PCIS
            SEND_BY_MAIL:           {url: '../../assets_v6/json/sendByMail.json', method: 'POST'},
            MULTIPLE_ADD_TO_CART:   {url: '../../assets_v6/json/addToCartMultiple.json', method: 'POST'}
        }
    };

    //#####################################################################
    // CHINA AJAX FORMATTER
    //#####################################################################
    // AJAX INTERCEPTOR
    $.ajaxSetup({
        beforeSend: function(xhr, settings ) {
            if (settings.formatter && settings.formatter.Request) {
                settings.data = settings.formatter.Request( settings.data );
            }
        },
        // FORMAT RESPONSE
        dataFilter: function( data, type ) {
            if (this.formatter && this.formatter.Response) {
                return this.formatter.Response( JSON.parse(data) );
            } else {
                return data;
            }
        }
    });
    /**
     * Exemple of formatter object (both function takes a string and must return a string):
     * formatter: {
     *     Request: function( data ) {
     *         return data;
     *     },
     *     Response: function(response) {
     *          return response;
     *     }
     * }
     */

})( window.diorV7 = window.diorV7 || {} );

(function( diorV7 ) {

    diorV7.config.webservices.ACCOUNT.ADDRESS.EDIT = {url: '/couture/ecommerce/customer/address/edit', method: 'GET'};
    diorV7.config.webservices.ACCOUNT.ADDRESS.DELETE = {url: '/couture/ecommerce/customer/address/delete', method: 'POST'};
    diorV7.config.webservices.ACCOUNT.ORDER.CANCEL = {url: '/couture/ecommerce/sales/order/refundInipay?___store=' + window.smile.magentoStoreCode, method: 'POST'};
    diorV7.config.webservices.ACCOUNT.FORGOTTEN_PASSWORD =  {
        url: '/couture/ecommerce/customer/account/forgotpasswordPost',
        method: 'POST'
    };
    diorV7.config.webservices.ACCOUNT.WISHLIST.CDC.GET.xhrFields = { withCredentials: true };
    diorV7.config.webservices.ACCOUNT.WISHLIST.CDC.DELETE.xhrFields = { withCredentials: true };
    diorV7.config.webservices.ACCOUNT.WISHLIST.CDC.UPDATE_PRODUCT.xhrFields = { withCredentials: true };

    diorV7.config.webservices.SEARCH.GSA.url = 'https://gsa.dior.com';
    diorV7.config.webservices.SEARCH.PRICESRANGE.url = '/search/recherche/pricesrange';
    diorV7.config.webservices.SEARCH.AUTOCOMPLETE_SUGGESTIONS = {url: 'https://gsa.dior.com/suggest' , method: 'GET'};
    diorV7.config.webservices.SEARCH.SEARCH_SUGGESTIONS = '/search/recherche/suggestions';
    diorV7.config.webservices.HOME.RANDOM = {url: '/couture/ecommerce/catalog/product/getHomePageBlocNew/category/'+$('.new-in').data('idcategory')+'/lines/'+$('.new-in').data('lines')+'/frequency/'+$('.new-in').data('frequency')
    +'/ignoredId/'+$('.new-in').data('ignoredId')+'?___store='+$('.new-in').data('store')};



    diorV7.config.webservices.PRODUCT.STOCK_ALERT.contentType = "application/x-www-form-urlencoded";
    diorV7.config.webservices.ACCOUNT.WISHLIST.CDC.GET.contentType = "application/x-www-form-urlencoded; charset=UTF-8";
    diorV7.config.webservices.ACCOUNT.WISHLIST.CDC.UPDATE_PRODUCT.contentType = "application/json";

    diorV7.config.cookies.CART.PCD.jsUpdate = false;
    diorV7.config.cookies.CART.CDC.jsUpdate = false;
    diorV7.config.cookies.WISHLIST.jsUpdate = false;

    // Additional configurations
    diorV7.config.cookies.USER_CONNECTED = {
        name: "userConnected",
        expires: 60*60*24*365
    };

})( window.diorV7 = window.diorV7 || {} );
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _Header = require('./capsule/header/Header.js');

var _Header2 = _interopRequireDefault(_Header);

var _Footer = require('./capsule/footer/Footer.js');

var _Footer2 = _interopRequireDefault(_Footer);

var _Cart = require('./modules/Cart.js');

var _Cart2 = _interopRequireDefault(_Cart);

var _WishList = require('./modules/WishList.js');

var _WishList2 = _interopRequireDefault(_WishList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var capsule = {
    init: function init() {
        var $main = $('main');
        if (!$main.length || !$main.hasClass('dior-v7')) {
            $('html').removeClass('loading');
        }
        if (!window.diorV7) window.diorV7 = {};
        diorV7.Footer = _Footer2.default;
        diorV7.Header = _Header2.default;

        // default options for cookies
        if (!window.diorV7.helpers.isIE11()) {
            // IE11 in strict mode doesn't accept domain
            Cookies.defaults.domain = diorV7.config.cookies.domain;
        }
        Cookies.defaults.path = diorV7.config.cookies.path;
        Cookies.defaults.expires = diorV7.config.cookies.expires;

        var _cart = new _Cart2.default();
        diorV7.wishListModule = new _WishList2.default();

        _Header2.default.init();
        _Footer2.default.init();

        if (diorV7) diorV7.helpers.isIE();

        // Forms init
        var $capsule = $('#popin-wrapper');
        if (_Header2.default.$el.length) $capsule = $capsule.add(_Header2.default.$el);
        if (_Footer2.default.$footer.length) $capsule = $capsule.add(_Footer2.default.$footer);

        $capsule.find('.js-form').formValidator();

        $capsule.find('.js-select').each(function () {
            var $this = $(this);

            $this.customSelect({
                // allows customSelect to consider default option as default
                isDefault: function isDefault($option) {
                    return $option.hasClass('js-custom-select-default');
                },
                defaultInList: $this.hasClass('js-default-in-list') //should default option show in list
            });
        });

        if (diorV7.helpers.isTactile()) {
            $('.dior-v7').find('input[type="text"], input[type="email"], input[type="number"], input[type="password"], input[type="tel"], input[type="url"], textarea').on('focus', function () {
                $('html').addClass('keyboard-opened');
            }).on('blur', function () {
                $('html').removeClass('keyboard-opened');
            });
        }

        // expose method to switch from fullbrowser to fluid
        window.diorCapsule = {
            toFluid: function toFluid() {
                $('html').removeClass('fullbrowser');
                _Header2.default.toFluid();
                $('html').removeClass('header-transparent footer--light footer--transparent');
            }
        };

        //------------------------------------------------------------------------------------------------------------//
        // V6 retro-compatibilité
        //------------------------------------------------------------------------------------------------------------//
        var header = {
            cookieOptions: {},
            rolls: _Header2.default.rolls,
            error: {
                open: function open() {}
            }
        };
        header.cookieOptions = Cookies.defaults;

        if (!window.modules) window.modules = {};
        // override header
        window.modules.header = header;

        // override error on cart (quantity limit on product)
        if (modules.AddToCart) modules.AddToCart.Feedback.Error = diorV7.Header.rolls.onError.bind(diorV7.Header.rolls);
    }
};

$(window).ready(function () {
    capsule.init();
});

},{"./capsule/footer/Footer.js":2,"./capsule/header/Header.js":3,"./modules/Cart.js":18,"./modules/WishList.js":20}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _PopinNewsletter = require('../../components/popins/PopinNewsletter.js');

var _PopinNewsletter2 = _interopRequireDefault(_PopinNewsletter);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Footer = {

    $footer: null,
    footerHeight: -500,

    mouseOver: false,
    outTimeout: null,

    // prevent a double event action (focus+click)
    selectJustReceiveFocus: false,
    selectFocusTimeout: null,

    init: function init() {
        var _this2 = this;

        this.$footer = $('#dior-footer');
        this.$footer.find('.js-form-newsletter').formValidator({
            onSubmit: function onSubmit(e) {
                e.preventDefault();
                diorV7.popinManager.open('newsletter', $('footer .js-form-newsletter input[type="submit"]'));
            }
        });

        // language selection
        this.isEcoCountry();

        // Focus event occurs before the click
        // -> if the click event is raised within a focus event, don't toggle class
        this.$footer.find('.js-imitation-select-button').on('click', function (e) {
            e.preventDefault();
            if (!_this2.selectJustReceiveFocus) {
                $(e.currentTarget).parents('.custom-linkselect:first').toggleClass('custom-linkselect-toggled');
            }
        });

        this.$footer.find('.js-imitation-select-button, .custom-linkselect-list a').on('focus', function (e) {
            e.preventDefault();
            _this2.selectJustReceiveFocus = true;
            $(e.currentTarget).parents('.custom-linkselect:first').addClass('custom-linkselect-toggled');

            clearTimeout(_this2.selectFocusTimeout);
            _this2.selectFocusTimeout = setTimeout(function () {
                _this2.selectJustReceiveFocus = false;
            }, 100);
        });

        // Country Select
        $(document).on('keydown', function (e) {
            var _this = $(e.target);

            if (_this2.$footer.find('.custom-linkselect:first').hasClass('custom-linkselect-toggled')) {
                e.preventDefault();
                // find the current list element focused
                var _focusedLink = $(':focus');
                var _siblingLink = void 0;

                switch (e.keyCode) {
                    case 40:
                        //down arrow
                        _siblingLink = _focusedLink.parent().next('li');
                        if (_siblingLink.length) {
                            _siblingLink.find('a:first').focus();
                        } else {
                            _this2.$footer.find('.custom-linkselect-list:first a:first').focus();
                        }
                        break;
                    case 38:
                        //up arrow
                        _siblingLink = _focusedLink.parent().prev('li');
                        if (_siblingLink.length) {
                            _siblingLink.find('a:first').focus();
                        } else {
                            _this2.$footer.find('.custom-linkselect-list:first a:last').focus();
                        }
                        break;
                    case 27:
                        // escape
                        _this2.$footer.find('.custom-linkselect:first').removeClass('custom-linkselect-toggled');
                        break;
                }
            }
        });

        $(document).on('click', function (e) {
            if (!$(e.target).closest('.js-countries-select-form').length) {
                _this2.$footer.find('.custom-linkselect:first').removeClass('custom-linkselect-toggled');
            }
        });

        $(document).on('keyup', function (e) {
            if (!$(e.target).closest('.js-countries-select-form').length) {
                _this2.$footer.find('.custom-linkselect:first').removeClass('custom-linkselect-toggled');
            }
        });

        // on market change, force the cookies to be refreshed
        this.$footer.find('.js-countries-select-form a').on('click', function (e) {
            _this2.marketChange = true;
        });
        $(window).on('beforeunload', function (e) {
            if (_this2.marketChange) {
                Cookies.set(diorV7.config.cookies.NEED_REFRESH, true);
            }
        });

        // Popin Newsletter
        diorV7.popinManager.instanciate({
            identifier: 'newsletter',
            $el: $('.js-popin-newsletter'),
            triggerEvents: 1
        }, _PopinNewsletter2.default);

        // Footer Light
        if ($('html').hasClass('footer--light')) {
            // compute Footer height
            this.footerHeight = -this.$footer.outerHeight();
            this.close();

            // click outside to close
            $(document).on('click', function (e) {
                if (!$(e.target).closest('#dior-footer').length) {
                    _this2.close();
                }
            });

            this.$footer.find('.js-footer-open').on('click', function (e) {
                e.preventDefault();
                e.stopPropagation();
                _this2.open();
            });

            if (!diorV7.helpers.isTactile()) {
                this.$footer.mouseenter(function (e) {
                    clearTimeout(_this2.outTimeout);
                }).mouseleave(function (e) {
                    clearTimeout(_this2.outTimeout);
                    _this2.outTimeout = setTimeout(_this2.close.bind(_this2), 1000);
                });
            }
        }
    },
    isEcoCountry: function isEcoCountry() {
        var $option = $('.js-countries-select-form').find('.js-imitation-select-button');
        var $icon = this.$footer.find('.js-icon-select');

        if (!$icon.hasClass('icon--visible') && $option.hasClass('is-eco')) {
            $icon.addClass('icon--visible');
        } else {
            $icon.removeClass('icon--visible');
        }
    },
    open: function open() {
        this.$footer.addClass('opened');
    },
    close: function close() {
        this.$footer.removeClass('opened');
    },


    get email() {
        return this.$footer.find('input[type="email"]').val();
    }
};

exports.default = Footer;

},{"../../components/popins/PopinNewsletter.js":17}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
				value: true
});

var _topLayer2 = require('./blocks/topLayer.js');

var _topLayer3 = _interopRequireDefault(_topLayer2);

var _rolls = require('./blocks/rolls.js');

var _rolls2 = _interopRequireDefault(_rolls);

var _topMenu = require('./blocks/topMenu.js');

var _topMenu2 = _interopRequireDefault(_topMenu);

var _SubNav = require('./blocks/SubNav.js');

var _SubNav2 = _interopRequireDefault(_SubNav);

var _SubNavFolding = require('./blocks/SubNavFolding.js');

var _SubNavFolding2 = _interopRequireDefault(_SubNavFolding);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Header = {

				basketTotal: 0,
				subNavSlider: null,

				// the scroll level to display the scrollToTop btn (in px)
				scrollToTopThreshold: 50,

				init: function init() {
								var _this = this;

								this.$el = $('#dior-header');
								this.page = $('#container').data('page');

								// USER IS LOGGED?
								// -> hide/show the connected icon
								// -> display the concerned content in account roll
								var _connected = window.diorV7.Account.connected;

								// current universe
								// -> used in Account to preserve current universe topmenu when switching between CDC & PCD
								if (this.$el.data('current-universe')) {
												Cookies.set(diorV7.config.cookies.UNIVERSE, this.$el.data('current-universe'));
								}

								if (_connected == "1" || _connected == "true") {
												$('.js-bullet-connected').show();
												$('.js-account-roll .js-account-signin').removeClass('account--connected');
												$('.js-account-roll .js-account-nav').addClass('account--connected');
								} else {
												$('.js-account-roll .js-account-signin').addClass('account--connected');
												$('.js-account-roll .js-account-nav').removeClass('account--connected');
								}

								var _topLayer = $('.js-header-top-layer');
								if (_topLayer && _topLayer.length) {
												this.topLayer = new _topLayer3.default(_topLayer);
								}

								this.topMenu = new _topMenu2.default();
								// slider management
								this.subNav = new _SubNav2.default(this);
								// minisite: sub nav is folded by default, and appears on hover
								this.subNavFolding = new _SubNavFolding2.default(this);
								//
								this.rolls = _rolls2.default.init();

								$(window).scroll(function () {
												//if ($('.js-header-top-layer').length) this.topLayer.onScroll();
												if (this.topMenu) this.topMenu.onScroll();
								});

								$(document).on('keydown', function (e) {
												_this.$el.find('.js-transversal-nav > .js-nav-trigger').off("focusin focusout");
												_this.$el.find('.js-transversal-nav > .js-nav-trigger').focusin(function (e) {
																var _$this = $(e.currentTarget);
																if (!_$this.parent().hasClass('transversal-nav--opened')) {
																				_this.$el.find('.js-transversal-nav ul ').removeClass('display-none');

																				_$this.attr('aria-expanded', true);
																				setTimeout(function () {
																								_$this.parent().addClass('transversal-nav--opened');
																				}, 0);
																}
												}).focusout(function (e) {
																var _$this = $(e.currentTarget);
																_$this.parents().removeClass('transversal-nav--opened');
																_$this.attr('aria-expanded', false);
																setTimeout(function () {
																				_this.$el.find('.js-transversal-nav ul ').addClass('display-none');
																}, 0);
												});

												_this.$el.find('.js-transversal-nav > ul > li').focusin(function (e) {
																var _$this = $(e.currentTarget);
																_$this.parents('.js-transversal-nav:first').addClass('transversal-nav--opened');
																_this.$el.find('.js-transversal-nav > .js-nav-trigger').attr('aria-expanded', true);
												}).focusout(function (e) {
																var _$this = $(e.currentTarget);
																_$this.parents('.js-transversal-nav:first').removeClass('transversal-nav--opened');
																_this.$el.find('.js-transversal-nav > .js-nav-trigger').attr('aria-expanded', false);
												});
								});

								this.$el.find('.js-transversal-nav > .js-nav-trigger').on('click', function (e) {
												var _$this = $(e.currentTarget);
												_$this.parent().toggleClass('transversal-nav--opened');
												_$this.attr('aria-expanded', _$this.parent().hasClass('transversal-nav--opened') ? true : false);
								});
								if (diorV7.helpers.isTactile()) {
												this.$el.find('.js-transversal-nav').addClass('is-tactile');
								}

								// Update cart length on quickbuy
								diorV7.dispatcher.on('addToCart::success', this.rolls.addedToCart, this.rolls);

								diorV7.dispatcher.on('header::close', this.closeAll, this);

								// scroll to top
								var $toTop = $('#scrollToTop');
								if ($toTop.length) {
												$(window).on('scroll', function (e) {
																if ($(window).scrollTop() > _this.scrollToTopThreshold) {
																				$toTop.addClass('active');
																} else {
																				$toTop.removeClass('active');
																}
												});

												$toTop.on('click', function () {
																$("html, body").stop().animate({ scrollTop: 0 }, '500');
												});
								}

								// Use signal to dispatch scroll to tablet
								if (diorV7.helpers.isTactile() && this.topLayer && this.topMenu) {
												diorV7.dispatcher.on('window::scroll', this.topLayer.onScroll, this.topLayer);
												diorV7.dispatcher.on('window::scroll', this.topMenu.onScroll, this.topMenu);
								}
				},
				closeAll: function closeAll() {
								if (this.topLayer) this.topLayer.close();
								this.rolls.closeAll();
								this.topMenu.close();
				},
				toFluid: function toFluid() {
								$('#dior-header').removeClass('header--transparent');
								this.subNavFolding.toFluid();
				},
				getUniverse: function getUniverse() {
								var currentUniverse = Cookies.get(diorV7.config.cookies.UNIVERSE) || 0;

								if (currentUniverse) {
												this.$el.find('.main-nav li').each(function () {
																var linkList = $("a", this);

																if (linkList.data("nav-universe") && linkList.data("nav-universe").toUpperCase() === currentUniverse.toUpperCase()) {
																				$(".nav-item--active").removeClass("nav-item--active");
																				linkList.addClass("nav-item--active");
																}
												});
								}
				}
};

exports.default = Header;

},{"./blocks/SubNav.js":4,"./blocks/SubNavFolding.js":5,"./blocks/rolls.js":6,"./blocks/topLayer.js":12,"./blocks/topMenu.js":13}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var SubNav = function () {
	// Search autocomplete (WS GSA)
	// jshint ignore:end

	// jshint ignore:start
	function SubNav(header) {
		var _this = this;

		_classCallCheck(this, SubNav);

		this.$li = null;
		this.length = 0;
		this.totalWidth = 0;
		this.offsetIndex = 0;
		this.offset = 0;
		this.margin = 40;
		this.numVisibles = 0;
		this.autoComplete = null;


		this.$el = $('header:first .js-header-subnav:first');
		this.$container = this.$el.find('.js-subnav-items:first');
		this.$li = this.$container.find('li');
		this.length = this.$li.length;

		var _delay = !diorV7.helpers.isIE() ? 350 : 550;
		setTimeout(function () {
			if ($('html').hasClass('header--light')) {
				_this.$el.addClass('invisible').show();
			}

			_this.totalWidth = Math.ceil(_this.$container.outerWidth(true)) + 1;
			_this.$container.width(_this.totalWidth);

			if ($('html').hasClass('header--transparent')) {
				_this.$el.hide();
			}
			_this.$el.removeClass('invisible');

			$(window).resize(_this.onResize.bind(_this));
			_this.onResize();
		}, _delay);

		this.$el.find('.js-subnav-next').on('click', this.next.bind(this));
		this.$el.find('.js-subnav-previous').on('click', this.previous.bind(this));

		this.buildSearch();
	}

	_createClass(SubNav, [{
		key: 'onResize',
		value: function onResize() {
			if ($('#dior-header').hasClass('js-header-transparent')) {
				$('.js-header-subnav').addClass('invisible').show();
			}

			var _availableWidth = Math.ceil(Math.min(1440, $(window).width()) - this.margin);
			this.$el.find('nav').removeAttr('style');

			if (_availableWidth < this.totalWidth) {
				// we msut build a slider to show all items
				this.$el.addClass('subnav-slider');
				// slider width: do not crop a link!
				var _width = 0;
				var j = 0;
				for (var i = 0; i < this.length; ++i) {
					var _w = $(this.$li[i]).outerWidth(true);

					if (_width + _w < _availableWidth) {
						_width += _w;
						++j;
					} else {
						break;
					}
				}

				this.numVisibles = j;
				this.viewportWidth = Math.ceil(_width);

				this.$el.find('nav').width(this.viewportWidth);
			} else {
				// remove slider
				this.$el.removeClass('subnav-slider');
				this.$el.find('nav').width(_availableWidth);
			}

			if ($('#dior-header').hasClass('js-header-transparent')) {
				$('.js-header-subnav').hide().removeClass('invisible');
			}
		}
	}, {
		key: 'next',
		value: function next() {
			if (this.offsetIndex < this.length - this.numVisibles) {
				this.offset += $(this.$li[this.offsetIndex + this.numVisibles]).outerWidth();
				++this.offsetIndex;

				this.$container.css('margin-left', -this.offset);

				$('.js-subnav-button').removeClass('disabled');
				if (this.offsetIndex === this.length - this.numVisibles) $('.js-subnav-next').addClass('disabled');
			}
		}
	}, {
		key: 'previous',
		value: function previous() {
			if (this.offsetIndex > 0) {
				--this.offsetIndex;
				this.offset -= $(this.$li[this.offsetIndex + this.numVisibles]).outerWidth();

				this.$container.css('margin-left', -this.offset);

				$('.js-subnav-button').removeClass('disabled');
				if (this.offsetIndex === 0) $('.js-subnav-previous').addClass('disabled');
			}
		}
	}, {
		key: 'buildSearch',
		value: function buildSearch() {
			var $input = $('#search-header');
			this.autoComplete = new diorV7.AutoCompleteSearch($input);
		}
	}]);

	return SubNav;
}();

exports.default = SubNav;

},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Need babel preset stage-2 to be able to declare class properties
 */
var SubNavFolding = function () {
    // jshint ignore:end

    function SubNavFolding(header) {
        var _this = this;

        _classCallCheck(this, SubNavFolding);

        this.header = null;
        this.mouseOver = false;
        this.isOpen = true;
        this.threshold = 5;
        this.$el = null;
        this.transparent = false;
        this.overTimeout = null;
        this.transitionDuration = 400;
        this.transitionTimeout = null;
        this.open = null;
        this.close = null;


        if (!header) {
            console.warn('[SubNavFolding]: need a reference of the header instance.');
        }

        this.header = header;
        this.$el = header.$el.find('.js-subnav-fold:first');

        if (!this.$el || !this.$el.length) {
            // no subnav
            // console.log('[SubNavFolding]: No class ".js-header-subnav", so nothing to do...');
            return null;
        }

        // case transparent: subnav is folded
        // on roll :
        // - 1. add background with transition
        // - 2. deploy subnav
        if (this.header.$el.hasClass('js-header-transparent')) {
            this.transparent = true;
            this.threshold = -1;

            this.$el.hide();
            this.closeSimple();

            this.open = this.openWithTrans;
            this.close = this.closeWithTrans;
            this.openSimpleProxy = this.openSimple.bind(this);
            this.onClosedProxy = this.onClosedWithTrans.bind(this);
        } else {
            if ($('html').hasClass('fullbrowser')) {
                this.threshold = -1;
            } else {
                $(window).scroll(this.onScroll.bind(this));
            }

            this.open = this.openSimple;
            this.close = this.closeSimple;

            this.isOpen = false;
            this.$el.css({ top: -this.$el.outerHeight() - 2 });
            // wait for subnav to process width & slider
            setTimeout(this.onScroll.bind(this), 500);
        }

        if (!diorV7.helpers.isTactile()) {
            this.header.$el.mouseenter(function (e) {
                clearTimeout(_this.overTimeout);

                if (!_this.mouseOver) {
                    //this.open(true);
                    _this.overTimeout = setTimeout(function () {
                        _this.open(true);
                    }, 300);
                }
                _this.mouseOver = true;
            }).mouseleave(function (e) {
                _this.mouseOver = false;

                clearTimeout(_this.overTimeout);
                _this.overTimeout = setTimeout(_this.onScroll.bind(_this), 1000);
            });
        } else {
            // first tap on header
            this.header.$el.on('touchend', function (e) {
                if (!_this.isOpen) {
                    e.preventDefault();
                    e.stopPropagation();

                    if (!_this.mouseOver) {
                        _this.open(true);
                    }
                    _this.mouseOver = true;
                }
            });
            // tap outside
            $('main').on('touchend', function (e) {
                /*if (this.isOpen) {
                 e.preventDefault();
                 }*/
                _this.mouseOver = false;

                clearTimeout(_this.overTimeout);
                _this.overTimeout = setTimeout(_this.onScroll.bind(_this), 1000);

                diorV7.dispatcher.trigger('header::close');

                _this.header.rolls.closeAll();
                _this.header.topLayer.close();
                _this.header.topMenu.close();
            });
        }
    }

    // jshint ignore:start


    _createClass(SubNavFolding, [{
        key: 'onScroll',
        value: function onScroll() {
            var _top = $(window).scrollTop();
            if (this.mouseOver) {
                this.open(true);
            } else if (_top > this.threshold) {
                this.close();
            } else {
                this.open(true);
            }
        }

        // open/close simple: only subnav is animated

    }, {
        key: 'openSimple',
        value: function openSimple(e) {
            var _this2 = this;

            if (e) clearTimeout(this.overTimeout);

            this.$el.show();
            if (this.transparent) this.header.$el.find('.header-top-bar').off(diorV7.helpers.transitionEnd(), this.openSimpleProxy);

            if (!this.isOpen) {
                // need to wait for css transition to work (display none)
                setTimeout(function () {
                    _this2.$el.css({ top: 0 });
                }, 10);
                this.isOpen = true;
            } else if (this.mouseOver) {
                this.close();
            }
        }
    }, {
        key: 'closeSimple',
        value: function closeSimple(e) {
            if (this.isOpen && !this.mouseOver) {
                // notify topMenu to close if its open
                diorV7.dispatcher.trigger('subnav::fold');

                this.$el.css({ top: -this.$el.outerHeight() - 2 });
                this.isOpen = false;
            }
        }

        // open/close with header transparent (anim header before unfold, and fold before header)

    }, {
        key: 'openWithTrans',
        value: function openWithTrans() {
            clearTimeout(this.overTimeout);
            this.header.$el.find('.header-top-bar').on(diorV7.helpers.transitionEnd(), this.openSimpleProxy);
            this.header.$el.removeClass('header--transparent');
        }
    }, {
        key: 'closeWithTrans',
        value: function closeWithTrans() {
            if (this.isOpen) {
                this.$el.on(diorV7.helpers.transitionEnd(), this.onClosedProxy);
                this.closeSimple();
            } else {
                this.onClosedWithTrans();
            }
        }
    }, {
        key: 'onClosedWithTrans',
        value: function onClosedWithTrans() {
            if (!this.mouseOver && !this.header.topLayer.isOpened) {
                this.header.$el.addClass('header--transparent');
                this.$el.hide();
            }
            this.$el.off(diorV7.helpers.transitionEnd(), this.onClosedProxy);
        }
    }, {
        key: 'toFluid',
        value: function toFluid() {
            this.open = this.openSimple;
            this.close = this.closeSimple;
        }
    }]);

    return SubNavFolding;
}();

exports.default = SubNavFolding;

},{}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _Wishlist = require('./rolls/Wishlist.js');

var _Wishlist2 = _interopRequireDefault(_Wishlist);

var _Account = require('./rolls/Account.js');

var _Account2 = _interopRequireDefault(_Account);

var _Error = require('./rolls/Error.js');

var _Error2 = _interopRequireDefault(_Error);

var _Cart = require('./rolls/Cart.js');

var _Cart2 = _interopRequireDefault(_Cart);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rolls = {
    instances: [],

    current: null,
    isOpened: false,

    init: function init() {
        var _this = this;

        if ($('.js-cart-roll ').length) {
            this.cart = new _Cart2.default();
            this.instances.push(this.cart);
        }
        if (!$('html').hasClass('no-wishlist') && $('.js-wishlist-roll ').length) {
            this.wishlist = new _Wishlist2.default();
            this.instances.push(this.wishlist);
        }
        if ($('.js-account-roll ').length) {
            this.account = new _Account2.default();
            this.instances.push(this.account);
        }
        if ($('.js-error-roll ').length) {
            this.error = new _Error2.default($('.js-error-roll'));
            this.instances.push(this.error);
        }

        if (diorV7.helpers.isTactile()) {
            $(document).on('touchstart', function (event) {
                if (!$(event.target).closest('.header-roll').length) {
                    _this.closeAll();
                }
            });
        }

        return this;
    },


    /**
     * Update cart length on quickbuy
     */
    addedToCart: function addedToCart() {
        this.cart.dirty = true;
        this.cart.get();
    },
    closeAll: function closeAll() {
        this.instances.forEach(function (roll) {
            roll.close();
        });
    },


    //----------------------------------------------------------------------------------------------------------------//
    /* FOR V6 ONLY */
    //----------------------------------------------------------------------------------------------------------------//
    close: function close() {
        this.closeAll();
    },
    open: function open() {
        if (this.current) this.current.open();
    },
    toggle: function toggle(newRoll, active) {
        /* IF CART: open only if carts not empty */
        if (!newRoll || !newRoll.length) {
            this.cart.open();
        } else {
            var _id = newRoll.attr('id');

            if (_id.indexOf('account') != -1) this.account.open();else if (_id.indexOf('wishlist') != -1) this.wishlist.open();else if (_id.indexOf('error') != -1) this.error.open();
        }
    },
    onError: function onError(data) {
        if (data) {
            if (Array.isArray(data.errorMessages)) $('#errorRoll .default-message').html(data.errorMessages.join('<br/>'));else console.warn('Capsule -> rolls.js -> data.errorMessages is undefined on error roll');
        }
        this.toggle($('#errorRoll'), true);
    }
};

exports.default = rolls;

},{"./rolls/Account.js":7,"./rolls/Cart.js":8,"./rolls/Error.js":9,"./rolls/Wishlist.js":11}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Roll2 = require('./Roll.js');

var _Roll3 = _interopRequireDefault(_Roll2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Account = function (_Roll) {
    _inherits(Account, _Roll);

    function Account() {
        _classCallCheck(this, Account);

        var _this = _possibleConstructorReturn(this, (Account.__proto__ || Object.getPrototypeOf(Account)).call(this, $('.js-account-roll')));

        if (diorV7.Account.connected) {
            diorV7.DOMStateManager.show(_this.$el.find('.js-account-nav'));
            diorV7.DOMStateManager.show(_this.$el.parents('li:first').find('.js-account-connected'));

            // track the account event: could be creation or connexion
            // the value of the cookie is the action name
            var _action = Cookies.get(diorV7.config.cookies.ACCOUNT_TRACKEVENT);
            if (_action) {
                _action = diorV7.tracking.stringToObject(_action);
                if ((typeof _action === 'undefined' ? 'undefined' : _typeof(_action)) !== 'object') _action = {};
                _action.eventCategory = dataLayerInfo.pageType;

                if (diorV7.tracking.initialized) diorV7.tracking.trackObjectString(_action);else {
                    diorV7.dispatcher.on('tracking:init', function () {
                        diorV7.tracking.trackObjectString(_action);
                    });
                }
                Cookies.remove(diorV7.config.cookies.ACCOUNT_TRACKEVENT);
            }

            // inject user name
            var _cookieData = Cookies.get(diorV7.config.cookies.USER);
            if (_cookieData) {
                var _userData = JSON.parse(_cookieData.replace(/\+/g, ' '));
                $('.js-user-name').text(_userData.name);
            } else {
                console.warn('[Account]: something went wrong: you\'re connected but without user data. The cookie "' + diorV7.config.cookies.USER + '" is missing.');
            }
        } else {
            diorV7.DOMStateManager.show(_this.$el.find('.js-account-signin'));
        }
        return _this;
    }

    _createClass(Account, null, [{
        key: 'connected',
        get: function get() {
            var _connected = Cookies.get(diorV7.config.cookies.CONNECTED);
            if (_connected !== undefined) {
                return diorV7.helpers.stringToBoolean(_connected);
            } else {
                return false;
            }
        }
    }]);

    return Account;
}(_Roll3.default);

// expose static methods


window.diorV7.Account = Account;

exports.default = Account;

},{"./Roll.js":10}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _Roll2 = require('./Roll.js');

var _Roll3 = _interopRequireDefault(_Roll2);

var _templates = require('../../../templates.js');

var _templates2 = _interopRequireDefault(_templates);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Private instance of Cart
 */
var _inst = void 0;

var Cart = function (_Roll) {
    _inherits(Cart, _Roll);

    function Cart() {
        _classCallCheck(this, Cart);

        var _this = _possibleConstructorReturn(this, (Cart.__proto__ || Object.getPrototypeOf(Cart)).call(this, $('.js-cart-roll')));

        _this.init();
        _inst = _this;
        return _this;
    }

    _createClass(Cart, [{
        key: 'init',
        value: function init() {
            var _this2 = this;

            this.reset();
            this.closeTimeout = 2000;

            this.maxHeight = 375; // no scroll if 2 products (btn order must be visible)

            // Empty Cart disable cart link
            this.$parent.find('.js-cart-link').on('click', function (e) {
                var currentCartTotal = parseInt(_this2.$el.parent().find('.js-cart-total').text().replace(/[\(\)]/g, ''));
                if (!currentCartTotal) {
                    e.preventDefault();
                }
            }).on('mouseover', function () {
                $(this).removeAttr('role').attr('aria-expanded', true);
            }).on('mouseout', function () {
                $(this).attr('role', 'button').attr('aria-expanded', false);
            });

            diorV7.helpers.registerHandlebarsHelper('stringify', 'truncate');

            this.refreshUniverses();

            this.$el.on('click', '.js-cart-item-remove', function (e) {
                return diorV7.CartModule.removeFromButton(e);
            });

            diorV7.CartModule.on('removed', function ($product) {
                $product.remove();
                _this2.refreshUniverses();
            });

            diorV7.CartModule.on('added', function (silent) {
                _this2.refreshUniverses();
                if (!silent) {
                    _this2.open();
                    _this2.timeout = setTimeout(function () {
                        return _this2.close();
                    }, _this2.closeTimeout);
                }
            });
            diorV7.CartModule.on('error', this.setError.bind(this));
        }
    }, {
        key: 'open',
        value: function open() {
            var _this3 = this;

            _get(Cart.prototype.__proto__ || Object.getPrototypeOf(Cart.prototype), 'open', this).call(this, function () {
                _this3.reset();
                _this3.$el.addClass('loading');
                diorV7.CartModule.get(_this3.render.bind(_this3));
            });
        }
    }, {
        key: 'reset',
        value: function reset() {
            this.rendered = 0;
            this.$el.removeClass('has-pcd has-cdc has-double-cart has-error');
        }
    }, {
        key: 'render',
        value: function render() {

            if (diorV7.data.cart.PCD) this.renderOrigin('PCD', diorV7.data.cart.PCD);
            if (diorV7.data.cart.CDC) this.renderOrigin('CDC', diorV7.data.cart.CDC);
            this.rendered = 1;

            this.$el.removeClass('loading has-error');

            if (this.totalCDC > 0 && this.totalPCD > 0) {
                this.$el.addClass('has-double-cart');
            } else {
                this.$el.removeClass('has-double-cart');
            }
        }

        /**
         * Renders cart products for origin
         * @param origin {'PCD' | 'CDC'}
         * @param data
         */

    }, {
        key: 'renderOrigin',
        value: function renderOrigin(origin, data) {
            origin = origin.toUpperCase();
            var _origin = origin.toLowerCase();

            this.$el.toggleClass('has-' + _origin, data.basket.productsQuantity > 0);

            var $cart = this.$el.find('.js-cart-' + _origin);
            $cart.find('.js-cart-items').html(_templates2.default.cart(data));
            $cart.find('.js-cart-quantity').text(data.basket.productsQuantity);
            $cart.find('.js-subtotal-quantity').text(data.basket.subTotalWithCurrency);
        }

        /**
         * Check if we have products for each universe
         */

    }, {
        key: 'refreshUniverses',
        value: function refreshUniverses() {
            var _total = diorV7.CartModule.total;
            var _origins = ['CDC', 'PCD'];

            for (var i = 0; i < 2; ++i) {
                var _origin = _origins[i];

                if (diorV7.data.cart[_origin]) {
                    var $cart = this.$el.find('.js-cart-' + _origin.toLowerCase());
                    $cart.find('.js-cart-quantity').text(diorV7.data.cart[_origin].basket.productsQuantity);
                    $cart.find('.js-subtotal-quantity').text(diorV7.data.cart[_origin].basket.subTotalWithCurrency);
                }
            }

            diorV7.DOMStateManager.toggleHidden(this.$parent.find('.js-cart-total').text(_total > 9 ? '9+' : _total), !_total);

            this.$el.toggleClass('has-pcd', diorV7.CartModule.totalFor('PCD') > 0);
            this.$el.toggleClass('has-cdc', diorV7.CartModule.totalFor('CDC') > 0);
        }
    }, {
        key: 'setError',
        value: function setError(data) {
            this.$el.addClass('has-error');
            if (data.message) this.$el.find('.js-roll-error').text(data.message);

            diorV7.Header.rolls.onError(data);
        }
    }]);

    return Cart;
}(_Roll3.default);

// expose static methods


window.diorV7.Cart = Cart;

exports.default = Cart;

},{"../../../templates.js":14,"./Roll.js":10}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _Roll2 = require('./Roll.js');

var _Roll3 = _interopRequireDefault(_Roll2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ErrorRoll = function (_Roll) {
	_inherits(ErrorRoll, _Roll);

	function ErrorRoll() {
		_classCallCheck(this, ErrorRoll);

		return _possibleConstructorReturn(this, (ErrorRoll.__proto__ || Object.getPrototypeOf(ErrorRoll)).apply(this, arguments));
	}

	_createClass(ErrorRoll, [{
		key: 'open',
		value: function open() {
			var _this2 = this;

			_get(ErrorRoll.prototype.__proto__ || Object.getPrototypeOf(ErrorRoll.prototype), 'open', this).call(this);

			this.timer = window.setTimeout(function () {
				clearTimeout(_this2.timer);
				_this2.close();
			}, 4000);
		}
	}]);

	return ErrorRoll;
}(_Roll3.default);

exports.default = ErrorRoll;

},{"./Roll.js":10}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Dispatcher = require('./../../../../modules/Dispatcher.js');

var _Dispatcher2 = _interopRequireDefault(_Dispatcher);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Roll = function () {
    function Roll($el) {
        var _this = this;

        _classCallCheck(this, Roll);

        this.$el = $el;
        this.$parent = this.$el.parent('li:first');
        this.dispatcher = new _Dispatcher2.default();
        this.autoclose = !this.$el.attr('data-auto-close') || this.$el.attr('data-auto-close') && this.$el.attr('data-auto-close') === 'true';
        this.closeDelay = 1000;

        this._close = function (e) {
            if (!_this.$el.is(e.target) && !_this.$el.has(e.target).length) {
                _this.close();
            }
        };
        this._addListeners();
    }

    _createClass(Roll, [{
        key: '_addListeners',
        value: function _addListeners() {
            var _this2 = this;

            if (!diorV7.helpers.isTactile()) {
                this.$parent.hoverIntent({
                    over: this.open.bind(this),
                    out: function out() {
                        if (_this2.autoclose) {
                            if (_this2.closeDelay) _this2.closeDelayTimeout = setTimeout(_this2.close.bind(_this2), _this2.closeDelay);else _this2.close();
                        }
                    }
                });
            } else {
                this.$parent.children('a').on('click', this.toggle.bind(this));
            }
            // ADA keypress nav 
            $(document).on('keydown', function (e) {
                if (e.keyCode === 27) {
                    diorV7.Header.rolls.closeAll();
                }
                if (e.keyCode === 9 && !$(e.target).parents('.js-roll-container').length) {
                    diorV7.Header.rolls.closeAll();
                }
            });

            this.$parent.focusin(this.open.bind(this)).focusout(function (e) {
                if (_this2.autoclose && !$(e.currentTarget).parents(_this2.$el).length) {
                    _this2.close();
                }
            });
        }
    }, {
        key: 'init',
        value: function init() {}
    }, {
        key: 'toggle',
        value: function toggle() {
            if (this.$parent.hasClass('active')) this.close();else this.open();
        }
    }, {
        key: 'open',
        value: function open(cb) {
            var _this3 = this;

            if (this.closeDelayTimeout) clearTimeout(this.closeDelayTimeout);
            if (!this.$parent.hasClass('active')) {
                diorV7.Header.rolls.closeAll();
                this.$parent.addClass('active');
                this.$parent.find('button').attr('aria-expanded', true);
                diorV7.DOMStateManager.show(this.$el);
                this.dispatcher.trigger('show', this);
                if (typeof cb === 'function') cb();
            }
            setTimeout(function () {
                $(document).one('click', _this3._close);
            }, 1);
        }
    }, {
        key: 'close',
        value: function close() {
            this.$parent.removeClass('active');
            this.$parent.find('button').attr('aria-expanded', false);
            diorV7.DOMStateManager.hide(this.$el);
            this.dispatcher.trigger('hide', this);
            $(document).off('click ', this._close);
        }
    }]);

    return Roll;
}();

exports.default = Roll;

},{"./../../../../modules/Dispatcher.js":19}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _Roll2 = require('./Roll.js');

var _Roll3 = _interopRequireDefault(_Roll2);

var _templates = require('../../../templates.js');

var _templates2 = _interopRequireDefault(_templates);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Wishlist = function (_Roll) {
    _inherits(Wishlist, _Roll);

    function Wishlist() {
        _classCallCheck(this, Wishlist);

        var _this = _possibleConstructorReturn(this, (Wishlist.__proto__ || Object.getPrototypeOf(Wishlist)).call(this, $('.js-wishlist-roll')));

        _this.init();
        return _this;
    }

    _createClass(Wishlist, [{
        key: 'init',
        value: function init() {
            var _this2 = this;

            this.dirty = true;
            this.limit = diorV7.config.WISHLIST_LIMIT;
            this.closeTimeout = 2000;

            if (diorV7.Account.connected) {
                diorV7.WishListModule.on('complete', this.render.bind(this));
                diorV7.WishListModule.on('error', this.setError.bind(this));
                diorV7.WishListModule.on('added', function () {
                    _this2.dirty = true;
                    _this2.open();
                    _this2.timeout = setTimeout(function () {
                        return _this2.close();
                    }, _this2.closeTimeout);
                });
                diorV7.WishListModule.on('removed', function () {
                    _this2.dirty = true;
                    // wait for cookie to be updated
                    setTimeout(function () {
                        _this2.updateTotal(diorV7.WishListModule.total);
                    }, 50);
                });

                this.dispatcher.on('show', function () {
                    if (diorV7.Account.connected) {
                        if (_this2.dirty) {
                            // clear: assume we have items, and display loading
                            _this2.$el.addClass('is-connected loading has-items').find('.js-wishlist-products').empty();

                            diorV7.WishListModule.get();
                            _this2.dirty = false;
                        }
                    }
                });

                this.updateTotal(diorV7.WishListModule.total);

                // is the WS wishlist already done (actually very rare case, only he staging possible issue)
                if (diorV7.data.account && diorV7.data.account.wishlist) {
                    this.render(diorV7.data.account.wishlist);
                }

                diorV7.DOMStateManager.show(this.$el.find('.wishlist-products'));
            } else {
                diorV7.DOMStateManager.hide(this.$parent.find('.js-wishlist-total'));
                diorV7.DOMStateManager.show(this.$el.find('.wishlist-signin'));
            }
        }
    }, {
        key: 'open',
        value: function open() {
            _get(Wishlist.prototype.__proto__ || Object.getPrototypeOf(Wishlist.prototype), 'open', this).call(this);
            clearTimeout(this.timeout);
        }
    }, {
        key: 'close',
        value: function close() {
            _get(Wishlist.prototype.__proto__ || Object.getPrototypeOf(Wishlist.prototype), 'close', this).call(this);
            clearTimeout(this.timeout);
        }
    }, {
        key: 'render',
        value: function render(data) {
            this.$el.removeClass('loading');

            if (data.length) {
                this.$el.addClass('has-items');
                // only 5 items max (security: the WS should be called with a limit in param)
                var _items = data.slice(0, Math.min(5, data.length));
                this.$el.find('.js-wishlist-products').html(_templates2.default.wishlist(_items));
            } else {
                this.$el.removeClass('has-items').find('.js-wishlist-products').empty();
            }

            // maybe the WS is called with a limit param
            // -> check cookies for accurate length
            this.updateTotal(window.diorV7.WishListModule.total);
        }

        /**
         * Updates wishlist total 'bullet' and displays it if more than 0
         * @param total {int}
         */

    }, {
        key: 'updateTotal',
        value: function updateTotal(total) {
            diorV7.DOMStateManager.toggleHidden(this.$parent.find('.js-wishlist-total').text(total > 9 ? '9+' : total), !total);
        }
    }, {
        key: 'setError',
        value: function setError(data) {
            this.$el.removeClass('loading');
            this.$el.addClass('has-error');
            if (data.message) this.$el.find('.js-roll-error').text(data.message);
        }
    }]);

    return Wishlist;
}(_Roll3.default);

exports.default = Wishlist;

},{"../../../templates.js":14,"./Roll.js":10}],12:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TopLayer = function () {
	// jshint ignore:end

	// jshint ignore:start
	function TopLayer($el) {
		var _this = this;

		_classCallCheck(this, TopLayer);

		this.isOpened = false;
		this.onClickClose = false;
		this.autoOpen = undefined;
		this.autoReOpen = false;
		this.timesOpened = 0;
		this.maxTimesOpen = 2;
		this.expiration = 1;
		this.timer = null;
		this.linkArray = {};
		this.height = "2.5rem";


		this.$el = $el;

		this.mode = 'init';
		this.autoReOpen = this.$el;

		// READ PARAMS
		this.autoOpen = this.$el.data('auto-open');

		if (this.autoOpen) {
			this.maxTimesOpen = this.$el.data('capping');
			// DEFAULT: 1 open every 15 days
			if (!this.maxTimesOpen) {
				this.maxTimesOpen = 1;
			}

			var cookieOptions = window.Cookies ? $.extend({}, Cookies.defaults) : {};

			this.expiration = parseInt(this.$el.data('cookie-expiration'));
			if (this.expiration && this.expiration > 0) {
				cookieOptions.expires = this.expiration;
			}

			this.timesOpened = Cookies.get('advantages_opened');
			// first time we go to dior.com?
			if (!this.timesOpened || this.timesOpened === undefined) {
				this.timesOpened = 0;
			}

			if (this.timesOpened < this.maxTimesOpen) {
				this.autoOpen = true;
				//IE9 warning: $.extends create an invalid object for cookie
				Cookies.set('advantages_opened', ++this.timesOpened, cookieOptions);
			} else {
				this.autoOpen = false;
				this.autoReOpen = false;
			}
		}

		/* FIRST TIME OPEN */
		if (this.autoOpen) this.open();

		this.$el.on('mouseover', function () {
			clearTimeout(_this.timer);
		});

		this.$el.find('.js-top-layer-close').on('click touch', function (e) {
			_this.onClickClose = true;
			var cookieOptions = void 0;
			if (diorV7) {
				cookieOptions = $.extend({}, diorV7.cookieOptions);
			} else {
				cookieOptions = {};
			}
			Cookies.set('advantages_opened', _this.maxTimesOpen, cookieOptions);
			_this.close(e);
		});
	}

	// could be a signal listener 


	// only one line of text, so height is constant

	// store which topLayer to reopen, or false if nothing to open on scroll top


	_createClass(TopLayer, [{
		key: 'onScroll',
		value: function onScroll(e, top) {
			var _scrollTop = $(window).scrollTop();
			if (_scrollTop === 0 && this.autoReOpen) {
				this.open();
			} else if (this.isOpened) {
				this.close();
			}
		}
	}, {
		key: 'open',
		value: function open() {
			if (this.isOpened) return;
			if (this.onClickClose === true) return;
			// autoReOpen could be a boolean or a jQuery element
			if (!this.autoReOpen) return;

			this.isOpened = true;

			if (Modernizr.csstransitions) {
				this.$el.off(diorV7.helpers.transitionEnd()).on(diorV7.helpers.transitionEnd(), this.onOpened.bind(this));
				if (this.timesOpened < this.maxTimesOpen && this.isOpened === true) {
					this.$el.addClass('open');
				}
			} else {
				this.$el.stop().css({ height: this.height });
				this.onOpened.bind(this);
			}

			$(document.body).addClass('toplayer--opened');
		}
	}, {
		key: 'onOpened',
		value: function onOpened() {
			if (diorV7 && diorV7.dispatcher) {
				diorV7.dispatcher.trigger('header::topLayerOpening', this.height);
			}
		}
	}, {
		key: 'close',
		value: function close(e) {
			if (e) {
				e.preventDefault();
				this.autoReOpen = false;
			}
			if (!this.isOpened) return;

			this.isOpened = false;

			if (Modernizr.csstransitions) {
				this.$el.off(diorV7.helpers.transitionEnd()).on(diorV7.helpers.transitionEnd(), this.onClosed.bind(this));
				this.$el.removeClass('open');
				this.$el.css({ 'display': 'none' });
			} else {
				this.$el.animate({ height: 0 }, 'slow');
				this.$el.stop().animate({ height: 0 }, 'slow', this.onClosed.bind(this));
			}

			$(document.body).removeClass('toplayer--opened');
		}
	}, {
		key: 'onClosed',
		value: function onClosed() {
			if (diorV7 && diorV7.dispatcher) {
				diorV7.dispatcher.trigger('header::topLayerClosed');
			}
			this.$el.css({ 'display': 'none' });
			//modules.header.rolls.positionRollsTop();
		}
	}]);

	return TopLayer;
}();

exports.default = TopLayer;

},{}],13:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Need babel preset stage-2 to be able to declare class properties
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */


var _equalHeight = require('../../../modules/equalHeight.js');

var _equalHeight2 = _interopRequireDefault(_equalHeight);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var TopMenu = function () {
	// jshint ignore:end

	function TopMenu() {
		var _this = this;

		_classCallCheck(this, TopMenu);

		this.current = null;
		this.activeMenu = $(".js-header-subnav .js-topmenu-trigger.active");
		this.defaultActiveIndex = 0;
		this.isOpened = false;
		this.$container = null;
		this.overlay = null;
		this.mouseTimer = null;
		this.timeOut = 350;
		this.titleTimeOut = null;
		this.needScroll = false;
		this.heightToScroll = 0;


		this.$container = $('.js-header-topmenu');
		this.activeMenu = $(".js-header-subnav .js-topmenu-trigger.active");
		this.$overlay = $('#page-overlay');

		if (this.$container.find(".js-nav-content").length > 0) {

			this.current = this.$container.find(".js-nav-content:first");

			if (!diorV7.helpers.isTactile()) {

				$('.js-header-subnav .js-topmenu-trigger[data-targettopmenu], .js-header-sticky .js-topmenu-trigger[data-targettopmenu], .nav-content').on("mouseover", function (e) {
					if (_this.closeToSticky) return;
					window.clearTimeout(_this.mouseTimer);
					_this.mouseTimer = window.setTimeout(_this.checkMouseOver.bind(_this, e), _this.timeOut);
				}).on("mouseleave", function (e) {
					window.clearTimeout(_this.mouseTimer);
					_this.mouseTimer = window.setTimeout(_this.close.bind(_this, e), _this.timeOut);
				});

				// links with no rolls
				$(document).on('mouseover', '.js-header-subnav .js-topmenu-trigger:not([data-targettopmenu]), .js-header-sticky .js-topmenu-trigger:not([data-targettopmenu])', function (e) {
					e.preventDefault();
					e.stopPropagation();

					window.clearTimeout(_this.mouseTimer);
					_this.mouseTimer = window.setTimeout(_this.close.bind(_this), _this.timeOut);
				});
			} else {
				$(document).on('click', '.js-header-subnav .js-topmenu-trigger[data-targettopmenu], .js-header-sticky .js-topmenu-trigger[data-targettopmenu]', function (e) {
					if (!_this.isOpened || _this.isOpened && _this.current.attr('id') != $(_this).data('targettopmenu')) {
						e.preventDefault();
						e.stopPropagation();
						var $link = $(e.currentTarget);

						window.clearTimeout(_this.timerOver);

						_this.mouseTimer = window.setTimeout(function () {
							var newTopLayer = $('#' + $link.data('targettopmenu'));
							_this.toggle(newTopLayer, $link);
						}, 500);

						// select the opened nav submenu
						var currentSubMenu = '#' + e.target.getAttribute('data-targettopmenu');
						$(currentSubMenu).find('a').first().focus(); //focus the first element in the submenu
					} else {
						e.preventDefault();
						e.stopPropagation();
						_this.close();
					}
				});
			}

			$(document).on('keydown', function (e) {
				var currentMenu = $(_this.current);

				if (_this.isOpened) {
					/* close the submenu on esc and reset the focus on the menu */
					// escape
					if (e.keyCode === 27) {
						_this.close();
						$(".js-subnav-items").find('.js-topmenu-trigger[data-targettopmenu=' + currentMenu.attr('id') + ']').focus();
					}
					/* Go To next menu item after last submenu item on tab*/
					// tab
					else if (e.keyCode === 9) {
							var focusedElement = $(':focus');
							var isMenuCurrent = $(currentMenu).has(focusedElement).length ? true : false;

							if (!isMenuCurrent) {
								_this.close();
								$(".js-subnav-items").find('.js-topmenu-trigger[data-targettopmenu=' + currentMenu.attr('id') + ']').focus();
							}
						}
				}
			});

			/* Go To next menu item after last submenu item on tab*/
			$(document).on('keydown', function (e) {
				if (_this.isOpened) {
					var currentMenu = $(_this.current);
					if (e.keyCode === 9) {
						var focusedElement = $(':focus');
						var isMenuCurrent = $(currentMenu).has(focusedElement).length ? true : false;

						if (!isMenuCurrent) {
							_this.close();
							$(".js-subnav-items").find('.js-topmenu-trigger[data-targettopmenu=' + currentMenu.attr('id') + ']').focus();
						}
					}
				}
			});

			// click outside
			$(document).on('click', function (e) {
				if (!$(e.target).closest('.js-header-subnav').length) {
					_this.close();
				}
			});
			//
			diorV7.dispatcher.on('subnav::fold', this.close.bind(this));

			// Register default active topmenu li
			this.defaultActiveIndex = $(".js-header-subnav li.active").index();

			/* MEDIAS ROLL */
			$(document).on('mouseover', '.js-medias-roll a', function (e) {
				e.preventDefault();
				var _$this = $(e.currentTarget);
				var src = _$this.attr('data-img');
				_$this.parents('.js-medias-roll').find('img:first').attr('src', src);

				if (_$this.data('player')) _$this.parents('.js-medias-roll').find('.picto-play').show();else _$this.parents('.js-medias-roll').find('.picto-play').hide();
			});

			$(document).on('mouseleave', '.js-medias-roll', function (e) {
				var _$this = $(e.currentTarget);
				var src = _$this.find('img:first').parent().data('img');
				_$this.find('img:first').attr('src', src);

				var _player = _$this.find('img:first').parent().data('player');
				if (_player) _$this.find('.picto-play').show();else _$this.find('.picto-play').hide();
			});

			$(document).find('.js-medias-roll').trigger('mouseleave');

			/* Media Roll Multi column */
			$(document).on('mouseover', '.js-nav-content *[data-targetcolumn] a', function (e) {
				var $link = $(e.currentTarget),
				    target = $link.parents('*[data-targetcolumn]').attr('data-targetcolumn');

				if ($link.attr('data-img') && $('#' + target).length > 0) {
					// Update Image src
					var $target = $('#' + target);

					// update with current
					$target.find('img:first').attr('src', $link.data('img'));

					if ($link.data('player')) $target.find('.picto-play').show();else $target.find('.picto-play').hide();

					// Show / Hide Availibility
					if ($target.find('.js-topmenu-availibility').length > 0 && $link.attr('data-availibility')) {
						if ($link.attr('data-availibility') == "true") {
							$target.find('.js-topmenu-availibility').removeClass('hidden');
						} else {
							$target.find('.js-topmenu-availibility').addClass('hidden');
						}
					}
				}
			});

			$(document).on('mouseleave', '.js-header *[data-targetcolumn]', function (e) {
				var target = $(e.currentTarget).attr('data-targetcolumn'),
				    $target = $('#' + target),
				    $img = $target.find('img:first');

				// reset src
				$img.attr('src', $img.parent().data('img'));
				if ($img.parent().data('player')) {
					$target.find('.picto-play').show();
				} else {
					$target.find('.picto-play').hide();
				}

				// reset availibility
				if ($img.attr('data-availibility') == "true") {
					$target.find('.js-topmenu-availibility').removeClass('hidden');
				} else {
					$target.find('.js-topmenu-availibility').addClass('hidden');
				}
			});

			$(document).find('.js-header *[data-targetcolumn]').trigger('mouseleave');
		}

		$(window).resize(this.onResize.bind(this));
		this.onResize();
	}

	// jshint ignore:start


	_createClass(TopMenu, [{
		key: 'checkMouseOver',
		value: function checkMouseOver(e) {
			var $el = $(e.currentTarget);

			var newthis = null,
			    active = null;

			if ($el.data('targettopmenu')) {
				newthis = $('#' + $el.data('targettopmenu'));
				active = $el;
			} else if ($el.hasClass('nav-content')) {
				newthis = $el;
				active = this.activeMenu;
			}

			if (newthis) {
				this.toggle(newthis, active);
			} else {
				this.close();
			}
		}

		/*
   *
   */

	}, {
		key: 'onScroll',
		value: function onScroll(e, top) {
			if (this.needScroll) {
				if (this.isOpened && $(window).scrollTop() > this.heightToScroll) {
					this.needScroll = false;

					window.clearTimeout(this.mouseTimer);
					window.clearTimeout(this.timerOver);

					this.close();
				}
			} else {
				/*
    if (!core.ie6 && modules.header.hasSticky) {
    //modules.header.sticky.onScrollStickTop(e, top);
    }
    */
			}
		}
	}, {
		key: 'open',
		value: function open() {
			// position topmenu depending on metanav
			/*if (core.$header.hasClass('metanav-open') && !core.$header.hasClass('fixed')) {
   	this.$container.css('top',core.$header.height());
   }
   else {
   	this.$container.attr('style','');
   }*/

			// Get New this height
			this.current.addClass('invisible');
			// add padding: scrollable content is absolute (.overview)
			var newHeight = this.current.outerHeight(true);
			this.current.removeClass('invisible');

			// If already opened no animation
			if (this.isOpened) {
				this.$container.css('height', newHeight);
			} else {
				this.$container.stop().animate({ height: newHeight }, 150);
			}

			this.checkHeight(newHeight);

			this.current.addClass('open');
			this.$overlay.fadeIn(200);

			this.$container.addClass('opened-topMenu');
			$(".js-header-subnav li.active").removeClass('active');
			this.activeMenu.attr('aria-expanded', true).parent().addClass('active');
			this.isOpened = true;
		}
	}, {
		key: 'close',
		value: function close() {
			var _this2 = this;

			if (this.isOpened) {
				// animate container
				this.$container.stop().animate({ height: 0 }, 200, function () {
					_this2.$container.removeClass('opened-topMenu');
					_this2.current.removeClass('open');
					_this2.activeMenu.attr('aria-expanded', false).parent().removeClass('active');

					// reset default active
					if (_this2.defaultActiveIndex > -1) {
						$(".js-header-subnav li").eq(_this2.defaultActiveIndex).addClass('active');
					}

					_this2.isOpened = false;
					_this2.needScroll = false;

					_this2.onScroll();
				});

				this.$overlay.fadeOut(200);
			}
		}
	}, {
		key: 'toggle',
		value: function toggle(newTopLayer, active) {
			if (this.activeMenu.length > 0 && newTopLayer.attr('id') != this.current.attr('id')) {
				if (this.isOpened) {
					this.current.removeClass('open');
				}
				this.activeMenu.attr('aria-expanded', false).parent().removeClass('active');
			}

			this.current = newTopLayer;
			this.activeMenu = active;
			this.open();

			var newHeight = this.current.outerHeight(true);

			this.checkHeight(newHeight);
		}
	}, {
		key: 'checkHeight',
		value: function checkHeight(newHeight) {
			var extraHeight = 0; // the height to scroll to see completely the topMenu
			var margin = 100;

			extraHeight = $("#dior-header").height() + newHeight - $(window).height();

			if (extraHeight > 0) {
				// set viewport height
				this.heightToScroll = extraHeight + margin;
				this.needScroll = true;
			} else {
				this.needScroll = false;
			}
		}
	}, {
		key: 'onResize',
		value: function onResize() {
			if ($('#dior-header').hasClass('js-header-transparent')) {
				$('.js-header-subnav').addClass('invisible').show();
			}
			//Equalize all cols
			_equalHeight2.default.equalize('.js-dior-header .js-equalize', '.js-equal-col');
			//Equalize all titles
			_equalHeight2.default.equalize('.js-dior-header .js-equalize', '.js-equal-title');
			//Equalize all availibility titles
			_equalHeight2.default.equalize('.js-dior-header .js-equalize', '.js-equal-availibility');

			this.checkHeight();

			if ($('#dior-header').hasClass('js-header-transparent')) {
				$('.js-header-subnav').hide().removeClass('invisible');
			}
		}
	}]);

	return TopMenu;
}();

exports.default = TopMenu;

},{"../../../modules/equalHeight.js":21}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function tpl() {
    this["cart"] = window.diorV7.Handlebars.template({ "1": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.free : depth0, { "name": "unless", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "2": function _(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression,
                alias5 = container.lambda;

            return "    <tr class=\"cart-item js-cart-item\" data-sku=\"" + alias4((helper = (helper = helpers.sku || (depth0 != null ? depth0.sku : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "sku", "hash": {}, "data": data }) : helper)) + "\" data-id=\"" + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.idToDelete : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\" data-origin=\"" + alias4(alias5((stack1 = data && data.root) && stack1.origin, depth0)) + "\" " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.form_key : depth0, { "name": "if", "hash": {}, "fn": container.program(7, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " > <td class=\"item-packshot\"> " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.url : depth0, { "name": "if", "hash": {}, "fn": container.program(9, data, 0), "inverse": container.program(11, data, 0), "data": data })) != null ? stack1 : "") + "        </td> <td class=\"item-description\"> <span class=\"item-title\">" + alias4((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "name", "hash": {}, "data": data }) : helper)) + "</span> <span class=\"item-subtitle\">" + alias4((helpers.truncate || depth0 && depth0.truncate || alias2).call(alias1, depth0 != null ? depth0.title : depth0, 40, { "name": "truncate", "hash": {}, "data": data })) + "</span> <span class=\"item-variant\">" + alias4((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "description", "hash": {}, "data": data }) : helper)) + "</span> </td> <td class=\"item-quantity\"> " + alias4(alias5((stack1 = (stack1 = data && data.root) && stack1.wording) && stack1.quantity, depth0)) + ": " + alias4((helper = (helper = helpers.quantity || (depth0 != null ? depth0.quantity : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "quantity", "hash": {}, "data": data }) : helper)) + " </td> <td class=\"item-price\"> " + alias4((helper = (helper = helpers.subTotalWithCurrency || (depth0 != null ? depth0.subTotalWithCurrency : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "subTotalWithCurrency", "hash": {}, "data": data }) : helper)) + " " + ((stack1 = helpers.unless.call(alias1, depth0 != null ? depth0.undeletable : depth0, { "name": "unless", "hash": {}, "fn": container.program(13, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "        </td> </tr> ";
        }, "3": function _(container, depth0, helpers, partials, data) {
            var helper;

            return container.escapeExpression((helper = (helper = helpers.idToDelete || (depth0 != null ? depth0.idToDelete : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "idToDelete", "hash": {}, "data": data }) : helper));
        }, "5": function _(container, depth0, helpers, partials, data) {
            var helper;

            return container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper));
        }, "7": function _(container, depth0, helpers, partials, data) {
            var helper;

            return "data-key=\"" + container.escapeExpression((helper = (helper = helpers.form_key || (depth0 != null ? depth0.form_key : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "form_key", "hash": {}, "data": data }) : helper)) + "\"";
        }, "9": function _(container, depth0, helpers, partials, data) {
            var helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression;

            return "            <a href=\"" + alias4((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "url", "hash": {}, "data": data }) : helper)) + "\"> <img src=\"" + alias4((helper = (helper = helpers.packshot || (depth0 != null ? depth0.packshot : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "packshot", "hash": {}, "data": data }) : helper)) + "\" alt=\"" + alias4((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "name", "hash": {}, "data": data }) : helper)) + "\"> </a> ";
        }, "11": function _(container, depth0, helpers, partials, data) {
            var helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression;

            return "            <img src=\"" + alias4((helper = (helper = helpers.packshot || (depth0 != null ? depth0.packshot : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "packshot", "hash": {}, "data": data }) : helper)) + "\" alt=\"" + alias4((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "name", "hash": {}, "data": data }) : helper)) + "\"> ";
        }, "13": function _(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {};

            return "            <button type=\"button\" class=\"item-remove js-cart-item-remove icon icon-cross\" aria-label=\"Supprimer " + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(alias1, { "name": "name", "hash": {}, "data": data }) : helper)) + " du panier\" " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.removeTrackObject : depth0, { "name": "if", "hash": {}, "fn": container.program(14, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " > Delete </button> ";
        }, "14": function _(container, depth0, helpers, partials, data) {
            return " data-track-object='" + container.escapeExpression((helpers.stringify || depth0 && depth0.stringify || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.removeTrackObject : depth0, { "name": "stringify", "hash": {}, "data": data })) + "' ";
        }, "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.basket : depth0) != null ? stack1.products : stack1, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "useData": true });
    this["test"] = window.diorV7.Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            return "ecrin";
        }, "useData": true });
    this["wishlist"] = window.diorV7.Handlebars.template({ "1": function _(container, depth0, helpers, partials, data) {
            var stack1,
                helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression;

            return " <tr class=\"wishlist-product\"> <td class=\"product-image\"> " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.url : depth0, { "name": "if", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.program(4, data, 0), "data": data })) != null ? stack1 : "") + "    </td> <td class=\"product-description\"> <a href=\"" + alias4((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "url", "hash": {}, "data": data }) : helper)) + "\"> <p>" + alias4((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "title", "hash": {}, "data": data }) : helper)) + "</p> " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.description : depth0, { "name": "if", "hash": {}, "fn": container.program(6, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.selectedVariant : depth0, { "name": "if", "hash": {}, "fn": container.program(8, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, depth0 != null ? depth0.configuration : depth0, { "name": "if", "hash": {}, "fn": container.program(10, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "        </a> </td> <td class=\"product-price\"> " + alias4((helper = (helper = helpers.unitPriceWithCurrency || (depth0 != null ? depth0.unitPriceWithCurrency : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "unitPriceWithCurrency", "hash": {}, "data": data }) : helper)) + " <button type=\"button\" class=\"js-wishlist-delete in-wishlist item-remove icon icon-cross\" aria-label=\"Supprimer " + alias4((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "title", "hash": {}, "data": data }) : helper)) + " de la wishlist\" data-universe=\"" + alias4((helper = (helper = helpers.universe || (depth0 != null ? depth0.universe : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "universe", "hash": {}, "data": data }) : helper)) + "\" data-identifier=\"" + alias4((helper = (helper = helpers.identifier || (depth0 != null ? depth0.identifier : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "identifier", "hash": {}, "data": data }) : helper)) + "\" > Supprimer </button> </td> </tr> ";
        }, "2": function _(container, depth0, helpers, partials, data) {
            var helper,
                alias1 = depth0 != null ? depth0 : {},
                alias2 = helpers.helperMissing,
                alias3 = "function",
                alias4 = container.escapeExpression;

            return "        <a href=\"" + alias4((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "url", "hash": {}, "data": data }) : helper)) + "\"> <img src=\"" + alias4((helper = (helper = helpers.imgSmall || (depth0 != null ? depth0.imgSmall : depth0)) != null ? helper : alias2, (typeof helper === "undefined" ? "undefined" : _typeof(helper)) === alias3 ? helper.call(alias1, { "name": "imgSmall", "hash": {}, "data": data }) : helper)) + "\" alt=\"\" /> </a> ";
        }, "4": function _(container, depth0, helpers, partials, data) {
            var helper;

            return "        <img src=\"" + container.escapeExpression((helper = (helper = helpers.imgSmall || (depth0 != null ? depth0.imgSmall : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "imgSmall", "hash": {}, "data": data }) : helper)) + "\" alt=\"\" /> ";
        }, "6": function _(container, depth0, helpers, partials, data) {
            return "<span>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.description : depth0, 40, { "name": "truncate", "hash": {}, "data": data })) + "</span>";
        }, "8": function _(container, depth0, helpers, partials, data) {
            var helper;

            return "<span class=\"product-variant\">" + container.escapeExpression((helper = (helper = helpers.selectedVariant || (depth0 != null ? depth0.selectedVariant : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "selectedVariant", "hash": {}, "data": data }) : helper)) + "</span>";
        }, "10": function _(container, depth0, helpers, partials, data) {
            var stack1,
                alias1 = depth0 != null ? depth0 : {};

            return "                " + ((stack1 = helpers["if"].call(alias1, (stack1 = depth0 != null ? depth0.configuration : depth0) != null ? stack1.shade : stack1, { "name": "if", "hash": {}, "fn": container.program(11, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " " + ((stack1 = helpers["if"].call(alias1, (stack1 = depth0 != null ? depth0.configuration : depth0) != null ? stack1.capacity : stack1, { "name": "if", "hash": {}, "fn": container.program(13, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " ";
        }, "11": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return "<span class=\"product-variant\">" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.configuration : depth0) != null ? stack1.shade : stack1, depth0)) + "</span>";
        }, "13": function _(container, depth0, helpers, partials, data) {
            var stack1;

            return "<span class=\"product-variant\">" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.configuration : depth0) != null ? stack1.capacity : stack1, depth0)) + "</span>";
        }, "compiler": [7, ">= 4.0.0"], "main": function main(container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "useData": true });
}exports.default = new tpl();

},{}],15:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var LegalForm = function () {
    function LegalForm($el, callback) {
        _classCallCheck(this, LegalForm);

        this.$el = $el;
        this.$form = this.$el.hasClass('js-form') ? this.$el : this.$el.find('.js-form');
        this.initAccordion();
        if (callback) this.$form.on('submit', callback);
        this.initCheckboxes();
    }

    _createClass(LegalForm, [{
        key: 'initAccordion',
        value: function initAccordion() {
            var _this = this;

            var $scroll = this.$el.find('.js-scroll');

            if ($scroll.length && !$scroll.data('scroller')) {
                $scroll.scroller({
                    preventDefaultScroll: true
                });
            }

            /**
             * When user opens legal accordion
             */
            this.$el.find('.js-legal-accordion').each(function (i, el) {
                new diorV7.Accordion($(el), {
                    scroll: false,
                    onToggle: function onToggle(toggled, $section) {

                        if (toggled) {

                            // refresh formValidator
                            if (_this.$form.data('formValidator')) {
                                _this.$form.data('formValidator').refreshListeners();
                            }

                            //refresh scroller
                            var _$scroll = $section.find('.js-scroll');

                            if (_$scroll.length && _$scroll.data('scroller')) {
                                _$scroll.data('scroller').refresh();
                            }
                        }
                    }
                });
            });
        }
    }, {
        key: 'initCheckboxes',
        value: function initCheckboxes() {

            this.$el.find('.js-open-next-accordion').on('change', function (e) {

                var $checkbox = $(e.currentTarget);
                var $parent = $checkbox.parents('.accordion-section');
                if ($checkbox.prop('checked')) {
                    $parent.next('.js-legal-accordion').trigger('click');
                }
            });
        }
    }, {
        key: 'updateScroll',
        value: function updateScroll() {
            if (!this.$el.find('.js-scroll:visible').data('scroller')) this.$el.find('.js-scroll').scroller();else this.$el.find('.js-scroll:visible').data('scroller').refresh();
        }
    }, {
        key: 'show',
        value: function show() {
            diorV7.DOMStateManager.show(this.$el);
            this.updateScroll();
            this.$form.data('formValidator').refreshListeners();
        }
    }, {
        key: 'hide',
        value: function hide() {
            diorV7.DOMStateManager.hide(this.$el);
        }
    }]);

    return LegalForm;
}();

exports.default = LegalForm;

},{}],16:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Dependencies:
 * - diorV7.Player.PauseAll()
 */
var Popin = function () {

    /**
     * @param {object} options
     * {
     *        identifier: null,                    // the name of the popin, used in its class name, its selectors and events
     *        $trigger: null,                      // the element that will trigger the open method
     *        $el: null,                           // the $popin itself, only required for stat popin
     *        $wrapper: $('#popin-wrapper'),       // the wrapper in which every popin is injected at bottom of body
     *        manager: null,                       // a reference to popinManager
     *        closeButtonClass: '.js-popin-close',
     *        triggerEvents: 0                     // whether or not the popin triggers events
     *        $originalTrigger: null               // use to reset focus on close (assume that the $trigger can be a multiple selector)
        }
     */
    function Popin(options) {
        _classCallCheck(this, Popin);

        var _defaults = {
            identifier: null,
            $trigger: null,
            $el: null,
            $wrapper: $('#popin-wrapper'),
            manager: null,
            closeButtonClass: '.js-popin-close',
            template: null,
            webservice: null,
            triggerEvents: 0,
            fullscreen: 0,
            $originalTrigger: null
        };

        this.o = $.extend(_defaults, options);
        this.isOpen = false;

        this.init();
        this.$el.data('popin', this);
        this.addListeners();
    }

    /**
     * This method is useful for PopinDynamic that extends Popin
     */


    _createClass(Popin, [{
        key: 'init',
        value: function init() {
            this.$el = this.o.$el;

            if (this.$el.hasClass('js-auto-open')) {
                this.open(this.o.identifier);
            }
        }
    }, {
        key: 'addListeners',
        value: function addListeners() {
            var _this = this;

            if (this.o.$trigger) {
                this._onTriggerClick = function (e) {
                    return _this.open(e);
                };
                this.o.$trigger.on('click', this._onTriggerClick);
            }

            if (this.o.$wrapper) {
                this.o.$wrapper.on('click', this._onCloseClick);
            }

            this._onCloseClick = function (e) {
                return _this.close(e);
            };
            this.$el.find(this.o.closeButtonClass).on('click', this._onCloseClick);
            this._resize = function () {
                return _this.resize();
            };
            window.addEventListener('resize', this._resize());
        }
    }, {
        key: 'addTabListeners',
        value: function addTabListeners() {
            var _this2 = this;

            $(document).on('keydown', function (e) {
                if (_this2.isOpen) {
                    if ($(e.target).parents('#popin-wrapper').length === 0) {
                        var $close = _this2.$el.find(_this2.o.closeButtonClass).first();
                        $close.focus();
                    }
                }
            });
        }

        /**
         * Open the popin
         * We need to keep the original btn, because on close we will set the focus on that (ADA)
         * (assume that the $trigger option can be a multiple selector)
         * @param e {event | html element}
         */

    }, {
        key: 'open',
        value: function open(e) {
            var _this3 = this;

            if (!this.isOpen) {
                this.scrollLevel = document.body.scrollTop || document.documentElement.scrollTop;
                this.isOpen = true;

                if (!e || e === undefined) console.warn('[Popin]: we need to have the original btn to reset focus on close (ADA)');else this.o.$originalTrigger = e.currentTarget ? $(e.currentTarget) : $(e);

                diorV7.DOMStateManager.fadeToggle(this.$el, 'hidden', 1, function () {
                    _this3.trigger('opened');
                    if (_this3.$el.find('.js-form').length) _this3.$el.find('.js-form').each(function () {
                        if ($(this).data('formValidator')) $(this).data('formValidator').refreshListeners();
                    });
                });
                this.trigger('open');

                document.body.style.height = window.innerHeight + "px";
                document.body.style.overflow = "hidden";
                document.documentElement.style.overflowY = 'scroll';

                if (this.o.fullscreen) this.toggleFullscreen();else {
                    this.setPosition();
                    $('html').removeClass('popin-fullscreen');
                }

                this.o.manager.toggleOverlay(this.$el, 1);

                diorV7.Player.PauseAll(this.player);

                $('#dior-header, #dior-footer, #main-content, #scrollToTop, #skipNavigation').attr('aria-hidden', true);
                var $close = this.$el.find(this.o.closeButtonClass).first();

                setTimeout(function () {
                    $close.focus();
                }, 50);

                setTimeout(function () {
                    document.documentElement.scrollTop = 0;
                }, 100);
                document.body.scrollTop = this.scrollLevel;
            }
        }
    }, {
        key: 'toggleFullscreen',
        value: function toggleFullscreen(fullscreen) {
            var _zIndex = this.$el.css('z-index');
            this.$el.removeAttr('style').css('z-index', _zIndex);
            $('html').addClass('popin-fullscreen');
        }
    }, {
        key: 'setPosition',
        value: function setPosition() {
            var _this4 = this;

            this.$el[0].style.left = this.setLeft() + "px";
            clearTimeout(this.positionTimeout);
            this.positionTimeout = setTimeout(function () {
                _this4.$el[0].style.top = _this4.setTop() + "px";
                _this4.$el[0].style.opacity = 1;
            }, 100);
        }
    }, {
        key: 'setLeft',
        value: function setLeft() {
            var halfOffset = this.$el[0].offsetWidth * 0.5;
            var offset = document.body.offsetWidth * 0.5;
            return offset - halfOffset;
        }
    }, {
        key: 'setTop',
        value: function setTop() {
            var halfOffset = Math.min(this.$el[0].offsetHeight * 0.5, window.innerHeight * 0.5);
            var offset = window.pageYOffset + window.innerHeight * 0.5;
            var top = void 0;
            if (this.$el[0].offsetHeight >= window.innerHeight) {
                document.body.style.height = this.$el[0].offsetHeight + 60 + "px";
                top = 30;
            } else {
                document.body.style.height = window.innerHeight;
                top = window.innerHeight * 0.5 - this.$el[0].offsetHeight * 0.5;
            }
            return top;
        }
    }, {
        key: 'close',
        value: function close(e) {
            var _this5 = this;

            if (this.isOpen) {
                this.isOpen = false;
                diorV7.DOMStateManager.fadeToggle(this.$el, 'hidden', 0, function () {
                    document.body.style.height = "auto";
                    document.body.style.overflow = "auto";
                    document.documentElement.style.overflowY = 'auto';
                    document.body.scrollTop = 0;
                    document.body.style.position = 'static';
                    window.scrollTo(0, _this5.scrollLevel);
                    if (_this5.o.fullscreen) $('html').removeClass('popin-fullscreen');

                    _this5.trigger('closed');
                });

                //set focus on targget
                if (this.o.$originalTrigger) {
                    this.o.$originalTrigger.focus();
                }

                this.o.manager.toggleOverlay(this.$el, 0);
                this.trigger('close');

                $('#dior-header, #dior-footer, #main-content, #scrollToTop, #skipNavigation').attr('aria-hidden', false);
            }
        }
    }, {
        key: 'resize',
        value: function resize() {
            this.trigger('resize');
        }
    }, {
        key: 'destroy',
        value: function destroy() {

            if (this.o.$trigger) {
                this.o.$trigger.off('click', this._onTriggerClick);
            }

            this.$el.find(this.o.closeButtonClass).off('click', this._onCloseClick);
            window.removeEventListener('resize', this._resize());
            this.trigger('destroyed');
        }
    }, {
        key: 'trigger',
        value: function trigger(event) {
            if (this.o.triggerEvents) diorV7.dispatcher.trigger('popin-' + this.o.identifier + '::' + event);
        }
    }, {
        key: 'on',
        value: function on(event, callback) {
            if (this.o.triggerEvents) diorV7.dispatcher.on('popin-' + this.o.identifier + '::' + event, callback);
        }
    }]);

    return Popin;
}();

exports.default = Popin;

},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _Popin2 = require('./Popin.js');

var _Popin3 = _interopRequireDefault(_Popin2);

var _LegalForm = require('../LegalForm.js');

var _LegalForm2 = _interopRequireDefault(_LegalForm);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PopinNewsletter = function (_Popin) {
    _inherits(PopinNewsletter, _Popin);

    function PopinNewsletter(options) {
        _classCallCheck(this, PopinNewsletter);

        options.triggerEvents = true;
        return _possibleConstructorReturn(this, (PopinNewsletter.__proto__ || Object.getPrototypeOf(PopinNewsletter)).call(this, options));
    }

    _createClass(PopinNewsletter, [{
        key: 'init',
        value: function init() {
            var _this2 = this;

            _get(PopinNewsletter.prototype.__proto__ || Object.getPrototypeOf(PopinNewsletter.prototype), 'init', this).call(this);
            var $newsletterForm = this.$el.find('.js-newsletter-form');
            var $legalForm = this.$el.find('.js-legal-form');
            var $confirm = this.$el.find('.js-newsletter-confirm');

            if ($legalForm.length) {

                var legalAccepted = false;
                /**
                 * Newsletter legal form calls a callback on submit
                 * On submit, set conditions to accepted and call
                 * submit on the form below popin to send information
                 * If legalAccepted is false the form below will not be
                 * sent
                 */
                var _newsletterLegal = new _LegalForm2.default($legalForm, function (e) {
                    e.preventDefault();
                    legalAccepted = true;
                    $newsletterForm.submit();
                });

                $newsletterForm.on('submit', function (e) {
                    if (!legalAccepted) {
                        e.preventDefault();
                        diorV7.DOMStateManager.hide($newsletterForm);
                        _newsletterLegal.show();
                    } else {
                        _this2.send(e);
                    }
                });
            } else {
                $newsletterForm.on('submit', function (e) {
                    return _this2.send(e);
                });
            }

            this.on('closed', function () {
                diorV7.DOMStateManager.show($newsletterForm);
                if (typeof newsletterLegal !== 'undefined') newsletterLegal.hide();
                diorV7.DOMStateManager.hide($confirm);
            });
        }
    }, {
        key: 'open',
        value: function open(e) {
            _get(PopinNewsletter.prototype.__proto__ || Object.getPrototypeOf(PopinNewsletter.prototype), 'open', this).call(this, e);

            // reset form
            var _formValidator = this.$el.find('form').data('formValidator');
            _formValidator.reset();

            diorV7.DOMStateManager.hide(this.$el.find('.js-popin-error'));

            // & inject e-mail value in popin form
            var $email = this.$el.find('input[type="email"]');
            $email.val(diorV7.Footer.email);

            _formValidator.validate($email);
        }
    }, {
        key: 'send',
        value: function send(e) {
            var _this3 = this;

            e.preventDefault();
            $.ajax({
                url: diorV7.config.webservices.NEWSLETTER.url,
                type: diorV7.config.webservices.NEWSLETTER.method,
                xhrFields: diorV7.config.webservices.NEWSLETTER.xhrFields,
                data: this.$el.find('.js-newsletter-form').serialize(),
                success: function success(data) {
                    var $tracking = _this3.$el.find('*[data-newsletter-tracking]');
                    if ($tracking.length) {
                        var trackingValues = [];
                        if (_this3.$el.find('.js-newsletter-pcd:checked').length) trackingValues.push('PCD');
                        if (_this3.$el.find('.js-newsletter-cdc:checked').length) trackingValues.push('CDC');
                        var trackingValue = $tracking.attr('data-newsletter-tracking').replace('%%tokenNewsletter%%', trackingValues.join('+'));

                        window.diorV7.tracking.trackObjectString(trackingValue);
                    }
                    //V6 - V7 Support
                    if (data.status && data.status !== 'ok' || data.errorCode) return _this3.onError(data);
                    _this3.onSuccess(data);
                },
                error: function error(xhr, status) {
                    return _this3.onError({ message: status });
                }
            });
        }
    }, {
        key: 'onSuccess',
        value: function onSuccess(data) {
            //V6 - V7 Support
            if (data.status && data.status !== 'ok' || data.errorCode) return this.onError(data);

            var _subsribeTo = '';
            if ($('#newsletter-pcd')[0].checked) _subsribeTo += "PCD";
            if ($('#newsletter-cdc')[0].checked) {
                if (_subsribeTo.length) _subsribeTo += "+";
                _subsribeTo += "CDC";
            }

            var _trackObject = this.$el.find('input[type="submit"]').data('track-object');
            if (_trackObject) {
                _trackObject.eventLabel = _trackObject.eventLabel.replace('%%tokenNewsletter%%', _subsribeTo);
                diorV7.tracking.trackObjectString(_trackObject);
            } else {
                diorV7.tracking.trackEvent('Footer', 'Newsletter - ' + _subsribeTo);
            }

            diorV7.DOMStateManager.hide(this.$el.find('.js-legal-form, .js-newsletter-form'));
            diorV7.DOMStateManager.show(this.$el.find('.js-newsletter-confirm'));
        }
    }, {
        key: 'onError',
        value: function onError(data) {
            console.warn('PopinNewsletter -> Error', data);
            var $err = this.$el.find('.js-popin-error');
            if ($err.length) {
                // V6 - V7 error message support
                var _errorMessage = data.message ? data.message : data.errorMessages.join(' ');
                $err.text(_errorMessage);
                diorV7.DOMStateManager.show($err);
            } else {
                console.warn('PopinNewsletter -> No js-popin-error element in popin');
            }
        }
    }]);

    return PopinNewsletter;
}(_Popin3.default);

exports.default = PopinNewsletter;

},{"../LegalForm.js":15,"./Popin.js":16}],18:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Dispatcher = require('./Dispatcher.js');

var _Dispatcher2 = _interopRequireDefault(_Dispatcher);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Private instance of Cart
 */
var _inst = void 0;

var CartModule = function () {
    // jshint ignore:end

    function CartModule() {
        _classCallCheck(this, CartModule);

        this.dirty = true;
        this.selector = ".js-direct-addtocart, .js-addtocart";
        this.dispatcher = null;
        this.total = 0;
        this.totalCDC = 0;
        this.totalPCD = 0;
        this.cookieOptions = { expires: 15 };

        _inst = this;
        this.dispatcher = new _Dispatcher2.default();

        this.addTriggers();
    }
    // jshint ignore:start
    //testaroonies


    _createClass(CartModule, [{
        key: 'addTriggers',
        value: function addTriggers() {
            var _this = this;

            _inst.cookieOptions.domain = Cookies.defaults.domain;
            _inst.cookieOptions.path = Cookies.defaults.path;

            $('body').on('click', this.selector, function (e) {
                return _this.onAddToCartClick(e);
            });
        }
    }, {
        key: 'onAddToCartClick',
        value: function onAddToCartClick(e) {
            var $btn = $(e.currentTarget);

            var sku = $btn.attr('data-sku');
            var quantity = $btn.attr('data-quantities') || $btn.attr('data-quantity');
            var origin = $btn.attr('data-origin');
            var engravingMessage = $btn.attr('data-engraving') || "";

            // use old add to cart if sku is undefined
            if (sku === undefined) {
                //console.warn('[Cart]: missing sku code on '+$btn[0]);
                return;
            } else {
                // prevent double add & track from legacy addToCart
                // 'cause we need this for Minisites
                e.preventDefault();
                e.stopPropagation();
                e.stopImmediatePropagation();

                if ($btn.hasClass('js-addtocart') && window.console) {
                    console.warn('[Cart]: legacy class for direct add to cart (without popin), use ".js-direct-addtocart" instead');
                }
            }

            if (origin === undefined) {
                origin = $('body').attr('data-origin');
                if (origin === undefined) {
                    console.warn('[Cart]: missing origin on body, and nothing set in trigger data-origin.');
                    return;
                }
            }

            if (quantity === undefined) {
                console.warn('[Cart]: missing quantity on ' + $btn[0] + '. Add 1 by default.');
                quantity = '1';
            }

            if (!$btn.attr('data-legacy')) this.addToCart(sku, quantity, engravingMessage, origin, true, e.currentTarget);else this.legacyAddToCart(sku, quantity, engravingMessage, origin, true, e.currentTarget);
        }

        /**
         * Gets both carts (PCD and CDC) and renders them
         * Always trigger a 'complete' event, we have 3 case:
         * - cart is empty
         * - cart is dirty: need to make ajax calls
         * - cart is not dirty
         */

    }, {
        key: 'get',
        value: function get(cb) {
            if (this.dirty) {
                this.getTotal();

                if (this.total > 0) {
                    this._needed = 0;
                    if (this.totalPCD > 0) {
                        ++this._needed;
                        this.getForOrigin('PCD', cb);
                    }
                    if (this.totalCDC > 0) {
                        ++this._needed;
                        this.getForOrigin('CDC', cb);
                    }
                } else {
                    this.onComplete(cb);
                }
            } else {
                this.onComplete(cb);
            }
        }

        /**
         * Gets basket content for universe (origin)
         * @param origin {'PCD' | 'CDC'}
         * @param cb {function}
         * @returns {*}
         */

    }, {
        key: 'getForOrigin',
        value: function getForOrigin(origin, cb) {
            var _this2 = this;

            origin = origin.toUpperCase();

            return $.ajax({
                url: diorV7.config.webservices.CART[origin].GET_ROLL.url,
                type: diorV7.config.webservices.CART[origin].GET_ROLL.method,
                // DEFINE A FORMATTER OBJECT FOR THE CALL
                // must have a Request method that format the settings data object directly
                // must have a Response method that format the data, and return a stringified object
                // @see diorV7.config.js
                // @seealso pcis.AjaxFormat.js (http://www.dior.cn/medias/version-6.9.1488558669739/pcis/js/custom_cn.js)
                formatter: diorV7.config.webservices.CART[origin].GET_ROLL.formatter,
                contentType: diorV7.config.webservices.CART[origin].GET_ROLL.contentType,

                success: function success(data) {
                    // inject origin (for templating)
                    data.origin = origin;
                    _this2.onSuccess(data, origin, cb);
                },
                error: function error(data) {
                    return _this2.onError(data);
                }
            });
        }
    }, {
        key: 'onSuccess',
        value: function onSuccess(data, origin, cb) {
            --this._needed;

            if (data.errorCode || data.status === "nok" || data.status === 'customisation') return this.onError(data);else {
                diorV7.data.cart[origin] = data;
                this.dispatcher.trigger('origin', origin, data);
            }

            if (this._needed === 0) {
                // data are up-to-date
                this.dirty = false;

                // dispatch complete, used by:
                // - roll WishList
                this.onComplete(cb);
            }
        }
    }, {
        key: 'onError',
        value: function onError(data) {
            // customisation error
            if (data.status === 'customisation') {
                var _ErrorCustomPopin = diorV7.popinManager.instanciate({
                    identifier: 'customisation-error',
                    $el: $('.js-popin-customisation-error')
                });
                _ErrorCustomPopin.open();
            }
            console.warn('[CartModule]: ws failed.');
            if (data.status === 'customization') {
                diorV7.popinManager.instanciate({
                    identifier: "customization-error",
                    $el: $('.js-popin-customization-error')
                });
                diorV7.popinManager.open("customization-error");
                return;
            }
            // dispatch complete, used by:
            // - roll WishList
            this.dispatcher.trigger('error', data);
        }

        /**
         * getTotal reads cookies to find out how many products are in cart
         * and displays number next to cart icon
         * @return total {int}
         */

    }, {
        key: 'getTotal',
        value: function getTotal() {

            // ! Cookies.get(diorV7.config.cookies.CART.CDC.name) doesn't work on multidomains for IE11
            // we need to read full object for values to work
            var _cookies = Cookies.get();
            var cookieCDC = _cookies && _cookies[diorV7.config.cookies.CART.CDC.name] || 0;
            var cookiePCD = _cookies && _cookies[diorV7.config.cookies.CART.PCD.name] || 0;

            this.totalCDC = parseInt(cookieCDC);
            this.totalPCD = parseInt(cookiePCD);
            this.total = this.totalCDC + this.totalPCD;

            return this.total;
        }
    }, {
        key: 'buildSkuString',
        value: function buildSkuString(skuCodes) {
            var quantities = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [1];
            var legacy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;


            if (!Array.isArray(skuCodes)) skuCodes = skuCodes.split(',');
            if (!Array.isArray(quantities)) quantities = quantities.toString().split(',');

            var skus = "";

            if (!legacy) {
                for (var i = 0; i <= skuCodes.length - 1; ++i) {
                    skus += "sku=" + skuCodes[i] + ":quantity=" + (quantities[i] || 1) + ',';
                }

                skus = "skus=" + skus.replace(/,$/, "");
            } else {
                var _quantities = "";
                for (var _i = 0; _i <= skuCodes.length - 1; ++_i) {
                    skus += skuCodes[_i] + ',';
                    _quantities += (quantities[_i] || 1) + ',';
                }
                skus = skus.replace(/,$/, "");
                if (skuCodes.length > 1) skus = "skus=" + skus;else skus = "sku=" + skus;
                skus += "&quantity=" + _quantities.replace(/,$/, "");
            }

            return skus;
        }

        /**
         *
         * @param skuCodes {string}         : a list of skus separated by commas
         * @param quantities {string}       : a list of quantities separated by commas
         * @param engravingMessage {string}
         * @param origin {string}           : PCD | CDC
         * @param silent {bool}             : if set to true, doesn't toggle roll on addition
         * @param button {jQuery}           : optional trigger element
         */

    }, {
        key: 'addToCart',
        value: function addToCart(skuCodes, quantities, engravingMessage, origin, silent, button) {
            var _this3 = this;

            engravingMessage = engravingMessage ? '&engravingMessage=' + engravingMessage : '';

            jQuery.ajax({
                type: diorV7.config.webservices.CART[origin].ADD.method,
                url: diorV7.config.webservices.CART[origin].ADD.url,
                data: this.buildSkuString(skuCodes, quantities) + engravingMessage,

                // DEFINE A FORMATTER OBJECT FOR THE CALL
                // must have a Request method that format the settings data object directly
                // must have a Response method that format the data, and return a stringified object
                // @see diorV7.config.js
                // @seealso pcis.AjaxFormat.js (http://www.dior.cn/medias/version-6.9.1488558669739/pcis/js/custom_cn.js)
                formatter: diorV7.config.webservices.CART[origin].ADD.formatter,
                contentType: diorV7.config.webservices.CART[origin].ADD.contentType,

                success: function success(data) {
                    if (data && data.engravingError) {
                        if (!diorV7.popinManager.popins["popin-engraving-error"]) {
                            diorV7.popinManager.instanciate({
                                $el: $('.js-popin-engraving-error'),
                                identifier: 'popin-engraving-error'
                            });
                        }
                        return diorV7.popinManager.open('popin-engraving-error');
                    }
                    return _this3.onAdded.call(_this3, data, origin, silent, button);
                },
                error: this.onError.bind(this)
            });
        }

        /**
         *
         * @param skuCodes {string}         : a list of skus separated by commas
         * @param quantities {string}       : a list of quantities separated by commas
         * @param engravingMessage {string}
         * @param origin {string}           : PCD | CDC
         * @param silent {bool}             : if set to true, doesn't toggle roll on addition
         * @param button {jQuery}           : optional trigger element
         */

    }, {
        key: 'legacyAddToCart',
        value: function legacyAddToCart(skuCodes, quantities, engravingMessage, origin, silent, button) {
            var _this4 = this;

            try {

                engravingMessage = engravingMessage ? '&engravingMessage=' + engravingMessage : '';

                if (!Array.isArray(skuCodes)) skuCodes = skuCodes.split(',');

                var webservice = skuCodes.lenth > 1 ? core.AjaxConfig.Product.MULTIPLE_ADD_TO_CART : core.AjaxConfig.Product.ADD_TO_CART;

                jQuery.ajax({
                    type: webservice.method,
                    url: webservice.url,
                    data: this.buildSkuString(skuCodes, quantities, true) + engravingMessage,

                    // DEFINE A FORMATTER OBJECT FOR THE CALL
                    // must have a Request method that format the settings data object directly
                    // must have a Response method that format the data, and return a stringified object
                    // @see diorV7.config.js
                    // @seealso pcis.AjaxFormat.js (http://www.dior.cn/medias/version-6.9.1488558669739/pcis/js/custom_cn.js)
                    formatter: webservice.formatter,

                    success: function success(data) {
                        if (data && data.engravingError) {
                            diorV7.popinManager.instanciate({
                                $el: $('.js-popin-engraving-error'),
                                identifier: 'popin-engraving-error'
                            });
                            return diorV7.popinManager.open('popin-engraving-error');
                        }
                        return _this4.onAdded(data, origin, silent, button);
                    },
                    error: this.onError.bind(this)
                });
            } catch (e) {
                console.error('Using legacy add to cart', e);
            }
        }
    }, {
        key: 'removeFromCart',
        value: function removeFromCart(params, cb) {

            var queryParams = [];

            if (params.id) queryParams.push('idToDelete=' + params.id);
            if (params.key) queryParams.push('form_key=' + params.key);
            if (params.sku) queryParams.push('sku=' + params.sku);

            queryParams = queryParams.join('&');

            $.ajax({
                url: diorV7.config.webservices.CART[params.origin].DELETE.url,
                type: diorV7.config.webservices.CART[params.origin].DELETE.method,
                data: queryParams,
                // DEFINE A FORMATTER OBJECT FOR THE CALL
                // must have a Request method that format the settings data object directly
                // must have a Response method that format the data, and return a stringified object
                // @see diorV7.config.js
                // @seealso pcis.AjaxFormat.js (http://www.dior.cn/medias/version-6.9.1488558669739/pcis/js/custom_cn.js)
                xhrFields: diorV7.config.webservices.CART[params.origin].DELETE.xhrFields,
                formatter: diorV7.config.webservices.CART[params.origin].DELETE.formatter,
                contentType: diorV7.config.webservices.CART[params.origin].DELETE.contentType,

                success: function success(data) {
                    if (!data.erroCode || data.status) {
                        // update store
                        diorV7.data.cart[params.origin] = data;

                        // do we need to update cookie value?
                        if (diorV7.config.cookies.CART[params.origin].jsUpdate) {
                            _inst['total' + params.origin] = data.basket.productsQuantity;
                            Cookies.set(diorV7.config.cookies.CART[params.origin].name, _inst['total' + params.origin], _inst.cookieOptions);

                            _inst.total = _inst.totalCDC + _inst.totalPCD;
                        } else {
                            _inst.getTotal();
                        }
                        _inst.dirty = true;
                        if (typeof cb === 'function') cb(data);
                    } else {
                        _inst.onError(data);
                    }
                },
                error: function error(data) {
                    return _inst.onError(data);
                }
            });
        }

        /**
         * Fires an ajax request to delete product and re renders basket
         * @param e {Event} triggered by button with data attributes depending on
         *                  origin using idToDelete or form_key and sku
         */

    }, {
        key: 'onAdded',
        value: function onAdded(data, origin, silent, button) {
            if (!data) return;
            // support v7 format or v6 format
            if (data.errorCode || data.status === "nok" || data.status === 'customization') {
                this.onError(data);
            } else {
                this.dirty = true;

                // do we need to update cookie value?
                if (origin && diorV7.config.cookies.CART[origin].jsUpdate) {
                    // for now, you can't choose quantity on addToCart
                    this['total' + origin] += 1;
                    this.total += 1;
                    Cookies.set(diorV7.config.cookies.CART[origin].name, this['total' + origin], this.cookieOptions);
                }

                if (button) {
                    if (window.modules && modules.AddToCart) {
                        // display popin (not roll)
                        // -> use the v6 popin (included in addToCart.build.js)
                        // -> let the v6 addToCart track
                        modules.AddToCart.PopinData = data;
                        modules.AddToCart.$currentButton = $(button);
                        modules.AddToCart.Confirm(data.basketsize, $(button), origin, true);
                    } else {
                        // force tracking for the addToCart button (it has the class .js-no-click-track to track only on success
                        window.diorV7.tracking.track.call(button, null, true);
                    }
                }

                this.dispatcher.trigger('added', silent);
            }
        }
    }, {
        key: 'onComplete',
        value: function onComplete(cb) {
            this.dispatcher.trigger('complete', this.data);
            if (typeof cb === 'function') cb(this.data);
        }
    }], [{
        key: 'removeFromButton',
        value: function removeFromButton(e) {

            var $cartProduct = $(e.currentTarget).parents('.js-cart-item:first');

            var params = {};
            var origin = $cartProduct.attr('data-origin');
            if (origin === undefined) {
                origin = $('body').attr('data-origin');
                if (origin === undefined) {
                    console.warn('[Cart]: missing origin on body, and nothing set in trigger data-origin.');
                    return;
                }
            }

            if ($cartProduct.attr('data-id')) params.id = $cartProduct.attr('data-id');
            if ($cartProduct.attr('data-key')) params.key = $cartProduct.attr('data-key');
            if ($cartProduct.attr('data-sku')) params.sku = $cartProduct.attr('data-sku');
            if (origin) params.origin = origin;

            _inst.removeFromCart(params, function (data) {
                _inst.dispatcher.trigger('removed', $cartProduct, data);
            });
        }
    }, {
        key: 'remove',
        value: function remove(params) {
            _inst.removeFromCart(params);
        }
    }, {
        key: 'get',
        value: function get(cb) {
            _inst.get(cb);
        }

        /**
         * Static method to adds products to cart
         * @param skuCodes {string}         : a list of skus separated by commas
         * @param quantities {string}       : a list of quantities separated by commas
         * @param origin {string}           : PCD | CDC
         * @param silent {bool}             : if set to true, doesn't toggle roll on addition
         * @param button {jQuery}           : optional trigger element
         * @param engravingMessage {string} : optional engraving message
         */

    }, {
        key: 'add',
        value: function add(skuCodes, quantities, origin) {
            var silent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
            var button = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
            var engravingMessage = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;

            _inst.addToCart(skuCodes, quantities, engravingMessage, origin, silent, button);
        }
    }, {
        key: 'on',
        value: function on(event, cb) {
            _inst.dispatcher.on(event, cb);
        }
    }, {
        key: 'off',
        value: function off(event, cb) {
            _inst.dispatcher.off(event, cb);
        }
    }, {
        key: 'totalFor',
        value: function totalFor(origin) {
            return _inst['total' + origin];
        }
    }, {
        key: 'setDirty',
        value: function setDirty(dirty) {
            _inst.dirty = dirty;
        }
    }, {
        key: 'total',
        get: function get() {
            return _inst.getTotal();
        }
    }, {
        key: 'data',
        get: function get() {
            return diorV7.data.cart;
        }
    }]);

    return CartModule;
}();

/* expose static members */


window.diorV7.CartModule = CartModule;

exports.default = CartModule;

},{"./Dispatcher.js":19}],19:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Dispatcher = function () {
    function Dispatcher() {
        _classCallCheck(this, Dispatcher);

        this.actions = [];
    }
    /**
     * Registers a callback with an action
     * scope defines the scope on wich callback
     * will be called
     * @param {string} action
     * @param {function} callback
     * @param {context} scope
     */


    _createClass(Dispatcher, [{
        key: 'on',
        value: function on(action, callback, scope) {

            if (!this.actions[action]) this.actions[action] = [{
                scope: scope,
                callback: callback
            }];else this.actions[action].push({
                scope: scope,
                callback: callback
            });
            return this;
        }

        /**
         * Removes a registered callback from an action
         * @param {string} action
         * @param {function} callback
         */

    }, {
        key: 'off',
        value: function off(action, callback) {
            if (!this.actions[action]) console.warn('Dispatcher->' + action + ' is undefined');
            if (!callback) this.actions[action] = [];

            var _index = this.actions[action].indexOf(callback);
            if (_index > -1) this.actions[action].splice(_index, 1);
            return this;
        }

        /**
         * Triggers an action and all associated callbacks
         * @param {string} action
         * @param {any} params - any number of optionnal params passed to the callbacks
         */

    }, {
        key: 'trigger',
        value: function trigger(action) {
            for (var _len = arguments.length, params = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                params[_key - 1] = arguments[_key];
            }

            if (this.actions[action]) {
                this.actions[action].forEach(function (_action) {
                    if (typeof _action.callback === 'function') {
                        var _action$callback;

                        if (_action.scope) (_action$callback = _action.callback).call.apply(_action$callback, [_action.scope].concat(params));else _action.callback.apply(_action, params);
                    }
                });
            }

            return this;
        }
    }]);

    return Dispatcher;
}();

exports.default = Dispatcher;

},{}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Dispatcher = require('./Dispatcher.js');

var _Dispatcher2 = _interopRequireDefault(_Dispatcher);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Private instance of Cart
 */
var _inst = void 0;

var WishListModule = function () {
    // jshint ignore:end

    // jshint ignore:start
    function WishListModule() {
        var _this = this;

        _classCallCheck(this, WishListModule);

        this.dirty = true;
        this.selector = '.js-wishlist-toggle, .js-wishlist-add, .js-wishlist-delete';
        this.selectorAdd = '.js-wishlist-add';
        this.selectorDelete = '.js-wishlist-delete';
        this.dispatcher = null;
        this.total = 0;

        _inst = this;
        this.dispatcher = new _Dispatcher2.default();

        if (!$('html').hasClass('no-wishlist')) {
            this.origin = $('body').data('origin').toUpperCase();

            if (diorV7.Account.connected) {
                // no need to have all wishlist informations (only used by Roll/Wishlist
                // just read coonkies to update triggers
                this.updateTriggers();
            } else {
                this.popinDisconnected = diorV7.popinManager.instanciate({
                    $el: $('.js-popin-wishlist-disconnected'),
                    identifier: 'wishlist-disconnected'
                });
                this.popinDisconnected.$el.find('.js-create-account').on('click', function () {
                    _this.notLoggedPost('CREATE', _this.popinDisconnected.universe);
                });
                this.popinDisconnected.$el.find('.js-login').on('click', function () {
                    _this.notLoggedPost('LOGIN', _this.popinDisconnected.universe);
                });
            }
            this.addTriggers();
        }

        // do we need to refresh wishlist cookies?
        if (Cookies.get(diorV7.config.cookies.NEED_REFRESH)) {
            this.dirty = true;
            this.get();
            Cookies.remove(diorV7.config.cookies.NEED_REFRESH);
        }
    }

    _createClass(WishListModule, [{
        key: 'get',
        value: function get() {
            if (!$('html').hasClass('no-wishlist') || this.origin) {

                var _data = {
                    market: $('body').data('market'),
                    limit: diorV7.config.WISHLIST_LIMIT
                };

                if (diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.contentType && diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.contentType === 'application/json') {
                    _data = JSON.stringify(_data);
                }

                $.ajax({
                    url: diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.url,
                    type: diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.method,
                    contentType: diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.contentType,
                    xhrFields: diorV7.config.webservices.ACCOUNT.WISHLIST[this.origin].GET.xhrFields,
                    data: _data,
                    cache: false,
                    success: this.onSuccess.bind(this),
                    error: this.onError.bind(this)
                });
            }
        }
    }, {
        key: 'onSuccess',
        value: function onSuccess(data) {
            if (data.errorCode) return this.onError(data);

            // update total
            var _total = diorV7.WishListModule.total;

            // data are up-to-date
            this.dirty = false;
            // update all triggers (update star icon)
            this.updateTriggers();

            // expose data, used by:
            // - page Account
            if (!diorV7.data.account) diorV7.data.account = {};

            // empty wishlist
            if (data.data) {
                diorV7.data.account.wishlist = data.data;
            } else {
                diorV7.data.account.wishlist = [];
            }
            var cookie = diorV7.config.cookies.WISHLIST[this.origin];
            var _string = void 0;
            for (var i = 0; i <= data.data.length - 1; i++) {
                _string = i === 0 ? data.data[i].identifier : _string + ',' + data.data[i].identifier;
            }
            Cookies.set(cookie, _string);

            // dispatch complete, used by:
            // - roll WishList
            this.dispatcher.trigger('complete', diorV7.data.account.wishlist);
        }
    }, {
        key: 'onError',
        value: function onError(data) {
            console.warn('[Wishlist]: ws failed.');
            // dispatch complete, used by:
            // - roll WishList
            this.dispatcher.trigger('error', data);
        }
    }, {
        key: 'addOrDelete',


        /**
         * Generic function that adds or removes product from wishlist
         * @param action {'POST' | 'DELETE'}
         * @param universe {'PCD' | 'CDC'}
         * @param identifier {string}
         * @param market {string}
         * @param silent {bool}
         */
        value: function addOrDelete(action, universe, identifier, market, _tracking, silent) {
            var _this2 = this;

            var _data = {
                universe: universe,
                identifier: identifier
            };
            if (market) {
                _data.market = market;
            }

            // we use uppercase in config
            var wsUniverse = universe.toUpperCase();

            if (diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].contentType && diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].contentType === 'application/json') {
                _data = JSON.stringify(_data);
            }

            $.ajax({
                url: diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].url,
                type: diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].method,
                contentType: diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].contentType,
                xhrFields: diorV7.config.webservices.ACCOUNT.WISHLIST[wsUniverse][action].xhrFields,
                data: _data,
                success: function success(data) {
                    if (!data.errorCode) {
                        // mark the data "dirty": if we want to open the roll, we need a get
                        _this2.dirty = true;

                        if (action === 'POST') {
                            // do we need to update cookie value?
                            if (diorV7.config.cookies.WISHLIST.jsUpdate) {
                                var _string = Cookies.get(diorV7.config.cookies.WISHLIST[wsUniverse]) || "";
                                if (_string.length) {
                                    _string = decodeURIComponent(_string);
                                    _string += ',';
                                }
                                _string += identifier;
                                Cookies.remove(diorV7.config.cookies.WISHLIST[wsUniverse]);
                                Cookies.set(diorV7.config.cookies.WISHLIST[wsUniverse], _string);
                            }

                            if (_tracking) {
                                diorV7.tracking.trackObjectString(_tracking.replace(diorV7.config.tracking.wishlist.notConnected, diorV7.config.tracking.wishlist.connected));
                            }

                            // do we need to open the roll?
                            if (!silent) {
                                _this2.dispatcher.trigger('added', universe, identifier);
                            }
                        } else {
                            // do we need to update cookie value?
                            if (diorV7.config.cookies.WISHLIST.jsUpdate) {
                                var _string2 = Cookies.get(diorV7.config.cookies.WISHLIST[wsUniverse]) || "";
                                if (_string2.length) {
                                    _string2 = decodeURIComponent(_string2);
                                } else {
                                    return;
                                }

                                _string2 = _string2.replace(identifier, '');
                                _string2 = _string2.replace(',,', ',');
                                // first item case
                                if (_string2.charAt(0) === ',') {
                                    _string2 = _string2.substring(1);
                                }
                                // last item case
                                var _length = _string2.length - 1;
                                if (_string2.charAt(_length) === ',') {
                                    _string2 = _string2.substring(0, _length);
                                }

                                // IE11: default options are not passed...
                                Cookies.set(diorV7.config.cookies.WISHLIST[wsUniverse], _string2);
                            }

                            _this2.dispatcher.trigger('removed', universe, identifier);
                        }

                        _this2.updateTriggers();
                    } else if (data.errorCode === "USER_NOT_LOGGED") {

                        _this2.popinDisconnected.postData = {
                            sku: identifier,
                            url: document.location.href,
                            universe: universe
                        };
                        _this2.notLoggedPost('LOGIN', universe);
                    } else {
                        _this2.onError(data);
                    }
                },
                error: this.onError.bind(this)
            });
        }

        /**
         * Adds listeners to js-wishlist-add triggers
         * Only works if product isn't already in wishlist
         */

    }, {
        key: 'addTriggers',
        value: function addTriggers() {
            var _this3 = this;

            var _popin = diorV7.popinManager.instanciate({
                identifier: 'delete-wishlist-product',
                $el: $('.js-popin-delete-wishlist-product'),
                triggerEvents: true
            });

            // deletion relies on in-wishlist class, once popin is closed add it back to button
            _popin.on('close', function () {
                _popin.$el.find('.js-wishlist-delete').toggleClass('in-wishlist', true);
            });

            this._onClick = function (e) {
                _this3.onClick.call(_this3, e, _popin);
            };

            $('body').on('click', this.selector, this._onClick).on('click', this.selectorAdd, this._onClick);
        }
    }, {
        key: 'onClick',
        value: function onClick(e, _popin) {

            e.preventDefault();
            e.stopPropagation();
            e.stopImmediatePropagation();

            var $this = $(e.currentTarget);
            var _universe = $this.attr('data-universe');
            var _id = $this.attr('data-identifier'); // updated by v6 on FP through 'attr' method

            var _market = $this.attr('data-market') || $('body').data('market');
            var _tracking = $this.attr('data-wishlist-tracking');

            if (!diorV7.Account.connected) {
                this.popinDisconnected.universe = _universe;
                this.openDisconnectedPopin(e, _universe, _id, document.location.href);
                if (_tracking) diorV7.tracking.trackObjectString(_tracking);
                return;
            }

            var _confirm = $this.data('confirm');

            if (!_universe) {
                console.warn('[Wishlist] missing data-universe on trigger ' + $this[0]);
                return;
            }
            if (!_id) {
                console.warn('[Wishlist] missing data-identifier on trigger ' + $this[0]);
                return;
            }

            if (_confirm) {
                _popin.open(e);
                var $button = _popin.$el.find('.js-wishlist-delete');
                $button.attr('data-universe', _universe);
                $button.attr('data-identifier', _id);
                $button.attr('data-market', _market);
            } else {
                // if not in wishlist => Add
                if (!$this.hasClass('in-wishlist')) {
                    if (!$this.hasClass(this.selectorDelete.replace('.', ''))) {
                        diorV7.WishListModule.add(_universe, _id, _market, _tracking);
                    }
                } else {
                    if (!$this.hasClass(this.selectorAdd.replace('.', ''))) {
                        diorV7.WishListModule.remove(_universe, _id, _market, _tracking);
                    }
                }
            }
        }
    }, {
        key: 'openDisconnectedPopin',
        value: function openDisconnectedPopin(e, universe, id, href) {
            this.popinDisconnected.open(e);
            this.popinDisconnected.postData = {
                sku: id,
                url: href,
                universe: universe
            };
        }
    }, {
        key: 'notLoggedPost',
        value: function notLoggedPost(action, universe) {
            universe = universe.toUpperCase();
            // make a post with current url and sku
            var form = document.createElement("form");
            form.setAttribute("method", diorV7.config.webservices.ACCOUNT.WISHLIST[universe].NOT_LOGGED[action].method);
            form.setAttribute("action", diorV7.config.webservices.ACCOUNT.WISHLIST[universe].NOT_LOGGED[action].url);

            for (var key in this.popinDisconnected.postData) {
                if (this.popinDisconnected.postData.hasOwnProperty(key)) {
                    var hiddenField = document.createElement("input");
                    hiddenField.setAttribute("type", "hidden");
                    hiddenField.setAttribute("name", key);
                    hiddenField.setAttribute("value", this.popinDisconnected.postData[key]);
                    form.appendChild(hiddenField);
                }
            }

            document.body.appendChild(form);
            form.submit();
        }

        /**
         * Updates triggers, depending on their presence in wishlist, toggles in-wishlist class
         */

    }, {
        key: 'updateTriggers',
        value: function updateTriggers() {
            var _this4 = this;

            $(this.selector).each(function (i, el) {
                var $this = $(el);
                if ($this.attr('data-universe') && $this.attr('data-identifier')) {
                    $this.toggleClass('in-wishlist', _this4.isInWishlist($this.attr('data-universe'), $this.attr('data-identifier')));
                }
            });
        }

        /**
         * Wishlist products are stored in separate cookies for PCD and CDC
         * Each cookie contains a list of identifiers separated by commas
         * @param universe ('cdc' | 'pcd')
         * @param identifier
         * @returns {boolean}
         */

    }, {
        key: 'isInWishlist',
        value: function isInWishlist(universe, identifier) {
            universe = universe.toUpperCase();
            var _wishlistProducts = Cookies.get(diorV7.config.cookies.WISHLIST[universe]);

            if (_wishlistProducts) {
                _wishlistProducts = _wishlistProducts.split(',');
            } else {
                return false;
            }

            this.totalProducts = _wishlistProducts.length;

            if (this.totalProducts > 0) {
                for (var i = 0; i < this.totalProducts; ++i) {
                    if (_wishlistProducts[i] === identifier) {
                        return true;
                    }
                }
            }
            return false;
        }
    }], [{
        key: 'get',
        value: function get() {
            _inst.get();
        }

        /**
         * adds a product|video to wishlist and open
         * @param universe {'PCD' | 'CDC'}
         * @param identifier {string}
         */

    }, {
        key: 'add',
        value: function add(universe, identifier, market, _tracking, silent) {
            _inst.addOrDelete('POST', universe, identifier, market, _tracking, silent);
        }

        /**
         * removed a product|video from wishlist
         * @param universe {'PCD' | 'CDC'}
         * @param identifier {string}
         */

    }, {
        key: 'remove',
        value: function remove(universe, identifier, market, _tracking) {
            _inst.addOrDelete('DELETE', universe, identifier, market, _tracking);
        }
    }, {
        key: 'on',
        value: function on(event, cb) {
            _inst.dispatcher.on(event, cb);
        }
    }, {
        key: 'off',
        value: function off(event, cb) {
            _inst.dispatcher.off(event, cb);
        }
    }, {
        key: 'refreshTriggers',


        /* used on V6: FP */
        value: function refreshTriggers() {
            _inst.updateTriggers();
        }
    }, {
        key: 'total',
        get: function get() {
            if (_inst.dirty) {
                _inst.total = 0;
                if (Cookies.get(diorV7.config.cookies.WISHLIST.CDC)) _inst.total += Cookies.get(diorV7.config.cookies.WISHLIST.CDC).split(',').length;
                if (Cookies.get(diorV7.config.cookies.WISHLIST.PCD)) _inst.total += Cookies.get(diorV7.config.cookies.WISHLIST.PCD).split(',').length;
            }
            return _inst.total;
        }
    }]);

    return WishListModule;
}();

/* expose static members */


window.diorV7.WishListModule = WishListModule;

exports.default = WishListModule;

},{"./Dispatcher.js":19}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var equalHeight = {

    defaultContainer: '#container',
    defaultSelector: '.js-equal-height',
    defaultMainSelector: '.js-equal-height-main',

    /**
     * Function to set equal height on all items of a container
     * @param itemContainer {string}
     * @param itemSelector {string}
     * @param mainSelector {string} Specify the reference element: all others items will be sized to match this element
     * @param removePadding {boolean}
     */
    equalize: function equalize(itemContainer, itemSelector, mainSelector, removePadding) {
        var container = itemContainer ? itemContainer : this.defaultContainer;
        var selector = itemSelector ? itemSelector : this.defaultSelector;
        var main = mainSelector ? mainSelector : this.defaultMainSelector;

        $(container).each(function () {
            var $items = $(this).find(selector);
            var maxH = $items.find(main).length > 0 ? $items.find(main).outerHeight() : 0;

            if ($items.find(main).length <= 0) {
                // if no main get max
                $items.each(function () {
                    // save old style
                    var _$item = $(this);
                    var oldStyle = _$item.attr('style');
                    _$item.attr('style', '');
                    var itemH = parseFloat(_$item.outerHeight()) - parseFloat(_$item.css('padding-top')) - parseFloat(_$item.css('padding-bottom'));
                    maxH = itemH > maxH ? itemH : maxH;
                    // reset style
                    _$item.attr('style', oldStyle);
                });
            }

            if (!removePadding) {
                $items.height(maxH);
            } else {
                $items.each(function () {
                    var $this = $(this);
                    $this.height(maxH - parseFloat($this.css('padding-top')) - parseFloat($this.css('padding-bottom')));
                });
            }
        });
    }
};

exports.default = equalHeight;

},{}]},{},[1]);//Smile
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHNcXGpzXFxjYXBzdWxlLmpzIiwiYXNzZXRzXFxqc1xcY2Fwc3VsZVxcZm9vdGVyXFxGb290ZXIuanMiLCJhc3NldHNcXGpzXFxjYXBzdWxlXFxoZWFkZXJcXEhlYWRlci5qcyIsImFzc2V0c1xcanNcXGNhcHN1bGVcXGhlYWRlclxcYmxvY2tzXFxTdWJOYXYuanMiLCJhc3NldHNcXGpzXFxjYXBzdWxlXFxoZWFkZXJcXGJsb2Nrc1xcU3ViTmF2Rm9sZGluZy5qcyIsImFzc2V0c1xcanNcXGNhcHN1bGVcXGhlYWRlclxcYmxvY2tzXFxyb2xscy5qcyIsImFzc2V0c1xcanNcXGNhcHN1bGVcXGhlYWRlclxcYmxvY2tzXFxyb2xsc1xcQWNjb3VudC5qcyIsImFzc2V0c1xcanNcXGNhcHN1bGVcXGhlYWRlclxcYmxvY2tzXFxyb2xsc1xcQ2FydC5qcyIsImFzc2V0c1xcanNcXGNhcHN1bGVcXGhlYWRlclxcYmxvY2tzXFxyb2xsc1xcRXJyb3IuanMiLCJhc3NldHNcXGpzXFxjYXBzdWxlXFxoZWFkZXJcXGJsb2Nrc1xccm9sbHNcXFJvbGwuanMiLCJhc3NldHNcXGpzXFxjYXBzdWxlXFxoZWFkZXJcXGJsb2Nrc1xccm9sbHNcXFdpc2hsaXN0LmpzIiwiYXNzZXRzXFxqc1xcY2Fwc3VsZVxcaGVhZGVyXFxibG9ja3NcXHRvcExheWVyLmpzIiwiYXNzZXRzXFxqc1xcY2Fwc3VsZVxcaGVhZGVyXFxibG9ja3NcXHRvcE1lbnUuanMiLCJhc3NldHNcXGpzXFxjYXBzdWxlXFx0ZW1wbGF0ZXMuanMiLCJhc3NldHNcXGpzXFxjb21wb25lbnRzXFxMZWdhbEZvcm0uanMiLCJhc3NldHNcXGpzXFxjb21wb25lbnRzXFxwb3BpbnNcXFBvcGluLmpzIiwiYXNzZXRzXFxqc1xcY29tcG9uZW50c1xccG9waW5zXFxQb3Bpbk5ld3NsZXR0ZXIuanMiLCJhc3NldHNcXGpzXFxtb2R1bGVzXFxDYXJ0LmpzIiwiYXNzZXRzXFxqc1xcbW9kdWxlc1xcRGlzcGF0Y2hlci5qcyIsImFzc2V0c1xcanNcXG1vZHVsZXNcXFdpc2hMaXN0LmpzIiwiYXNzZXRzXFxqc1xcbW9kdWxlc1xcZXF1YWxIZWlnaHQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUNBOzs7Ozs7QUFHQSxJQUFJLFVBQVU7QUFFVixRQUZVLGtCQUVIO0FBQ0gsWUFBSSxRQUFRLEVBQUUsTUFBRixDQUFaO0FBQ0EsWUFBSSxDQUFDLE1BQU0sTUFBUCxJQUFpQixDQUFDLE1BQU0sUUFBTixDQUFlLFNBQWYsQ0FBdEIsRUFBaUQ7QUFDN0MsY0FBRSxNQUFGLEVBQVUsV0FBVixDQUFzQixTQUF0QjtBQUNIO0FBQ0QsWUFBSSxDQUFDLE9BQU8sTUFBWixFQUFvQixPQUFPLE1BQVAsR0FBZ0IsRUFBaEI7QUFDMUIsZUFBTyxNQUFQO0FBQ00sZUFBTyxNQUFQOztBQUVBO0FBQ0EsWUFBSSxDQUFDLE9BQU8sTUFBUCxDQUFjLE9BQWQsQ0FBc0IsTUFBdEIsRUFBTCxFQUFxQztBQUNqQztBQUNBLG9CQUFRLFFBQVIsQ0FBaUIsTUFBakIsR0FBMEIsT0FBTyxNQUFQLENBQWMsT0FBZCxDQUFzQixNQUFoRDtBQUNIO0FBQ0QsZ0JBQVEsUUFBUixDQUFpQixJQUFqQixHQUF3QixPQUFPLE1BQVAsQ0FBYyxPQUFkLENBQXNCLElBQTlDO0FBQ0EsZ0JBQVEsUUFBUixDQUFpQixPQUFqQixHQUEyQixPQUFPLE1BQVAsQ0FBYyxPQUFkLENBQXNCLE9BQWpEOztBQUVBLFlBQUksUUFBUSxvQkFBWjtBQUNBLGVBQU8sY0FBUCxHQUF3Qix3QkFBeEI7O0FBRUEseUJBQU8sSUFBUDtBQUNBLHlCQUFPLElBQVA7O0FBRUEsWUFBSSxNQUFKLEVBQVksT0FBTyxPQUFQLENBQWUsSUFBZjs7QUFFWjtBQUNBLFlBQUksV0FBVyxFQUFFLGdCQUFGLENBQWY7QUFDQSxZQUFJLGlCQUFPLEdBQVAsQ0FBVyxNQUFm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QVksT0FBWixDQUFmO0FBQ0EsMkJBQU8sSUFBUCxDQUFZLE9BQVosRUFBcUIsRUFBckI7QUFDQSx3QkFBSSxRQUFRLFdBQVcsT0FBTyxXQUFQLEVBQVgsSUFBbUMsV0FBVyxPQUFPLEdBQVAsQ0FBVyxhQUFYLENBQVgsQ0FBbkMsR0FBMkUsV0FBVyxPQUFPLEdBQVAsQ0FBVyxnQkFBWCxDQUFYLENBQXZGO0FBQ0EsMkJBQVMsUUFBUSxJQUFWLEdBQW1CLEtBQW5CLEdBQTJCLElBQWxDO0FBQ0E7QUFDQSwyQkFBTyxJQUFQLENBQVksT0FBWixFQUFxQixRQUFyQjtBQUNILGlCQVREO0FBVUg7O0FBRUQsZ0JBQUksQ0FBQyxhQUFMLEVBQW9CO0FBQ2hCLHVCQUFPLE1BQVAsQ0FBZSxJQUFmO0FBQ0gsYUFGRCxNQUVPO0FBQ0gsdUJBQU8sSUFBUCxDQUFhLFlBQVc7QUFDcEIsd0JBQUksUUFBUSxFQUFFLElBQUYsQ0FBWjtBQUNBLDBCQUFNLE1BQU4sQ0FBYyxPQUFPLFdBQVcsTUFBTSxHQUFOLENBQVUsYUFBVixDQUFYLENBQVAsR0FBOEMsV0FBVyxNQUFNLEdBQU4sQ0FBVSxnQkFBVixDQUFYLENBQTVEO0FBQ0gsaUJBSEQ7QUFJSDtBQUNKLFNBekJEO0FBMEJIO0FBN0NhLENBQWxCOztrQkFnRGUsVyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgSGVhZGVyIGZyb20gJy4vY2Fwc3VsZS9oZWFkZXIvSGVhZGVyLmpzJztcclxuaW1wb3J0IEZvb3RlciBmcm9tICcuL2NhcHN1bGUvZm9vdGVyL0Zvb3Rlci5qcyc7XHJcblxyXG5pbXBvcnQgQ2FydE1vZHVsZSBmcm9tICcuL21vZHVsZXMvQ2FydC5qcyc7XHJcbmltcG9ydCBXaXNoTGlzdE1vZHVsZSBmcm9tICcuL21vZHVsZXMvV2lzaExpc3QuanMnO1xyXG5cclxuXHJcbmxldCBjYXBzdWxlID0ge1xyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgbGV0ICRtYWluID0gJCgnbWFpbicpO1xyXG4gICAgICAgIGlmICghJG1haW4ubGVuZ3RoIHx8ICEkbWFpbi5oYXNDbGFzcygnZGlvci12NycpKSB7XHJcbiAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXdpbmRvdy5kaW9yVjcpIHdpbmRvdy5kaW9yVjcgPSB7fTtcclxuXHRcdGRpb3JWNy5Gb290ZXIgPSBGb290ZXI7XHJcbiAgICAgICAgZGlvclY3LkhlYWRlciA9IEhlYWRlcjtcclxuXHJcbiAgICAgICAgLy8gZGVmYXVsdCBvcHRpb25zIGZvciBjb29raWVzXHJcbiAgICAgICAgaWYgKCF3aW5kb3cuZGlvclY3LmhlbHBlcnMuaXNJRTExKCkpIHtcclxuICAgICAgICAgICAgLy8gSUUxMSBpbiBzdHJpY3QgbW9kZSBkb2Vzbid0IGFjY2VwdCBkb21haW5cclxuICAgICAgICAgICAgQ29va2llcy5kZWZhdWx0cy5kb21haW4gPSBkaW9yVjcuY29uZmlnLmNvb2tpZXMuZG9tYWluO1xyXG4gICAgICAgIH1cclxuICAgICAgICBDb29raWVzLmRlZmF1bHRzLnBhdGggPSBkaW9yVjcuY29uZmlnLmNvb2tpZXMucGF0aDtcclxuICAgICAgICBDb29raWVzLmRlZmF1bHRzLmV4cGlyZXMgPSBkaW9yVjcuY29uZmlnLmNvb2tpZXMuZXhwaXJlcztcclxuXHJcbiAgICAgICAgbGV0IF9jYXJ0ID0gbmV3IENhcnRNb2R1bGUoKTtcclxuICAgICAgICBkaW9yVjcud2lzaExpc3RNb2R1bGUgPSBuZXcgV2lzaExpc3RNb2R1bGUoKTtcclxuXHJcbiAgICAgICAgSGVhZGVyLmluaXQoKTtcclxuICAgICAgICBGb290ZXIuaW5pdCgpO1xyXG5cclxuICAgICAgICBpZiAoZGlvclY3KSBkaW9yVjcuaGVscGVycy5pc0lFKCk7XHJcblxyXG4gICAgICAgIC8vIEZvcm1zIGluaXRcclxuICAgICAgICBsZXQgJGNhcHN1bGUgPSAkKCcjcG9waW4td3JhcHBlcicpO1xyXG4gICAgICAgIGlmIChIZWFkZXIuJGVsLmxlbmd0aCkgJGNhcHN1bGUgPSAkY2Fwc3VsZS5hZGQoSGVhZGVyLiRlbCk7XHJcbiAgICAgICAgaWYgKEZvb3Rlci4kZm9vdGVyLmxlbmd0aCkgJGNhcHN1bGUgPSAkY2Fwc3VsZS5hZGQoRm9vdGVyLiRmb290ZXIpO1xyXG5cclxuICAgICAgICAkY2Fwc3VsZS5maW5kKCcuanMtZm9ybScpLmZvcm1WYWxpZGF0b3IoKTtcclxuXHJcbiAgICAgICAgJGNhcHN1bGUuZmluZCgnLmpzLXNlbGVjdCcpLmVhY2goIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgJHRoaXMgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgJHRoaXMuY3VzdG9tU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgIC8vIGFsbG93cyBjdXN0b21TZWxlY3QgdG8gY29uc2lkZXIgZGVmYXVsdCBvcHRpb24gYXMgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgaXNEZWZhdWx0OiBmdW5jdGlvbigkb3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRvcHRpb24uaGFzQ2xhc3MoJ2pzLWN1c3RvbS1zZWxlY3QtZGVmYXVsdCcpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRJbkxpc3Q6ICR0aGlzLmhhc0NsYXNzKCdqcy1kZWZhdWx0LWluLWxpc3QnKSAvL3Nob3VsZCBkZWZhdWx0IG9wdGlvbiBzaG93IGluIGxpc3RcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChkaW9yVjcuaGVscGVycy5pc1RhY3RpbGUoKSkge1xyXG4gICAgICAgICAgICAkKCcuZGlvci12NycpLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdLCBpbnB1dFt0eXBlPVwiZW1haWxcIl0sIGlucHV0W3R5cGU9XCJudW1iZXJcIl0sIGlucHV0W3R5cGU9XCJwYXNzd29yZFwiXSwgaW5wdXRbdHlwZT1cInRlbFwiXSwgaW5wdXRbdHlwZT1cInVybFwiXSwgdGV4dGFyZWEnKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdmb2N1cycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ2tleWJvYXJkLW9wZW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgfSkub24oJ2JsdXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdrZXlib2FyZC1vcGVuZWQnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblx0XHQvLyBleHBvc2UgbWV0aG9kIHRvIHN3aXRjaCBmcm9tIGZ1bGxicm93c2VyIHRvIGZsdWlkXHJcbiAgICAgICAgd2luZG93LmRpb3JDYXBzdWxlID0ge1xyXG4gICAgICAgICAgICB0b0ZsdWlkOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ2Z1bGxicm93c2VyJyk7XHJcbiAgICAgICAgICAgICAgICBIZWFkZXIudG9GbHVpZCgpO1xyXG4gICAgICAgICAgICAgICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdoZWFkZXItdHJhbnNwYXJlbnQgZm9vdGVyLS1saWdodCBmb290ZXItLXRyYW5zcGFyZW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXHJcbiAgICAgICAgLy8gVjYgcmV0cm8tY29tcGF0aWJpbGl0w6lcclxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXHJcbiAgICAgICAgbGV0IGhlYWRlciA9IHtcclxuICAgICAgICAgICAgY29va2llT3B0aW9uczoge30sXHJcbiAgICAgICAgICAgIHJvbGxzOiBIZWFkZXIucm9sbHMsXHJcbiAgICAgICAgICAgIGVycm9yOiB7XHJcbiAgICAgICAgICAgICAgICBvcGVuOiAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBoZWFkZXIuY29va2llT3B0aW9ucyA9IENvb2tpZXMuZGVmYXVsdHM7XHJcblxyXG4gICAgICAgIGlmICghd2luZG93Lm1vZHVsZXMpIHdpbmRvdy5tb2R1bGVzID0ge307XHJcbiAgICAgICAgLy8gb3ZlcnJpZGUgaGVhZGVyXHJcbiAgICAgICAgd2luZG93Lm1vZHVsZXMuaGVhZGVyID0gaGVhZGVyO1xyXG5cclxuICAgICAgICAvLyBvdmVycmlkZSBlcnJvciBvbiBjYXJ0IChxdWFudGl0eSBsaW1pdCBvbiBwcm9kdWN0KVxyXG4gICAgICAgIGlmIChtb2R1bGVzLkFkZFRvQ2FydCkgbW9kdWxlcy5BZGRUb0NhcnQuRmVlZGJhY2suRXJyb3IgPSBkaW9yVjcuSGVhZGVyLnJvbGxzLm9uRXJyb3IuYmluZChkaW9yVjcuSGVhZGVyLnJvbGxzKTtcclxuICAgIH1cclxufTtcclxuXHJcbiQod2luZG93KS5yZWFkeSggKCkgPT4ge1xyXG4gICAgY2Fwc3VsZS5pbml0KCk7XHJcbn0pOyIsImltcG9ydCBQb3Bpbk5ld3NsZXR0ZXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9wb3BpbnMvUG9waW5OZXdzbGV0dGVyLmpzJztcclxubGV0IEZvb3RlciA9IHtcclxuXHJcbiAgICAkZm9vdGVyOiBudWxsLFxyXG4gICAgZm9vdGVySGVpZ2h0OiAtNTAwLFxyXG5cclxuICAgIG1vdXNlT3ZlcjogZmFsc2UsXHJcbiAgICBvdXRUaW1lb3V0OiBudWxsLFxyXG5cclxuICAgIC8vIHByZXZlbnQgYSBkb3VibGUgZXZlbnQgYWN0aW9uIChmb2N1cytjbGljaylcclxuICAgIHNlbGVjdEp1c3RSZWNlaXZlRm9jdXM6IGZhbHNlLFxyXG4gICAgc2VsZWN0Rm9jdXNUaW1lb3V0OiBudWxsLFxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy4kZm9vdGVyID0gJCgnI2Rpb3ItZm9vdGVyJyk7XHJcbiAgICAgICAgdGhpcy4kZm9vdGVyLmZpbmQoJy5qcy1mb3JtLW5ld3NsZXR0ZXInKS5mb3JtVmFsaWRhdG9yKHtcclxuICAgICAgICAgICAgb25TdWJtaXQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIub3BlbiggJ25ld3NsZXR0ZXInLCAkKCdmb290ZXIgLmpzLWZvcm0tbmV3c2xldHRlciBpbnB1dFt0eXBlPVwic3VibWl0XCJdJykgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBsYW5ndWFnZSBzZWxlY3Rpb25cclxuICAgICAgICB0aGlzLmlzRWNvQ291bnRyeSgpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gRm9jdXMgZXZlbnQgb2NjdXJzIGJlZm9yZSB0aGUgY2xpY2tcclxuICAgICAgICAvLyAtPiBpZiB0aGUgY2xpY2sgZXZlbnQgaXMgcmFpc2VkIHdpdGhpbiBhIGZvY3VzIGV2ZW50LCBkb24ndCB0b2dnbGUgY2xhc3NcclxuICAgICAgICB0aGlzLiRmb290ZXIuZmluZCgnLmpzLWltaXRhdGlvbi1zZWxlY3QtYnV0dG9uJykub24oJ2NsaWNrJywgKGUpPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RKdXN0UmVjZWl2ZUZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAkKGUuY3VycmVudFRhcmdldCkucGFyZW50cygnLmN1c3RvbS1saW5rc2VsZWN0OmZpcnN0JykudG9nZ2xlQ2xhc3MoJ2N1c3RvbS1saW5rc2VsZWN0LXRvZ2dsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLiRmb290ZXIuZmluZCgnLmpzLWltaXRhdGlvbi1zZWxlY3QtYnV0dG9uLCAuY3VzdG9tLWxpbmtzZWxlY3QtbGlzdCBhJykub24oJ2ZvY3VzJywgKGUpPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0SnVzdFJlY2VpdmVGb2N1cyA9IHRydWU7XHJcbiAgICAgICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCcuY3VzdG9tLWxpbmtzZWxlY3Q6Zmlyc3QnKS5hZGRDbGFzcygnY3VzdG9tLWxpbmtzZWxlY3QtdG9nZ2xlZCcpO1xyXG5cclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCB0aGlzLnNlbGVjdEZvY3VzVGltZW91dCApO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEZvY3VzVGltZW91dCA9IHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0SnVzdFJlY2VpdmVGb2N1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDb3VudHJ5IFNlbGVjdFxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdrZXlkb3duJywgKGUpID0+IHtcclxuICAgICAgICAgICAgbGV0IF90aGlzID0gJChlLnRhcmdldCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy4kZm9vdGVyLmZpbmQoJy5jdXN0b20tbGlua3NlbGVjdDpmaXJzdCcpLmhhc0NsYXNzKCdjdXN0b20tbGlua3NlbGVjdC10b2dnbGVkJykpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGN1cnJlbnQgbGlzdCBlbGVtZW50IGZvY3VzZWRcclxuICAgICAgICAgICAgICAgIGxldCBfZm9jdXNlZExpbmsgPSAkKCc6Zm9jdXMnKTtcclxuICAgICAgICAgICAgICAgIGxldCBfc2libGluZ0xpbms7XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGUua2V5Q29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZG93biBhcnJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2libGluZ0xpbmsgPSBfZm9jdXNlZExpbmsucGFyZW50KCkubmV4dCgnbGknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zaWJsaW5nTGluay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaWJsaW5nTGluay5maW5kKCdhOmZpcnN0JykuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGZvb3Rlci5maW5kKCcuY3VzdG9tLWxpbmtzZWxlY3QtbGlzdDpmaXJzdCBhOmZpcnN0JykuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VwIGFycm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaWJsaW5nTGluayA9IF9mb2N1c2VkTGluay5wYXJlbnQoKS5wcmV2KCdsaScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3NpYmxpbmdMaW5rLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NpYmxpbmdMaW5rLmZpbmQoJ2E6Zmlyc3QnKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZm9vdGVyLmZpbmQoJy5jdXN0b20tbGlua3NlbGVjdC1saXN0OmZpcnN0IGE6bGFzdCcpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNjYXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGZvb3Rlci5maW5kKCcuY3VzdG9tLWxpbmtzZWxlY3Q6Zmlyc3QnKS5yZW1vdmVDbGFzcygnY3VzdG9tLWxpbmtzZWxlY3QtdG9nZ2xlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoISQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qcy1jb3VudHJpZXMtc2VsZWN0LWZvcm0nKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJGZvb3Rlci5maW5kKCcuY3VzdG9tLWxpbmtzZWxlY3Q6Zmlyc3QnKS5yZW1vdmVDbGFzcygnY3VzdG9tLWxpbmtzZWxlY3QtdG9nZ2xlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzLWNvdW50cmllcy1zZWxlY3QtZm9ybScpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZm9vdGVyLmZpbmQoJy5jdXN0b20tbGlua3NlbGVjdDpmaXJzdCcpLnJlbW92ZUNsYXNzKCdjdXN0b20tbGlua3NlbGVjdC10b2dnbGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gb24gbWFya2V0IGNoYW5nZSwgZm9yY2UgdGhlIGNvb2tpZXMgdG8gYmUgcmVmcmVzaGVkXHJcbiAgICAgICAgdGhpcy4kZm9vdGVyLmZpbmQoJy5qcy1jb3VudHJpZXMtc2VsZWN0LWZvcm0gYScpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubWFya2V0Q2hhbmdlID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKHdpbmRvdykub24oJ2JlZm9yZXVubG9hZCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1hcmtldENoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgQ29va2llcy5zZXQoZGlvclY3LmNvbmZpZy5jb29raWVzLk5FRURfUkVGUkVTSCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUG9waW4gTmV3c2xldHRlclxyXG4gICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIuaW5zdGFuY2lhdGUoe1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyOiAnbmV3c2xldHRlcicsXHJcbiAgICAgICAgICAgICRlbDogJCgnLmpzLXBvcGluLW5ld3NsZXR0ZXInKSxcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50czogMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgUG9waW5OZXdzbGV0dGVyKTtcclxuXHJcbiAgICAgICAgLy8gRm9vdGVyIExpZ2h0XHJcbiAgICAgICAgaWYgKCQoJ2h0bWwnKS5oYXNDbGFzcygnZm9vdGVyLS1saWdodCcpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbXB1dGUgRm9vdGVyIGhlaWdodFxyXG4gICAgICAgICAgICB0aGlzLmZvb3RlckhlaWdodCA9IC10aGlzLiRmb290ZXIub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gY2xpY2sgb3V0c2lkZSB0byBjbG9zZVxyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYoISQoZS50YXJnZXQpLmNsb3Nlc3QoJyNkaW9yLWZvb3RlcicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRmb290ZXIuZmluZCgnLmpzLWZvb3Rlci1vcGVuJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW4oKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWRpb3JWNy5oZWxwZXJzLmlzVGFjdGlsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRmb290ZXIubW91c2VlbnRlciggKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5vdXRUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgIH0pLm1vdXNlbGVhdmUoIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMub3V0VGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRUaW1lb3V0ID0gc2V0VGltZW91dCggdGhpcy5jbG9zZS5iaW5kKHRoaXMpLCAxMDAwICk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgaXNFY29Db3VudHJ5KCkge1xyXG4gICAgICAgIGxldCAkb3B0aW9uID0gJCgnLmpzLWNvdW50cmllcy1zZWxlY3QtZm9ybScpLmZpbmQoJy5qcy1pbWl0YXRpb24tc2VsZWN0LWJ1dHRvbicpO1xyXG4gICAgICAgIGxldCAkaWNvbiA9IHRoaXMuJGZvb3Rlci5maW5kKCcuanMtaWNvbi1zZWxlY3QnKTtcclxuXHJcbiAgICAgICAgaWYoICEkaWNvbi5oYXNDbGFzcygnaWNvbi0tdmlzaWJsZScpICYmICRvcHRpb24uaGFzQ2xhc3MoJ2lzLWVjbycpICkge1xyXG4gICAgICAgICAgICAkaWNvbi5hZGRDbGFzcygnaWNvbi0tdmlzaWJsZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRpY29uLnJlbW92ZUNsYXNzKCdpY29uLS12aXNpYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuJGZvb3Rlci5hZGRDbGFzcygnb3BlbmVkJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuJGZvb3Rlci5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldCBlbWFpbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4kZm9vdGVyLmZpbmQoJ2lucHV0W3R5cGU9XCJlbWFpbFwiXScpLnZhbCgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9vdGVyO1xyXG4iLCJcclxuaW1wb3J0IFRvcExheWVyIGZyb20gJy4vYmxvY2tzL3RvcExheWVyLmpzJztcclxuaW1wb3J0IHJvbGxzIGZyb20gJy4vYmxvY2tzL3JvbGxzLmpzJztcclxuXHJcbmltcG9ydCBUb3BNZW51IGZyb20gJy4vYmxvY2tzL3RvcE1lbnUuanMnO1xyXG5pbXBvcnQgU3ViTmF2IGZyb20gJy4vYmxvY2tzL1N1Yk5hdi5qcyc7XHJcbmltcG9ydCBTdWJOYXZGb2xkaW5nIGZyb20gJy4vYmxvY2tzL1N1Yk5hdkZvbGRpbmcuanMnO1xyXG5cclxuXHJcbmxldCBIZWFkZXIgPSB7XHJcblxyXG5cdGJhc2tldFRvdGFsOiAwLFxyXG5cdHN1Yk5hdlNsaWRlcjogbnVsbCxcclxuXHJcbiAgICAvLyB0aGUgc2Nyb2xsIGxldmVsIHRvIGRpc3BsYXkgdGhlIHNjcm9sbFRvVG9wIGJ0biAoaW4gcHgpXHJcbiAgICBzY3JvbGxUb1RvcFRocmVzaG9sZDogNTAsXHJcblx0XHJcblx0aW5pdCgpIHtcclxuXHJcblx0XHR0aGlzLiRlbCA9ICQoJyNkaW9yLWhlYWRlcicpO1xyXG5cdFx0dGhpcy5wYWdlID0gJCgnI2NvbnRhaW5lcicpLmRhdGEoJ3BhZ2UnKTtcclxuXHJcblx0XHQvLyBVU0VSIElTIExPR0dFRD9cclxuXHRcdC8vIC0+IGhpZGUvc2hvdyB0aGUgY29ubmVjdGVkIGljb25cclxuXHRcdC8vIC0+IGRpc3BsYXkgdGhlIGNvbmNlcm5lZCBjb250ZW50IGluIGFjY291bnQgcm9sbFxyXG5cdFx0bGV0IF9jb25uZWN0ZWQgPSB3aW5kb3cuZGlvclY3LkFjY291bnQuY29ubmVjdGVkO1xyXG5cclxuXHRcdC8vIGN1cnJlbnQgdW5pdmVyc2VcclxuICAgICAgICAvLyAtPiB1c2VkIGluIEFjY291bnQgdG8gcHJlc2VydmUgY3VycmVudCB1bml2ZXJzZSB0b3BtZW51IHdoZW4gc3dpdGNoaW5nIGJldHdlZW4gQ0RDICYgUENEXHJcbiAgICAgICAgaWYgKHRoaXMuJGVsLmRhdGEoJ2N1cnJlbnQtdW5pdmVyc2UnKSkge1xyXG4gICAgICAgICAgICBDb29raWVzLnNldCggZGlvclY3LmNvbmZpZy5jb29raWVzLlVOSVZFUlNFLCB0aGlzLiRlbC5kYXRhKCdjdXJyZW50LXVuaXZlcnNlJykgKTtcclxuICAgICAgICB9XHJcblxyXG5cdFx0aWYgKCBfY29ubmVjdGVkID09IFwiMVwiIHx8IF9jb25uZWN0ZWQgPT0gXCJ0cnVlXCIgKSB7XHJcblx0XHRcdCQoJy5qcy1idWxsZXQtY29ubmVjdGVkJykuc2hvdygpO1xyXG5cdFx0XHQkKCcuanMtYWNjb3VudC1yb2xsIC5qcy1hY2NvdW50LXNpZ25pbicpLnJlbW92ZUNsYXNzKCdhY2NvdW50LS1jb25uZWN0ZWQnKTtcclxuXHRcdFx0JCgnLmpzLWFjY291bnQtcm9sbCAuanMtYWNjb3VudC1uYXYnKS5hZGRDbGFzcygnYWNjb3VudC0tY29ubmVjdGVkJyk7XHJcblx0XHR9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKCcuanMtYWNjb3VudC1yb2xsIC5qcy1hY2NvdW50LXNpZ25pbicpLmFkZENsYXNzKCdhY2NvdW50LS1jb25uZWN0ZWQnKTtcclxuICAgICAgICAgICAgJCgnLmpzLWFjY291bnQtcm9sbCAuanMtYWNjb3VudC1uYXYnKS5yZW1vdmVDbGFzcygnYWNjb3VudC0tY29ubmVjdGVkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgX3RvcExheWVyID0gJCgnLmpzLWhlYWRlci10b3AtbGF5ZXInKTtcclxuXHRcdGlmIChfdG9wTGF5ZXIgJiYgX3RvcExheWVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnRvcExheWVyID0gbmV3IFRvcExheWVyKCBfdG9wTGF5ZXIgKTtcclxuICAgICAgICB9XHJcblx0XHRcclxuXHRcdHRoaXMudG9wTWVudSA9IG5ldyBUb3BNZW51KCk7XHJcblx0XHQvLyBzbGlkZXIgbWFuYWdlbWVudFxyXG5cdFx0dGhpcy5zdWJOYXYgPSBuZXcgU3ViTmF2KCB0aGlzICk7XHJcblx0XHQvLyBtaW5pc2l0ZTogc3ViIG5hdiBpcyBmb2xkZWQgYnkgZGVmYXVsdCwgYW5kIGFwcGVhcnMgb24gaG92ZXJcclxuXHRcdHRoaXMuc3ViTmF2Rm9sZGluZyA9IG5ldyBTdWJOYXZGb2xkaW5nKCB0aGlzICk7XHJcblx0XHQvL1xyXG5cdFx0dGhpcy5yb2xscyA9IHJvbGxzLmluaXQoKTtcclxuXHJcblx0XHQkKHdpbmRvdykuc2Nyb2xsKCBmdW5jdGlvbigpe1xyXG5cdFx0XHQvL2lmICgkKCcuanMtaGVhZGVyLXRvcC1sYXllcicpLmxlbmd0aCkgdGhpcy50b3BMYXllci5vblNjcm9sbCgpO1xyXG5cdFx0XHRpZiAodGhpcy50b3BNZW51KSB0aGlzLnRvcE1lbnUub25TY3JvbGwoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdCQoZG9jdW1lbnQpLm9uKCdrZXlkb3duJywgKGUpID0+IHtcclxuXHRcdFx0dGhpcy4kZWwuZmluZCgnLmpzLXRyYW5zdmVyc2FsLW5hdiA+IC5qcy1uYXYtdHJpZ2dlcicpLm9mZiggXCJmb2N1c2luIGZvY3Vzb3V0XCIpO1xyXG5cdFx0XHR0aGlzLiRlbC5maW5kKCcuanMtdHJhbnN2ZXJzYWwtbmF2ID4gLmpzLW5hdi10cmlnZ2VyJykuZm9jdXNpbiggKGUpID0+IHtcclxuXHRcdFx0ICAgIGxldCBfJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcblx0XHRcdCAgICBpZiAoIV8kdGhpcy5wYXJlbnQoKS5oYXNDbGFzcygndHJhbnN2ZXJzYWwtbmF2LS1vcGVuZWQnKSkge1x0XHJcblx0XHRcdCAgICBcdHRoaXMuJGVsLmZpbmQoJy5qcy10cmFuc3ZlcnNhbC1uYXYgdWwgJykucmVtb3ZlQ2xhc3MoJ2Rpc3BsYXktbm9uZScpO1x0XHQgICAgXHRcclxuXHRcdFx0ICAgIFx0XHJcblx0ICAgICAgICAgICAgXHRfJHRoaXMuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUgKTtcclxuXHQgICAgICAgICAgICBcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0ICAgICAgICAgICAgXHRfJHRoaXMucGFyZW50KCkuYWRkQ2xhc3MoJ3RyYW5zdmVyc2FsLW5hdi0tb3BlbmVkJyk7XHJcblx0XHQgICAgICAgICAgICB9LCAwKTtcclxuXHRcdFx0ICAgIH0gICAgICAgICAgICBcclxuXHQgICAgICAgIH0pLmZvY3Vzb3V0KCAoZSkgPT4ge1xyXG5cdFx0XHQgICAgbGV0IF8kdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuXHQgICAgICAgICAgICBfJHRoaXMucGFyZW50cygpLnJlbW92ZUNsYXNzKCd0cmFuc3ZlcnNhbC1uYXYtLW9wZW5lZCcpO1xyXG5cdCAgICAgICAgICAgIF8kdGhpcy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UgKTtcclxuXHQgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHQgICAgICAgICAgICBcdHRoaXMuJGVsLmZpbmQoJy5qcy10cmFuc3ZlcnNhbC1uYXYgdWwgJykuYWRkQ2xhc3MoJ2Rpc3BsYXktbm9uZScpO1xyXG5cdCAgICAgICAgICAgIH0sIDApO1xyXG5cdCAgICAgICAgfSk7XHJcblxyXG5cdCAgICAgICAgdGhpcy4kZWwuZmluZCgnLmpzLXRyYW5zdmVyc2FsLW5hdiA+IHVsID4gbGknKS5mb2N1c2luKCAoZSkgPT4ge1xyXG5cdFx0XHQgICAgbGV0IF8kdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuXHQgICAgICAgICAgICBfJHRoaXMucGFyZW50cygnLmpzLXRyYW5zdmVyc2FsLW5hdjpmaXJzdCcpLmFkZENsYXNzKCd0cmFuc3ZlcnNhbC1uYXYtLW9wZW5lZCcpO1xyXG5cdCAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5qcy10cmFuc3ZlcnNhbC1uYXYgPiAuanMtbmF2LXRyaWdnZXInKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSApO1xyXG5cdCAgICAgICAgfSkuZm9jdXNvdXQoIChlKSA9PiB7XHJcblx0XHRcdCAgICBsZXQgXyR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG5cdCAgICAgICAgICAgIF8kdGhpcy5wYXJlbnRzKCcuanMtdHJhbnN2ZXJzYWwtbmF2OmZpcnN0JykucmVtb3ZlQ2xhc3MoJ3RyYW5zdmVyc2FsLW5hdi0tb3BlbmVkJyk7XHJcblx0ICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLmpzLXRyYW5zdmVyc2FsLW5hdiA+IC5qcy1uYXYtdHJpZ2dlcicpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSApO1xyXG5cdCAgICAgICAgfSk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtdHJhbnN2ZXJzYWwtbmF2ID4gLmpzLW5hdi10cmlnZ2VyJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdCAgICBsZXQgXyR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgICAgICAgICBfJHRoaXMucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ3RyYW5zdmVyc2FsLW5hdi0tb3BlbmVkJyk7XHJcbiAgICAgICAgICAgIF8kdGhpcy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgKF8kdGhpcy5wYXJlbnQoKS5oYXNDbGFzcygndHJhbnN2ZXJzYWwtbmF2LS1vcGVuZWQnKSA/IHRydWUgOiBmYWxzZSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChkaW9yVjcuaGVscGVycy5pc1RhY3RpbGUoKSkge1xyXG4gICAgICAgIFx0dGhpcy4kZWwuZmluZCgnLmpzLXRyYW5zdmVyc2FsLW5hdicpLmFkZENsYXNzKCdpcy10YWN0aWxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBcclxuXHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBjYXJ0IGxlbmd0aCBvbiBxdWlja2J1eVxyXG4gICAgICAgIGRpb3JWNy5kaXNwYXRjaGVyLm9uKCdhZGRUb0NhcnQ6OnN1Y2Nlc3MnLCB0aGlzLnJvbGxzLmFkZGVkVG9DYXJ0LCB0aGlzLnJvbGxzKTtcclxuXHJcbiAgICAgICAgZGlvclY3LmRpc3BhdGNoZXIub24oJ2hlYWRlcjo6Y2xvc2UnLCB0aGlzLmNsb3NlQWxsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gc2Nyb2xsIHRvIHRvcFxyXG4gICAgICAgIGxldCAkdG9Ub3AgPSAkKCcjc2Nyb2xsVG9Ub3AnKTtcclxuICAgICAgICBpZiAoJHRvVG9wLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gdGhpcy5zY3JvbGxUb1RvcFRocmVzaG9sZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICR0b1RvcC5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICR0b1RvcC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJHRvVG9wLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICQoXCJodG1sLCBib2R5XCIpLnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCAnNTAwJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblx0XHQvLyBVc2Ugc2lnbmFsIHRvIGRpc3BhdGNoIHNjcm9sbCB0byB0YWJsZXRcclxuXHRcdGlmIChkaW9yVjcuaGVscGVycy5pc1RhY3RpbGUoKSAmJiB0aGlzLnRvcExheWVyICYmIHRoaXMudG9wTWVudSkge1xyXG4gICAgICAgICAgICBkaW9yVjcuZGlzcGF0Y2hlci5vbignd2luZG93OjpzY3JvbGwnLCB0aGlzLnRvcExheWVyLm9uU2Nyb2xsLCB0aGlzLnRvcExheWVyKTtcclxuICAgICAgICAgICAgZGlvclY3LmRpc3BhdGNoZXIub24oJ3dpbmRvdzo6c2Nyb2xsJywgdGhpcy50b3BNZW51Lm9uU2Nyb2xsLCB0aGlzLnRvcE1lbnUpO1xyXG4gICAgICAgIH1cclxuXHR9LFxyXG5cclxuXHRjbG9zZUFsbCgpIHtcclxuICAgICAgICBpZiAoIHRoaXMudG9wTGF5ZXIgKSAgdGhpcy50b3BMYXllci5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMucm9sbHMuY2xvc2VBbGwoKTtcclxuICAgICAgICB0aGlzLnRvcE1lbnUuY2xvc2UoKTtcclxuICAgIH0sXHJcblxyXG4gICAgdG9GbHVpZCgpIHtcclxuICAgICAgICAkKCcjZGlvci1oZWFkZXInKS5yZW1vdmVDbGFzcygnaGVhZGVyLS10cmFuc3BhcmVudCcpO1xyXG4gICAgICAgIHRoaXMuc3ViTmF2Rm9sZGluZy50b0ZsdWlkKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldFVuaXZlcnNlKCl7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRVbml2ZXJzZSA9IENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5VTklWRVJTRSkgfHwgMDtcclxuXHJcblx0XHRpZihjdXJyZW50VW5pdmVyc2Upe1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcubWFpbi1uYXYgbGknKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGxldCBsaW5rTGlzdCA9ICAkKFwiYVwiLCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIFx0aWYoIGxpbmtMaXN0LmRhdGEoXCJuYXYtdW5pdmVyc2VcIikgJiYgbGlua0xpc3QuZGF0YShcIm5hdi11bml2ZXJzZVwiKS50b1VwcGVyQ2FzZSgpID09PSBjdXJyZW50VW5pdmVyc2UudG9VcHBlckNhc2UoKSApe1xyXG4gICAgICAgICAgICBcdFx0JChcIi5uYXYtaXRlbS0tYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwibmF2LWl0ZW0tLWFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rTGlzdC5hZGRDbGFzcyhcIm5hdi1pdGVtLS1hY3RpdmVcIik7XHJcblx0XHRcdFx0fVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cdH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEhlYWRlcjsiLCJjbGFzcyBTdWJOYXYge1xuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcblx0JGxpID0gbnVsbDtcblx0bGVuZ3RoID0gMDtcblx0dG90YWxXaWR0aCA9IDA7XG5cblx0b2Zmc2V0SW5kZXggPSAwO1xuXHRvZmZzZXQgPSAwO1xuXG5cdG1hcmdpbiA9IDQwO1xuXG5cdG51bVZpc2libGVzID0gMDtcblxuXHRhdXRvQ29tcGxldGUgPSBudWxsOyAvLyBTZWFyY2ggYXV0b2NvbXBsZXRlIChXUyBHU0EpXG5cdC8vIGpzaGludCBpZ25vcmU6ZW5kXG5cbiAgICBjb25zdHJ1Y3RvciggaGVhZGVyICkge1xuXHRcdFxuXHRcdHRoaXMuJGVsID0gJCgnaGVhZGVyOmZpcnN0IC5qcy1oZWFkZXItc3VibmF2OmZpcnN0Jyk7XG5cdFx0dGhpcy4kY29udGFpbmVyID0gdGhpcy4kZWwuZmluZCgnLmpzLXN1Ym5hdi1pdGVtczpmaXJzdCcpO1xuXHRcdHRoaXMuJGxpID0gdGhpcy4kY29udGFpbmVyLmZpbmQoJ2xpJyk7XG5cdFx0dGhpcy5sZW5ndGggPSB0aGlzLiRsaS5sZW5ndGg7XG5cblx0XHRsZXQgX2RlbGF5ID0gIWRpb3JWNy5oZWxwZXJzLmlzSUUoKSA/IDM1MCA6IDU1MDtcblx0XHRzZXRUaW1lb3V0KCAoKSA9PiB7XG5cdFx0ICAgIGlmICgkKCdodG1sJykuaGFzQ2xhc3MoJ2hlYWRlci0tbGlnaHQnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdpbnZpc2libGUnKS5zaG93KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudG90YWxXaWR0aCA9IE1hdGguY2VpbCggdGhpcy4kY29udGFpbmVyLm91dGVyV2lkdGgodHJ1ZSkgKSArIDE7XG4gICAgICAgICAgICB0aGlzLiRjb250YWluZXIud2lkdGgoIHRoaXMudG90YWxXaWR0aCApO1xuXG4gICAgICAgICAgICBpZiAoJCgnaHRtbCcpLmhhc0NsYXNzKCdoZWFkZXItLXRyYW5zcGFyZW50JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnaW52aXNpYmxlJyk7XG5cbiAgICAgICAgICAgICQod2luZG93KS5yZXNpemUoIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSApO1xuXHRcdFx0dGhpcy5vblJlc2l6ZSgpO1xuXG5cdFx0fSwgX2RlbGF5KTtcblx0XHRcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtc3VibmF2LW5leHQnKS5vbignY2xpY2snLCB0aGlzLm5leHQuYmluZCh0aGlzKSApO1xuXHRcdHRoaXMuJGVsLmZpbmQoJy5qcy1zdWJuYXYtcHJldmlvdXMnKS5vbignY2xpY2snLCB0aGlzLnByZXZpb3VzLmJpbmQodGhpcykgKTtcblxuXHRcdHRoaXMuYnVpbGRTZWFyY2goKTtcbiAgICB9XG5cdFxuXHRvblJlc2l6ZSgpIHtcbiAgICAgICAgaWYgKCQoJyNkaW9yLWhlYWRlcicpLmhhc0NsYXNzKCdqcy1oZWFkZXItdHJhbnNwYXJlbnQnKSkge1xuICAgICAgICAgICAgJCgnLmpzLWhlYWRlci1zdWJuYXYnKS5hZGRDbGFzcygnaW52aXNpYmxlJykuc2hvdygpO1xuICAgICAgICB9XG5cblx0XHRsZXQgX2F2YWlsYWJsZVdpZHRoID0gTWF0aC5jZWlsKCBNYXRoLm1pbigxNDQwLCAkKHdpbmRvdykud2lkdGgoKSkgLSB0aGlzLm1hcmdpbiApO1xuXHRcdHRoaXMuJGVsLmZpbmQoJ25hdicpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XG5cdFx0XG5cdFx0aWYoIF9hdmFpbGFibGVXaWR0aCA8IHRoaXMudG90YWxXaWR0aCApIHtcdFx0XHRcdFxuXHRcdFx0Ly8gd2UgbXN1dCBidWlsZCBhIHNsaWRlciB0byBzaG93IGFsbCBpdGVtc1xuXHRcdFx0dGhpcy4kZWwuYWRkQ2xhc3MoJ3N1Ym5hdi1zbGlkZXInKTtcblx0XHRcdC8vIHNsaWRlciB3aWR0aDogZG8gbm90IGNyb3AgYSBsaW5rIVxuXHRcdFx0bGV0IF93aWR0aCA9IDA7XG5cdFx0XHRsZXQgaiA9IDA7XG5cdFx0XHRmb3IgKGxldCBpPTA7IGk8dGhpcy5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRsZXQgX3cgPSAkKHRoaXMuJGxpW2ldKS5vdXRlcldpZHRoKHRydWUpO1xuXG5cdFx0XHRcdGlmIChfd2lkdGggKyBfdyA8IF9hdmFpbGFibGVXaWR0aCkge1xuXHRcdFx0XHRcdF93aWR0aCArPSBfdztcblx0XHRcdFx0XHQrK2o7IFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHRoaXMubnVtVmlzaWJsZXMgPSBqO1xuXHRcdFx0dGhpcy52aWV3cG9ydFdpZHRoID0gTWF0aC5jZWlsKCBfd2lkdGggKTtcblx0XHRcdFxuXHRcdFx0dGhpcy4kZWwuZmluZCgnbmF2Jykud2lkdGgoIHRoaXMudmlld3BvcnRXaWR0aCApO1xuXHRcdFx0XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHJlbW92ZSBzbGlkZXJcblx0XHRcdHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdzdWJuYXYtc2xpZGVyJyk7XG5cdFx0XHR0aGlzLiRlbC5maW5kKCduYXYnKS53aWR0aCggX2F2YWlsYWJsZVdpZHRoICk7XG5cdFx0fVxuXG4gICAgICAgIGlmICgkKCcjZGlvci1oZWFkZXInKS5oYXNDbGFzcygnanMtaGVhZGVyLXRyYW5zcGFyZW50JykpIHtcbiAgICAgICAgICAgICQoJy5qcy1oZWFkZXItc3VibmF2JykuaGlkZSgpLnJlbW92ZUNsYXNzKCdpbnZpc2libGUnKTtcbiAgICAgICAgfVxuXHR9XG5cblx0bmV4dCgpIHtcblx0XHRpZiAodGhpcy5vZmZzZXRJbmRleCA8IHRoaXMubGVuZ3RoIC0gdGhpcy5udW1WaXNpYmxlcykge1xuXHRcdFx0dGhpcy5vZmZzZXQgKz0gJCh0aGlzLiRsaVt0aGlzLm9mZnNldEluZGV4K3RoaXMubnVtVmlzaWJsZXNdKS5vdXRlcldpZHRoKCk7XG5cdFx0XHQrK3RoaXMub2Zmc2V0SW5kZXg7XG5cdFx0XHRcblx0XHRcdHRoaXMuJGNvbnRhaW5lci5jc3MoJ21hcmdpbi1sZWZ0JywgLXRoaXMub2Zmc2V0ICk7XG5cdFx0XHRcblx0XHRcdCQoJy5qcy1zdWJuYXYtYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0XHRpZiggdGhpcy5vZmZzZXRJbmRleCA9PT0gdGhpcy5sZW5ndGggLSB0aGlzLm51bVZpc2libGVzICkgJCgnLmpzLXN1Ym5hdi1uZXh0JykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0fVxuXHR9XG5cblx0cHJldmlvdXMoKSB7XG5cdFx0aWYgKHRoaXMub2Zmc2V0SW5kZXggPiAwKSB7XG5cdFx0XHQtLXRoaXMub2Zmc2V0SW5kZXg7XG5cdFx0XHR0aGlzLm9mZnNldCAtPSAkKHRoaXMuJGxpW3RoaXMub2Zmc2V0SW5kZXgrdGhpcy5udW1WaXNpYmxlc10pLm91dGVyV2lkdGgoKTtcblx0XHRcdFxuXHRcdFx0dGhpcy4kY29udGFpbmVyLmNzcygnbWFyZ2luLWxlZnQnLCAtdGhpcy5vZmZzZXQpO1xuXHRcdFx0XG5cdFx0XHQkKCcuanMtc3VibmF2LWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuXHRcdFx0aWYoIHRoaXMub2Zmc2V0SW5kZXggPT09IDAgKSAkKCcuanMtc3VibmF2LXByZXZpb3VzJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cdFx0fVxuXHR9XG5cblx0YnVpbGRTZWFyY2goKSB7XG4gICAgICAgIGxldCAkaW5wdXQgPSAkKCcjc2VhcmNoLWhlYWRlcicpO1xuICAgICAgICB0aGlzLmF1dG9Db21wbGV0ZSA9IG5ldyBkaW9yVjcuQXV0b0NvbXBsZXRlU2VhcmNoKCAkaW5wdXQgKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN1Yk5hdjsiLCIvKipcbiAqIE5lZWQgYmFiZWwgcHJlc2V0IHN0YWdlLTIgdG8gYmUgYWJsZSB0byBkZWNsYXJlIGNsYXNzIHByb3BlcnRpZXNcbiAqL1xuY2xhc3MgU3ViTmF2Rm9sZGluZyB7XG5cbiAgICAvLyBqc2hpbnQgaWdub3JlOnN0YXJ0XG4gICAgaGVhZGVyID0gbnVsbDtcblxuICAgIG1vdXNlT3ZlciA9IGZhbHNlO1xuICAgIGlzT3BlbiA9IHRydWU7XG4gICAgdGhyZXNob2xkID0gNTtcbiAgICAkZWwgPSBudWxsO1xuXG4gICAgdHJhbnNwYXJlbnQgPSBmYWxzZTtcblxuICAgIG92ZXJUaW1lb3V0ID0gbnVsbDtcbiAgICB0cmFuc2l0aW9uRHVyYXRpb24gPSA0MDA7XG5cbiAgICB0cmFuc2l0aW9uVGltZW91dCA9IG51bGw7XG5cbiAgICBvcGVuID0gbnVsbDtcbiAgICBjbG9zZSA9IG51bGw7XG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcblxuICAgIGNvbnN0cnVjdG9yKCBoZWFkZXIgKSB7XG5cbiAgICAgICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW1N1Yk5hdkZvbGRpbmddOiBuZWVkIGEgcmVmZXJlbmNlIG9mIHRoZSBoZWFkZXIgaW5zdGFuY2UuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhlYWRlciA9IGhlYWRlcjtcbiAgICAgICAgdGhpcy4kZWwgPSBoZWFkZXIuJGVsLmZpbmQoJy5qcy1zdWJuYXYtZm9sZDpmaXJzdCcpO1xuXG4gICAgICAgIGlmICghdGhpcy4kZWwgfHwgIXRoaXMuJGVsLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gbm8gc3VibmF2XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnW1N1Yk5hdkZvbGRpbmddOiBObyBjbGFzcyBcIi5qcy1oZWFkZXItc3VibmF2XCIsIHNvIG5vdGhpbmcgdG8gZG8uLi4nKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FzZSB0cmFuc3BhcmVudDogc3VibmF2IGlzIGZvbGRlZFxuICAgICAgICAvLyBvbiByb2xsIDpcbiAgICAgICAgLy8gLSAxLiBhZGQgYmFja2dyb3VuZCB3aXRoIHRyYW5zaXRpb25cbiAgICAgICAgLy8gLSAyLiBkZXBsb3kgc3VibmF2XG4gICAgICAgIGlmICh0aGlzLmhlYWRlci4kZWwuaGFzQ2xhc3MoJ2pzLWhlYWRlci10cmFuc3BhcmVudCcpKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcGFyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudGhyZXNob2xkID0gLTE7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VTaW1wbGUoKTtcblxuICAgICAgICAgICAgdGhpcy5vcGVuID0gdGhpcy5vcGVuV2l0aFRyYW5zO1xuICAgICAgICAgICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2VXaXRoVHJhbnM7XG4gICAgICAgICAgICB0aGlzLm9wZW5TaW1wbGVQcm94eSA9IHRoaXMub3BlblNpbXBsZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlZFByb3h5ID0gdGhpcy5vbkNsb3NlZFdpdGhUcmFucy5iaW5kKHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCQoJ2h0bWwnKS5oYXNDbGFzcygnZnVsbGJyb3dzZXInKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGhyZXNob2xkID0gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQod2luZG93KS5zY3JvbGwoIHRoaXMub25TY3JvbGwuYmluZCh0aGlzKSApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW5TaW1wbGU7XG4gICAgICAgICAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZVNpbXBsZTtcblxuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmNzcygge3RvcDogLXRoaXMuJGVsLm91dGVySGVpZ2h0KCktMn0gKTtcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIHN1Ym5hdiB0byBwcm9jZXNzIHdpZHRoICYgc2xpZGVyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcyksIDUwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRpb3JWNy5oZWxwZXJzLmlzVGFjdGlsZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlci4kZWwubW91c2VlbnRlciggKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5vdmVyVGltZW91dCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubW91c2VPdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5vcGVuKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm92ZXJUaW1lb3V0ID0gc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9LCAzMDAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgfSkubW91c2VsZWF2ZSggKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlT3ZlciA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMub3ZlclRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRoaXMub3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KCB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcyksIDEwMDAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZmlyc3QgdGFwIG9uIGhlYWRlclxuICAgICAgICAgICAgdGhpcy5oZWFkZXIuJGVsLm9uKCd0b3VjaGVuZCcsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vdXNlT3Zlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW91c2VPdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHRhcCBvdXRzaWRlXG4gICAgICAgICAgICAkKCdtYWluJykub24oJ3RvdWNoZW5kJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAvKmlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VPdmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5vdmVyVGltZW91dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vdmVyVGltZW91dCA9IHNldFRpbWVvdXQoIHRoaXMub25TY3JvbGwuYmluZCh0aGlzKSwgMTAwMCApO1xuXG4gICAgICAgICAgICAgICAgZGlvclY3LmRpc3BhdGNoZXIudHJpZ2dlcignaGVhZGVyOjpjbG9zZScpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkZXIucm9sbHMuY2xvc2VBbGwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlci50b3BMYXllci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyLnRvcE1lbnUuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TY3JvbGwoKSB7XG4gICAgICAgIGxldCBfdG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgICAgICBpZiAodGhpcy5tb3VzZU92ZXIpIHtcbiAgICAgICAgICAgIHRoaXMub3Blbih0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChfdG9wID4gdGhpcy50aHJlc2hvbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3Blbih0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIG9wZW4vY2xvc2Ugc2ltcGxlOiBvbmx5IHN1Ym5hdiBpcyBhbmltYXRlZFxuICAgIG9wZW5TaW1wbGUoIGUgKSB7XG4gICAgICAgIGlmIChlKSBjbGVhclRpbWVvdXQoIHRoaXMub3ZlclRpbWVvdXQgKTtcblxuICAgICAgICB0aGlzLiRlbC5zaG93KCk7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zcGFyZW50KSB0aGlzLmhlYWRlci4kZWwuZmluZCgnLmhlYWRlci10b3AtYmFyJykub2ZmKCBkaW9yVjcuaGVscGVycy50cmFuc2l0aW9uRW5kKCksIHRoaXMub3BlblNpbXBsZVByb3h5ICk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgLy8gbmVlZCB0byB3YWl0IGZvciBjc3MgdHJhbnNpdGlvbiB0byB3b3JrIChkaXNwbGF5IG5vbmUpXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuY3NzKCB7dG9wOiAwfSApO1xuICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubW91c2VPdmVyKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbG9zZVNpbXBsZSggZSApIHtcbiAgICAgICAgaWYgKHRoaXMuaXNPcGVuICYmICF0aGlzLm1vdXNlT3Zlcikge1xuICAgICAgICAgICAgLy8gbm90aWZ5IHRvcE1lbnUgdG8gY2xvc2UgaWYgaXRzIG9wZW5cbiAgICAgICAgICAgIGRpb3JWNy5kaXNwYXRjaGVyLnRyaWdnZXIoJ3N1Ym5hdjo6Zm9sZCcpO1xuXG4gICAgICAgICAgICB0aGlzLiRlbC5jc3MoIHt0b3A6IC10aGlzLiRlbC5vdXRlckhlaWdodCgpLTJ9ICk7XG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gb3Blbi9jbG9zZSB3aXRoIGhlYWRlciB0cmFuc3BhcmVudCAoYW5pbSBoZWFkZXIgYmVmb3JlIHVuZm9sZCwgYW5kIGZvbGQgYmVmb3JlIGhlYWRlcilcbiAgICBvcGVuV2l0aFRyYW5zKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoIHRoaXMub3ZlclRpbWVvdXQgKTtcbiAgICAgICAgdGhpcy5oZWFkZXIuJGVsLmZpbmQoJy5oZWFkZXItdG9wLWJhcicpLm9uKCBkaW9yVjcuaGVscGVycy50cmFuc2l0aW9uRW5kKCksIHRoaXMub3BlblNpbXBsZVByb3h5ICk7XG4gICAgICAgIHRoaXMuaGVhZGVyLiRlbC5yZW1vdmVDbGFzcygnaGVhZGVyLS10cmFuc3BhcmVudCcpO1xuICAgIH1cblxuICAgIGNsb3NlV2l0aFRyYW5zKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCBkaW9yVjcuaGVscGVycy50cmFuc2l0aW9uRW5kKCksIHRoaXMub25DbG9zZWRQcm94eSApO1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNpbXBsZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlZFdpdGhUcmFucygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DbG9zZWRXaXRoVHJhbnMoKSB7XG4gICAgICAgIGlmICghdGhpcy5tb3VzZU92ZXIgJiYgIXRoaXMuaGVhZGVyLnRvcExheWVyLmlzT3BlbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlci4kZWwuYWRkQ2xhc3MoJ2hlYWRlci0tdHJhbnNwYXJlbnQnKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRlbC5vZmYoIGRpb3JWNy5oZWxwZXJzLnRyYW5zaXRpb25FbmQoKSwgdGhpcy5vbkNsb3NlZFByb3h5ICk7XG4gICAgfVxuXG4gICAgdG9GbHVpZCgpIHtcbiAgICAgICAgdGhpcy5vcGVuID0gdGhpcy5vcGVuU2ltcGxlO1xuICAgICAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZVNpbXBsZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN1Yk5hdkZvbGRpbmc7IiwiaW1wb3J0IFdpc2hsaXN0IGZyb20gJy4vcm9sbHMvV2lzaGxpc3QuanMnO1xyXG5pbXBvcnQgQWNjb3VudCBmcm9tICcuL3JvbGxzL0FjY291bnQuanMnO1xyXG5pbXBvcnQgRXJyb3IgZnJvbSAnLi9yb2xscy9FcnJvci5qcyc7XHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vcm9sbHMvQ2FydC5qcyc7XHJcblxyXG5sZXQgcm9sbHMgPSB7XHJcblx0aW5zdGFuY2VzOiBbXSxcclxuXHJcbiAgICBjdXJyZW50OiBudWxsLFxyXG4gICAgaXNPcGVuZWQ6IGZhbHNlLFxyXG5cclxuXHRpbml0KCkge1xyXG5cclxuICAgICAgICBpZiAoICQoJy5qcy1jYXJ0LXJvbGwgJykubGVuZ3RoICkge1xyXG4gICAgICAgICAgICB0aGlzLmNhcnQgPSBuZXcgQ2FydCgpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5wdXNoKCB0aGlzLmNhcnQgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCAhJCgnaHRtbCcpLmhhc0NsYXNzKCduby13aXNobGlzdCcpICYmICQoJy5qcy13aXNobGlzdC1yb2xsICcpLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgdGhpcy53aXNobGlzdCA9IG5ldyBXaXNobGlzdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5wdXNoKCB0aGlzLndpc2hsaXN0ICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICggJCgnLmpzLWFjY291bnQtcm9sbCAnKS5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWNjb3VudCA9IG5ldyBBY2NvdW50KCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzLnB1c2goIHRoaXMuYWNjb3VudCApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoICQoJy5qcy1lcnJvci1yb2xsICcpLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvciA9IG5ldyBFcnJvciggJCgnLmpzLWVycm9yLXJvbGwnKSApO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5wdXNoKCB0aGlzLmVycm9yICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGlvclY3LmhlbHBlcnMuaXNUYWN0aWxlKCkpIHtcclxuICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ3RvdWNoc3RhcnQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJy5oZWFkZXItcm9sbCcpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0dGhpcy5jbG9zZUFsbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHJcblx0fSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBjYXJ0IGxlbmd0aCBvbiBxdWlja2J1eVxyXG4gICAgICovXHJcbiAgICBhZGRlZFRvQ2FydCgpIHtcclxuXHQgICAgdGhpcy5jYXJ0LmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNhcnQuZ2V0KCk7XHJcbiAgICB9LFxyXG5cclxuXHRjbG9zZUFsbCgpIHtcclxuXHRcdHRoaXMuaW5zdGFuY2VzLmZvckVhY2gocm9sbCA9PiB7XHJcblx0XHRcdHJvbGwuY2xvc2UoKTtcclxuXHRcdH0pO1xyXG5cdH0sXHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cclxuICAgIC8qIEZPUiBWNiBPTkxZICovXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vL1xyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZUFsbCgpO1xyXG4gICAgfSxcclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudCkgdGhpcy5jdXJyZW50Lm9wZW4oKTtcclxuICAgIH0sXHJcbiAgICB0b2dnbGUobmV3Um9sbCwgYWN0aXZlKSB7XHJcbiAgICAgICAgLyogSUYgQ0FSVDogb3BlbiBvbmx5IGlmIGNhcnRzIG5vdCBlbXB0eSAqL1xyXG4gICAgICAgIGlmICghbmV3Um9sbCB8fCAhbmV3Um9sbC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5jYXJ0Lm9wZW4oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgX2lkID0gbmV3Um9sbC5hdHRyKCdpZCcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCBfaWQuaW5kZXhPZignYWNjb3VudCcpICE9IC0xKSB0aGlzLmFjY291bnQub3BlbigpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChfaWQuaW5kZXhPZignd2lzaGxpc3QnKSAhPSAtMSkgdGhpcy53aXNobGlzdC5vcGVuKCk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKF9pZC5pbmRleE9mKCdlcnJvcicpICE9IC0xKSB0aGlzLmVycm9yLm9wZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9uRXJyb3IoIGRhdGEgKSB7XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKCBBcnJheS5pc0FycmF5KGRhdGEuZXJyb3JNZXNzYWdlcykgKSAkKCcjZXJyb3JSb2xsIC5kZWZhdWx0LW1lc3NhZ2UnKS5odG1sKCBkYXRhLmVycm9yTWVzc2FnZXMuam9pbignPGJyLz4nKSApO1xyXG4gICAgICAgICAgICBlbHNlIGNvbnNvbGUud2FybignQ2Fwc3VsZSAtPiByb2xscy5qcyAtPiBkYXRhLmVycm9yTWVzc2FnZXMgaXMgdW5kZWZpbmVkIG9uIGVycm9yIHJvbGwnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50b2dnbGUoICQoJyNlcnJvclJvbGwnKSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm9sbHM7IiwiaW1wb3J0IFJvbGwgZnJvbSAnLi9Sb2xsLmpzJztcblxuY2xhc3MgQWNjb3VudCBleHRlbmRzIFJvbGwge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCQoJy5qcy1hY2NvdW50LXJvbGwnKSk7XG5cbiAgICAgICAgaWYgKGRpb3JWNy5BY2NvdW50LmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCB0aGlzLiRlbC5maW5kKCcuanMtYWNjb3VudC1uYXYnKSApO1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCB0aGlzLiRlbC5wYXJlbnRzKCdsaTpmaXJzdCcpLmZpbmQoJy5qcy1hY2NvdW50LWNvbm5lY3RlZCcpICk7XG5cbiAgICAgICAgICAgIC8vIHRyYWNrIHRoZSBhY2NvdW50IGV2ZW50OiBjb3VsZCBiZSBjcmVhdGlvbiBvciBjb25uZXhpb25cbiAgICAgICAgICAgIC8vIHRoZSB2YWx1ZSBvZiB0aGUgY29va2llIGlzIHRoZSBhY3Rpb24gbmFtZVxuICAgICAgICAgICAgbGV0IF9hY3Rpb24gPSBDb29raWVzLmdldChkaW9yVjcuY29uZmlnLmNvb2tpZXMuQUNDT1VOVF9UUkFDS0VWRU5UKTtcbiAgICAgICAgICAgIGlmIChfYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgX2FjdGlvbiA9IGRpb3JWNy50cmFja2luZy5zdHJpbmdUb09iamVjdChfYWN0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF9hY3Rpb24gIT09ICdvYmplY3QnKSBfYWN0aW9uID0ge307XG4gICAgICAgICAgICAgICAgX2FjdGlvbi5ldmVudENhdGVnb3J5ID0gZGF0YUxheWVySW5mby5wYWdlVHlwZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoZGlvclY3LnRyYWNraW5nLmluaXRpYWxpemVkKSBkaW9yVjcudHJhY2tpbmcudHJhY2tPYmplY3RTdHJpbmcoX2FjdGlvbik7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpb3JWNy5kaXNwYXRjaGVyLm9uKCd0cmFja2luZzppbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaW9yVjcudHJhY2tpbmcudHJhY2tPYmplY3RTdHJpbmcoX2FjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBDb29raWVzLnJlbW92ZShkaW9yVjcuY29uZmlnLmNvb2tpZXMuQUNDT1VOVF9UUkFDS0VWRU5UKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5qZWN0IHVzZXIgbmFtZVxuICAgICAgICAgICAgbGV0IF9jb29raWVEYXRhID0gQ29va2llcy5nZXQoZGlvclY3LmNvbmZpZy5jb29raWVzLlVTRVIpO1xuICAgICAgICAgICAgaWYgKF9jb29raWVEYXRhKSB7XG4gICAgICAgICAgICAgICAgbGV0IF91c2VyRGF0YSA9IEpTT04ucGFyc2UoIF9jb29raWVEYXRhLnJlcGxhY2UoL1xcKy9nLCAnICcpICk7XG4gICAgICAgICAgICAgICAgJCgnLmpzLXVzZXItbmFtZScpLnRleHQoIF91c2VyRGF0YS5uYW1lICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW0FjY291bnRdOiBzb21ldGhpbmcgd2VudCB3cm9uZzogeW91XFwncmUgY29ubmVjdGVkIGJ1dCB3aXRob3V0IHVzZXIgZGF0YS4gVGhlIGNvb2tpZSBcIicrZGlvclY3LmNvbmZpZy5jb29raWVzLlVTRVIrJ1wiIGlzIG1pc3NpbmcuJyApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCB0aGlzLiRlbC5maW5kKCcuanMtYWNjb3VudC1zaWduaW4nKSApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBjb25uZWN0ZWQoKSB7XG4gICAgICAgIGxldCBfY29ubmVjdGVkID0gQ29va2llcy5nZXQoZGlvclY3LmNvbmZpZy5jb29raWVzLkNPTk5FQ1RFRCk7XG4gICAgICAgIGlmIChfY29ubmVjdGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBkaW9yVjcuaGVscGVycy5zdHJpbmdUb0Jvb2xlYW4oX2Nvbm5lY3RlZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuLy8gZXhwb3NlIHN0YXRpYyBtZXRob2RzXG53aW5kb3cuZGlvclY3LkFjY291bnQgPSBBY2NvdW50O1xuXG5leHBvcnQgZGVmYXVsdCBBY2NvdW50OyIsImltcG9ydCBSb2xsIGZyb20gJy4vUm9sbC5qcyc7XHJcbmltcG9ydCB0cGwgZnJvbSAnLi4vLi4vLi4vdGVtcGxhdGVzLmpzJztcclxuXHJcbi8qKlxyXG4gKiBQcml2YXRlIGluc3RhbmNlIG9mIENhcnRcclxuICovXHJcbmxldCBfaW5zdDtcclxuXHJcbmNsYXNzIENhcnQgZXh0ZW5kcyBSb2xsIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigkKCcuanMtY2FydC1yb2xsJykpO1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIF9pbnN0ID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgICAgICB0aGlzLmNsb3NlVGltZW91dCA9IDIwMDA7XHJcblxyXG4gICAgICAgIHRoaXMubWF4SGVpZ2h0ID0gMzc1OyAvLyBubyBzY3JvbGwgaWYgMiBwcm9kdWN0cyAoYnRuIG9yZGVyIG11c3QgYmUgdmlzaWJsZSlcclxuXHJcbiAgICAgICAgLy8gRW1wdHkgQ2FydCBkaXNhYmxlIGNhcnQgbGlua1xyXG4gICAgICAgIHRoaXMuJHBhcmVudC5maW5kKCcuanMtY2FydC1saW5rJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRDYXJ0VG90YWwgPSBwYXJzZUludCh0aGlzLiRlbC5wYXJlbnQoKS5maW5kKCcuanMtY2FydC10b3RhbCcpLnRleHQoKS5yZXBsYWNlKC9bXFwoXFwpXS9nLCcnKSk7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudENhcnRUb3RhbCkge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUF0dHIoJ3JvbGUnKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgfSkub24oJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuYXR0cigncm9sZScsICdidXR0b24nKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkaW9yVjcuaGVscGVycy5yZWdpc3RlckhhbmRsZWJhcnNIZWxwZXIoJ3N0cmluZ2lmeScsICd0cnVuY2F0ZScpO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hVbml2ZXJzZXMoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWwub24oJ2NsaWNrJywgJy5qcy1jYXJ0LWl0ZW0tcmVtb3ZlJywgKGUpID0+IGRpb3JWNy5DYXJ0TW9kdWxlLnJlbW92ZUZyb21CdXR0b24oZSkgKTtcclxuXHJcblxyXG4gICAgICAgIGRpb3JWNy5DYXJ0TW9kdWxlLm9uKCdyZW1vdmVkJywgKCRwcm9kdWN0KSA9PiB7XHJcbiAgICAgICAgICAgICRwcm9kdWN0LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hVbml2ZXJzZXMoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZGlvclY3LkNhcnRNb2R1bGUub24oJ2FkZGVkJywgKHNpbGVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hVbml2ZXJzZXMoKTtcclxuICAgICAgICAgICAgaWYgKCFzaWxlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLmNsb3NlKCksIHRoaXMuY2xvc2VUaW1lb3V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gKTtcclxuICAgICAgICBkaW9yVjcuQ2FydE1vZHVsZS5vbignZXJyb3InLCB0aGlzLnNldEVycm9yLmJpbmQodGhpcykgKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICAgIGRpb3JWNy5DYXJ0TW9kdWxlLmdldCh0aGlzLnJlbmRlci5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVkID0gMDtcclxuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnaGFzLXBjZCBoYXMtY2RjIGhhcy1kb3VibGUtY2FydCBoYXMtZXJyb3InKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcblxyXG4gICAgICAgIGlmIChkaW9yVjcuZGF0YS5jYXJ0LlBDRCkgdGhpcy5yZW5kZXJPcmlnaW4oJ1BDRCcsIGRpb3JWNy5kYXRhLmNhcnQuUENEKTtcclxuICAgICAgICBpZiAoZGlvclY3LmRhdGEuY2FydC5DREMpIHRoaXMucmVuZGVyT3JpZ2luKCdDREMnLCBkaW9yVjcuZGF0YS5jYXJ0LkNEQyk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlZCA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdsb2FkaW5nIGhhcy1lcnJvcicpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbENEQyA+IDAgJiYgdGhpcy50b3RhbFBDRCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2hhcy1kb3VibGUtY2FydCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdoYXMtZG91YmxlLWNhcnQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVuZGVycyBjYXJ0IHByb2R1Y3RzIGZvciBvcmlnaW5cclxuICAgICAqIEBwYXJhbSBvcmlnaW4geydQQ0QnIHwgJ0NEQyd9XHJcbiAgICAgKiBAcGFyYW0gZGF0YVxyXG4gICAgICovXHJcbiAgICByZW5kZXJPcmlnaW4oIG9yaWdpbiwgZGF0YSApIHtcclxuICAgICAgICBvcmlnaW4gPSBvcmlnaW4udG9VcHBlckNhc2UoKTtcclxuICAgICAgICBsZXQgX29yaWdpbiA9IG9yaWdpbi50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLiRlbC50b2dnbGVDbGFzcygnaGFzLScrX29yaWdpbiwgZGF0YS5iYXNrZXQucHJvZHVjdHNRdWFudGl0eSA+IDApO1xyXG5cclxuICAgICAgICBsZXQgJGNhcnQgPSB0aGlzLiRlbC5maW5kKCcuanMtY2FydC0nK19vcmlnaW4pO1xyXG4gICAgICAgICRjYXJ0LmZpbmQoJy5qcy1jYXJ0LWl0ZW1zJykuaHRtbCggdHBsLmNhcnQoZGF0YSkgKTtcclxuICAgICAgICAkY2FydC5maW5kKCcuanMtY2FydC1xdWFudGl0eScpLnRleHQoIGRhdGEuYmFza2V0LnByb2R1Y3RzUXVhbnRpdHkgKTtcclxuICAgICAgICAkY2FydC5maW5kKCcuanMtc3VidG90YWwtcXVhbnRpdHknKS50ZXh0KCBkYXRhLmJhc2tldC5zdWJUb3RhbFdpdGhDdXJyZW5jeSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgd2UgaGF2ZSBwcm9kdWN0cyBmb3IgZWFjaCB1bml2ZXJzZVxyXG4gICAgICovXHJcbiAgICByZWZyZXNoVW5pdmVyc2VzKCkge1xyXG4gICAgICAgIGxldCBfdG90YWwgPSBkaW9yVjcuQ2FydE1vZHVsZS50b3RhbDtcclxuICAgICAgICBsZXQgX29yaWdpbnMgPSBbJ0NEQycsICdQQ0QnXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPDI7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgX29yaWdpbiA9IF9vcmlnaW5zW2ldO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRpb3JWNy5kYXRhLmNhcnRbX29yaWdpbl0pIHtcclxuICAgICAgICAgICAgICAgIGxldCAkY2FydCA9IHRoaXMuJGVsLmZpbmQoJy5qcy1jYXJ0LScgKyAoX29yaWdpbikudG9Mb3dlckNhc2UoKSApO1xyXG4gICAgICAgICAgICAgICAgJGNhcnQuZmluZCgnLmpzLWNhcnQtcXVhbnRpdHknKS50ZXh0KCBkaW9yVjcuZGF0YS5jYXJ0W19vcmlnaW5dLmJhc2tldC5wcm9kdWN0c1F1YW50aXR5ICk7XHJcbiAgICAgICAgICAgICAgICAkY2FydC5maW5kKCcuanMtc3VidG90YWwtcXVhbnRpdHknKS50ZXh0KCBkaW9yVjcuZGF0YS5jYXJ0W19vcmlnaW5dLmJhc2tldC5zdWJUb3RhbFdpdGhDdXJyZW5jeSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnRvZ2dsZUhpZGRlbihcclxuICAgICAgICAgICAgdGhpcy4kcGFyZW50LmZpbmQoJy5qcy1jYXJ0LXRvdGFsJykudGV4dCggKF90b3RhbCA+IDkgPyAnOSsnIDogX3RvdGFsKSApLFxyXG4gICAgICAgICAgICAhX3RvdGFsXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWwudG9nZ2xlQ2xhc3MoJ2hhcy1wY2QnLCBkaW9yVjcuQ2FydE1vZHVsZS50b3RhbEZvcignUENEJykgPiAwKTtcclxuICAgICAgICB0aGlzLiRlbC50b2dnbGVDbGFzcygnaGFzLWNkYycsIGRpb3JWNy5DYXJ0TW9kdWxlLnRvdGFsRm9yKCdDREMnKSA+IDApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRFcnJvciggZGF0YSApIHtcclxuICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnaGFzLWVycm9yJyk7XHJcbiAgICAgICAgaWYgKGRhdGEubWVzc2FnZSkgdGhpcy4kZWwuZmluZCgnLmpzLXJvbGwtZXJyb3InKS50ZXh0KCBkYXRhLm1lc3NhZ2UgKTtcclxuXHJcbiAgICAgICAgZGlvclY3LkhlYWRlci5yb2xscy5vbkVycm9yKCBkYXRhICk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyBleHBvc2Ugc3RhdGljIG1ldGhvZHNcclxud2luZG93LmRpb3JWNy5DYXJ0ID0gQ2FydDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcnQ7IiwiaW1wb3J0IFJvbGwgZnJvbSAnLi9Sb2xsLmpzJztcblxuY2xhc3MgRXJyb3JSb2xsIGV4dGVuZHMgUm9sbCB7XG5cblx0b3BlbigpIHtcblx0XHRzdXBlci5vcGVuKCk7XG5cblx0XHR0aGlzLnRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuXHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdH0sIDQwMDApO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEVycm9yUm9sbDsiLCJpbXBvcnQgRGlzcGF0Y2hlciBmcm9tICcuLy4uLy4uLy4uLy4uL21vZHVsZXMvRGlzcGF0Y2hlci5qcyc7XHJcblxyXG5jbGFzcyBSb2xsIHtcclxuICAgIGNvbnN0cnVjdG9yKCRlbCkge1xyXG4gICAgICAgIHRoaXMuJGVsID0gJGVsO1xyXG4gICAgICAgIHRoaXMuJHBhcmVudCA9IHRoaXMuJGVsLnBhcmVudCgnbGk6Zmlyc3QnKTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcigpO1xyXG4gICAgICAgIHRoaXMuYXV0b2Nsb3NlID0gIXRoaXMuJGVsLmF0dHIoJ2RhdGEtYXV0by1jbG9zZScpIHx8IHRoaXMuJGVsLmF0dHIoJ2RhdGEtYXV0by1jbG9zZScpICYmIHRoaXMuJGVsLmF0dHIoJ2RhdGEtYXV0by1jbG9zZScpID09PSAndHJ1ZSc7XHJcbiAgICAgICAgdGhpcy5jbG9zZURlbGF5ID0gMTAwMDtcclxuXHJcbiAgICAgICAgdGhpcy5fY2xvc2UgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiggIXRoaXMuJGVsLmlzKGUudGFyZ2V0KSAmJiAhdGhpcy4kZWwuaGFzKGUudGFyZ2V0KS5sZW5ndGggKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuX2FkZExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIF9hZGRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgaWYoIWRpb3JWNy5oZWxwZXJzLmlzVGFjdGlsZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHBhcmVudC5ob3ZlckludGVudCh7XHJcbiAgICAgICAgICAgICAgICBvdmVyOiB0aGlzLm9wZW4uYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIG91dDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dG9jbG9zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbG9zZURlbGF5KSB0aGlzLmNsb3NlRGVsYXlUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLmNsb3NlLmJpbmQodGhpcyksIHRoaXMuY2xvc2VEZWxheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy4kcGFyZW50LmNoaWxkcmVuKCdhJykub24oJ2NsaWNrJywgdGhpcy50b2dnbGUuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFEQSBrZXlwcmVzcyBuYXYgXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykge1xyXG4gICAgICAgICAgICAgICBkaW9yVjcuSGVhZGVyLnJvbGxzLmNsb3NlQWxsKCk7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDkgJiYgISQoZS50YXJnZXQpLnBhcmVudHMoJy5qcy1yb2xsLWNvbnRhaW5lcicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZGlvclY3LkhlYWRlci5yb2xscy5jbG9zZUFsbCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuJHBhcmVudFxyXG4gICAgICAgIC5mb2N1c2luKHRoaXMub3Blbi5iaW5kKHRoaXMpKVxyXG4gICAgICAgIC5mb2N1c291dCggKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dG9jbG9zZSAmJiAhJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudHModGhpcy4kZWwpLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZSgpIHtcclxuICAgICAgICBpZiAodGhpcy4kcGFyZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIGVsc2UgdGhpcy5vcGVuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihjYikge1xyXG4gICAgICAgIGlmICh0aGlzLmNsb3NlRGVsYXlUaW1lb3V0KSBjbGVhclRpbWVvdXQodGhpcy5jbG9zZURlbGF5VGltZW91dCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLiRwYXJlbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIGRpb3JWNy5IZWFkZXIucm9sbHMuY2xvc2VBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy4kcGFyZW50LmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy4kcGFyZW50LmZpbmQoJ2J1dHRvbicpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KHRoaXMuJGVsKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ3Nob3cnLCB0aGlzKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykgY2IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0VGltZW91dCggKCkgPT4geyAkKGRvY3VtZW50KS5vbmUoJ2NsaWNrJywgdGhpcy5fY2xvc2UpOyB9LCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLiRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIHRoaXMuJHBhcmVudC5maW5kKCdidXR0b24nKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xyXG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSh0aGlzLiRlbCk7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2hpZGUnLCB0aGlzKTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vZmYoJ2NsaWNrICcsIHRoaXMuX2Nsb3NlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUm9sbDsiLCJpbXBvcnQgUm9sbCBmcm9tICcuL1JvbGwuanMnO1xuaW1wb3J0IHRwbCBmcm9tICcuLi8uLi8uLi90ZW1wbGF0ZXMuanMnO1xuXG5jbGFzcyBXaXNobGlzdCBleHRlbmRzIFJvbGwge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCQoJy5qcy13aXNobGlzdC1yb2xsJykpO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saW1pdCA9IGRpb3JWNy5jb25maWcuV0lTSExJU1RfTElNSVQ7XG4gICAgICAgIHRoaXMuY2xvc2VUaW1lb3V0ID0gMjAwMDtcblxuICAgICAgICBpZiAoIGRpb3JWNy5BY2NvdW50LmNvbm5lY3RlZCApIHtcbiAgICAgICAgICAgIGRpb3JWNy5XaXNoTGlzdE1vZHVsZS5vbignY29tcGxldGUnLCAgIHRoaXMucmVuZGVyLmJpbmQodGhpcykgKTtcbiAgICAgICAgICAgIGRpb3JWNy5XaXNoTGlzdE1vZHVsZS5vbignZXJyb3InLCAgICAgIHRoaXMuc2V0RXJyb3IuYmluZCh0aGlzKSApO1xuICAgICAgICAgICAgZGlvclY3Lldpc2hMaXN0TW9kdWxlLm9uKCdhZGRlZCcsICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5jbG9zZSgpLCB0aGlzLmNsb3NlVGltZW91dCk7XG4gICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICBkaW9yVjcuV2lzaExpc3RNb2R1bGUub24oJ3JlbW92ZWQnLCAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgY29va2llIHRvIGJlIHVwZGF0ZWRcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVG90YWwoIGRpb3JWNy5XaXNoTGlzdE1vZHVsZS50b3RhbCApO1xuICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLm9uKCdzaG93JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkaW9yVjcuQWNjb3VudC5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsZWFyOiBhc3N1bWUgd2UgaGF2ZSBpdGVtcywgYW5kIGRpc3BsYXkgbG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuYWRkQ2xhc3MoJ2lzLWNvbm5lY3RlZCBsb2FkaW5nIGhhcy1pdGVtcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKCcuanMtd2lzaGxpc3QtcHJvZHVjdHMnKS5lbXB0eSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkaW9yVjcuV2lzaExpc3RNb2R1bGUuZ2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVUb3RhbCggZGlvclY3Lldpc2hMaXN0TW9kdWxlLnRvdGFsICk7XG5cbiAgICAgICAgICAgIC8vIGlzIHRoZSBXUyB3aXNobGlzdCBhbHJlYWR5IGRvbmUgKGFjdHVhbGx5IHZlcnkgcmFyZSBjYXNlLCBvbmx5IGhlIHN0YWdpbmcgcG9zc2libGUgaXNzdWUpXG4gICAgICAgICAgICBpZiAoZGlvclY3LmRhdGEuYWNjb3VudCAmJiBkaW9yVjcuZGF0YS5hY2NvdW50Lndpc2hsaXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoIGRpb3JWNy5kYXRhLmFjY291bnQud2lzaGxpc3QgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KCB0aGlzLiRlbC5maW5kKCcud2lzaGxpc3QtcHJvZHVjdHMnKSApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5oaWRlKCB0aGlzLiRwYXJlbnQuZmluZCgnLmpzLXdpc2hsaXN0LXRvdGFsJykgKTtcbiAgICAgICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuc2hvdyggdGhpcy4kZWwuZmluZCgnLndpc2hsaXN0LXNpZ25pbicpICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBzdXBlci5jbG9zZSgpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICB9XG5cbiAgICByZW5kZXIoIGRhdGEgKSB7XG4gICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKCdsb2FkaW5nJyk7XG5cbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnaGFzLWl0ZW1zJyk7XG4gICAgICAgICAgICAvLyBvbmx5IDUgaXRlbXMgbWF4IChzZWN1cml0eTogdGhlIFdTIHNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIGxpbWl0IGluIHBhcmFtKVxuICAgICAgICAgICAgbGV0IF9pdGVtcyA9IGRhdGEuc2xpY2UoMCwgTWF0aC5taW4oNSwgZGF0YS5sZW5ndGgpKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5qcy13aXNobGlzdC1wcm9kdWN0cycpLmh0bWwoIHRwbC53aXNobGlzdChfaXRlbXMpICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnaGFzLWl0ZW1zJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5qcy13aXNobGlzdC1wcm9kdWN0cycpLmVtcHR5KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYXliZSB0aGUgV1MgaXMgY2FsbGVkIHdpdGggYSBsaW1pdCBwYXJhbVxuICAgICAgICAvLyAtPiBjaGVjayBjb29raWVzIGZvciBhY2N1cmF0ZSBsZW5ndGhcbiAgICAgICAgdGhpcy51cGRhdGVUb3RhbCggd2luZG93LmRpb3JWNy5XaXNoTGlzdE1vZHVsZS50b3RhbCApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd2lzaGxpc3QgdG90YWwgJ2J1bGxldCcgYW5kIGRpc3BsYXlzIGl0IGlmIG1vcmUgdGhhbiAwXG4gICAgICogQHBhcmFtIHRvdGFsIHtpbnR9XG4gICAgICovXG4gICAgdXBkYXRlVG90YWwoIHRvdGFsICkge1xuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnRvZ2dsZUhpZGRlbihcbiAgICAgICAgICAgIHRoaXMuJHBhcmVudC5maW5kKCcuanMtd2lzaGxpc3QtdG90YWwnKS50ZXh0KCAodG90YWwgPiA5ID8gJzkrJyA6IHRvdGFsKSApLFxuICAgICAgICAgICAgIXRvdGFsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc2V0RXJyb3IoZGF0YSkge1xuICAgICAgICB0aGlzLiRlbC5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnaGFzLWVycm9yJyk7XG4gICAgICAgIGlmIChkYXRhLm1lc3NhZ2UpIHRoaXMuJGVsLmZpbmQoJy5qcy1yb2xsLWVycm9yJykudGV4dChkYXRhLm1lc3NhZ2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2lzaGxpc3Q7IiwiY2xhc3MgVG9wTGF5ZXIge1xyXG5cclxuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcclxuXHRpc09wZW5lZCA9IGZhbHNlO1xyXG5cdG9uQ2xpY2tDbG9zZSA9IGZhbHNlO1xyXG5cclxuXHRhdXRvT3BlbiA9IHVuZGVmaW5lZDtcclxuXHQvLyBzdG9yZSB3aGljaCB0b3BMYXllciB0byByZW9wZW4sIG9yIGZhbHNlIGlmIG5vdGhpbmcgdG8gb3BlbiBvbiBzY3JvbGwgdG9wXHJcblx0YXV0b1JlT3BlbiA9IGZhbHNlO1xyXG5cclxuXHR0aW1lc09wZW5lZCA9IDA7XHJcblx0bWF4VGltZXNPcGVuID0gMjtcclxuXHRleHBpcmF0aW9uID0gMTtcclxuXHJcblx0dGltZXIgPSAgICAgIG51bGw7XHJcblx0bGlua0FycmF5ID0gIHt9O1xyXG5cclxuXHQvLyBvbmx5IG9uZSBsaW5lIG9mIHRleHQsIHNvIGhlaWdodCBpcyBjb25zdGFudFxyXG5cdGhlaWdodCA9IFwiMi41cmVtXCI7XHJcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxyXG5cdFxyXG5cdGNvbnN0cnVjdG9yKCAkZWwgKSB7XHJcblx0XHRcdFxyXG5cdFx0dGhpcy4kZWwgPSAkZWw7XHJcblx0XHRcclxuXHRcdHRoaXMubW9kZSA9ICdpbml0JztcclxuXHRcdHRoaXMuYXV0b1JlT3BlbiA9IHRoaXMuJGVsO1xyXG5cclxuXHRcdC8vIFJFQUQgUEFSQU1TXHJcblx0XHR0aGlzLmF1dG9PcGVuID0gdGhpcy4kZWwuZGF0YSgnYXV0by1vcGVuJyk7XHJcblxyXG5cdFx0aWYgKHRoaXMuYXV0b09wZW4pIHtcclxuXHRcdFx0dGhpcy5tYXhUaW1lc09wZW4gPSB0aGlzLiRlbC5kYXRhKCdjYXBwaW5nJyk7XHJcblx0XHRcdC8vIERFRkFVTFQ6IDEgb3BlbiBldmVyeSAxNSBkYXlzXHJcblx0XHRcdGlmICghdGhpcy5tYXhUaW1lc09wZW4pIHtcclxuXHRcdFx0XHR0aGlzLm1heFRpbWVzT3BlbiA9IDE7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxldCBjb29raWVPcHRpb25zID0gKHdpbmRvdy5Db29raWVzID8gICQuZXh0ZW5kKHt9LCBDb29raWVzLmRlZmF1bHRzKSA6IHt9KTtcclxuXHJcblx0XHRcdHRoaXMuZXhwaXJhdGlvbiA9IHBhcnNlSW50KCB0aGlzLiRlbC5kYXRhKCdjb29raWUtZXhwaXJhdGlvbicpICk7XHJcblx0XHRcdGlmICh0aGlzLmV4cGlyYXRpb24gJiYgdGhpcy5leHBpcmF0aW9uID4gMCkge1xyXG5cdFx0XHRcdGNvb2tpZU9wdGlvbnMuZXhwaXJlcyA9IHRoaXMuZXhwaXJhdGlvbjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy50aW1lc09wZW5lZCA9IENvb2tpZXMuZ2V0KCdhZHZhbnRhZ2VzX29wZW5lZCcpO1xyXG5cdFx0XHQvLyBmaXJzdCB0aW1lIHdlIGdvIHRvIGRpb3IuY29tP1xyXG5cdFx0XHRpZiAoIXRoaXMudGltZXNPcGVuZWQgfHwgdGhpcy50aW1lc09wZW5lZCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0dGhpcy50aW1lc09wZW5lZCA9IDA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0aGlzLnRpbWVzT3BlbmVkIDwgdGhpcy5tYXhUaW1lc09wZW4pIHtcclxuXHRcdFx0XHR0aGlzLmF1dG9PcGVuID0gdHJ1ZTtcclxuXHRcdFx0XHQvL0lFOSB3YXJuaW5nOiAkLmV4dGVuZHMgY3JlYXRlIGFuIGludmFsaWQgb2JqZWN0IGZvciBjb29raWVcclxuXHRcdFx0XHRDb29raWVzLnNldCggJ2FkdmFudGFnZXNfb3BlbmVkJywgKyt0aGlzLnRpbWVzT3BlbmVkLCBjb29raWVPcHRpb25zICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5hdXRvT3BlbiA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuYXV0b1JlT3BlbiA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyogRklSU1QgVElNRSBPUEVOICovXHJcblx0XHRpZiAodGhpcy5hdXRvT3BlbikgdGhpcy5vcGVuKCk7XHJcblxyXG5cdFx0dGhpcy4kZWwub24oJ21vdXNlb3ZlcicsICgpID0+IHtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLnRpbWVyICk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLiRlbC5maW5kKCcuanMtdG9wLWxheWVyLWNsb3NlJykub24oJ2NsaWNrIHRvdWNoJywgKGUpID0+IHtcclxuXHRcdFx0dGhpcy5vbkNsaWNrQ2xvc2UgPSB0cnVlO1xyXG5cdFx0XHRsZXQgY29va2llT3B0aW9ucztcclxuXHRcdFx0aWYgKGRpb3JWNykge1xyXG4gICAgICAgICAgICAgICAgY29va2llT3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkaW9yVjcuY29va2llT3B0aW9ucyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb29raWVPcHRpb25zID0ge307XHJcblx0XHRcdH1cclxuXHRcdFx0Q29va2llcy5zZXQoICdhZHZhbnRhZ2VzX29wZW5lZCcsIHRoaXMubWF4VGltZXNPcGVuLCBjb29raWVPcHRpb25zICk7XHJcblx0XHRcdHRoaXMuY2xvc2UoZSk7XHRcdFx0XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8vIGNvdWxkIGJlIGEgc2lnbmFsIGxpc3RlbmVyIFxyXG5cdG9uU2Nyb2xsKCBlLCB0b3AgKSB7XHJcblx0XHRsZXQgX3Njcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHRcdGlmKF9zY3JvbGxUb3AgPT09IDAgJiYgdGhpcy5hdXRvUmVPcGVuKSB7XHJcblx0XHRcdHRoaXMub3BlbigpO1xyXG5cdFx0fSBlbHNlIGlmICh0aGlzLmlzT3BlbmVkKSB7XHJcblx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0b3BlbigpIHtcclxuXHRcdGlmICh0aGlzLmlzT3BlbmVkKSByZXR1cm47XHJcblx0XHRpZiAodGhpcy5vbkNsaWNrQ2xvc2UgPT09IHRydWUpIHJldHVybjtcclxuXHRcdC8vIGF1dG9SZU9wZW4gY291bGQgYmUgYSBib29sZWFuIG9yIGEgalF1ZXJ5IGVsZW1lbnRcclxuXHRcdGlmICghdGhpcy5hdXRvUmVPcGVuKSByZXR1cm47XHJcblxyXG5cdFx0dGhpcy5pc09wZW5lZCA9IHRydWU7XHJcblxyXG5cdFx0aWYgKE1vZGVybml6ci5jc3N0cmFuc2l0aW9ucykge1xyXG5cdFx0XHR0aGlzLiRlbC5vZmYoZGlvclY3LmhlbHBlcnMudHJhbnNpdGlvbkVuZCgpKS5vbihkaW9yVjcuaGVscGVycy50cmFuc2l0aW9uRW5kKCksIHRoaXMub25PcGVuZWQuYmluZCh0aGlzKSApO1xyXG5cdFx0XHRpZiAodGhpcy50aW1lc09wZW5lZCA8IHRoaXMubWF4VGltZXNPcGVuICYmIHRoaXMuaXNPcGVuZWQgPT09IHRydWUpIHtcclxuXHRcdFx0XHR0aGlzLiRlbC5hZGRDbGFzcygnb3BlbicpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLiRlbC5zdG9wKCkuY3NzKHtoZWlnaHQ6IHRoaXMuaGVpZ2h0fSk7XHJcblx0XHRcdHRoaXMub25PcGVuZWQuYmluZCh0aGlzKTtcclxuXHRcdH1cclxuXHJcblx0XHQkKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKCd0b3BsYXllci0tb3BlbmVkJyk7XHJcblx0fVxyXG5cclxuXHRvbk9wZW5lZCgpIHtcclxuICAgICAgICBpZiAoZGlvclY3ICYmIGRpb3JWNy5kaXNwYXRjaGVyKSB7XHJcbiAgICAgICAgICAgIGRpb3JWNy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2hlYWRlcjo6dG9wTGF5ZXJPcGVuaW5nJywgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuXHR9XHJcblxyXG5cdGNsb3NlKGUpIHtcclxuXHRcdGlmIChlKSB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dGhpcy5hdXRvUmVPcGVuID0gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRpZiAoIXRoaXMuaXNPcGVuZWQpIHJldHVybjtcclxuXHJcblx0XHR0aGlzLmlzT3BlbmVkICA9IGZhbHNlO1xyXG5cclxuXHRcdGlmIChNb2Rlcm5penIuY3NzdHJhbnNpdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWwub2ZmKGRpb3JWNy5oZWxwZXJzLnRyYW5zaXRpb25FbmQoKSkub24oZGlvclY3LmhlbHBlcnMudHJhbnNpdGlvbkVuZCgpLCB0aGlzLm9uQ2xvc2VkLmJpbmQodGhpcykgKTtcclxuICAgICAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgICAgdGhpcy4kZWwuY3NzKHsnZGlzcGxheSc6ICdub25lJ30pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy4kZWwuYW5pbWF0ZSh7aGVpZ2h0OiAwfSwgJ3Nsb3cnKTtcclxuXHRcdFx0dGhpcy4kZWwuc3RvcCgpLmFuaW1hdGUoe2hlaWdodDogMH0sICdzbG93JywgdGhpcy5vbkNsb3NlZC5iaW5kKHRoaXMpICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdCQoZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3MoJ3RvcGxheWVyLS1vcGVuZWQnKTtcclxuXHR9XHJcblxyXG5cdG9uQ2xvc2VkKCkge1xyXG4gICAgICAgIGlmIChkaW9yVjcgJiYgZGlvclY3LmRpc3BhdGNoZXIpIHtcclxuICAgICAgICAgICAgZGlvclY3LmRpc3BhdGNoZXIudHJpZ2dlcignaGVhZGVyOjp0b3BMYXllckNsb3NlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLiRlbC5jc3MoeydkaXNwbGF5JzogJ25vbmUnfSk7XHJcbiAgICAgICAgLy9tb2R1bGVzLmhlYWRlci5yb2xscy5wb3NpdGlvblJvbGxzVG9wKCk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUb3BMYXllcjsiLCIvKipcclxuICogTmVlZCBiYWJlbCBwcmVzZXQgc3RhZ2UtMiB0byBiZSBhYmxlIHRvIGRlY2xhcmUgY2xhc3MgcHJvcGVydGllc1xyXG4gKi9cclxuaW1wb3J0IGVxdWFsSGVpZ2h0IGZyb20gJy4uLy4uLy4uL21vZHVsZXMvZXF1YWxIZWlnaHQuanMnO1xyXG5cclxuXHJcbmNsYXNzIFRvcE1lbnUge1xyXG5cclxuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcclxuXHRjdXJyZW50ID0gICAgICAgICAgIFx0bnVsbDtcclxuXHRhY3RpdmVNZW51ID0gICAgICAgIFx0JChcIi5qcy1oZWFkZXItc3VibmF2IC5qcy10b3BtZW51LXRyaWdnZXIuYWN0aXZlXCIpO1xyXG5cdGRlZmF1bHRBY3RpdmVJbmRleCA9IFx0MDtcclxuXHRpc09wZW5lZCA9ICAgICAgICAgICBcdGZhbHNlO1xyXG5cdCRjb250YWluZXIgPSAgICAgICAgIFx0bnVsbDtcclxuXHRvdmVybGF5ID0gICAgICAgICAgICBcdG51bGw7XHJcblxyXG5cdG1vdXNlVGltZXIgPSAgICAgICAgIFx0bnVsbDtcclxuXHR0aW1lT3V0ID0gICAgICAgICAgICBcdDM1MDtcclxuXHJcblx0dGl0bGVUaW1lT3V0ID0gICAgICAgXHRudWxsO1xyXG5cclxuXHRuZWVkU2Nyb2xsID0gICAgICAgICBcdGZhbHNlO1xyXG5cdGhlaWdodFRvU2Nyb2xsID0gICAgIFx0MDtcclxuICAgIC8vIGpzaGludCBpZ25vcmU6ZW5kXHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cclxuXHJcblx0ICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoJy5qcy1oZWFkZXItdG9wbWVudScpO1xyXG5cdCAgICB0aGlzLmFjdGl2ZU1lbnUgPSAkKFwiLmpzLWhlYWRlci1zdWJuYXYgLmpzLXRvcG1lbnUtdHJpZ2dlci5hY3RpdmVcIik7XHJcbiAgICAgIFx0dGhpcy4kb3ZlcmxheSA9ICQoJyNwYWdlLW92ZXJsYXknKTtcclxuXHJcblx0XHRpZiAodGhpcy4kY29udGFpbmVyLmZpbmQoXCIuanMtbmF2LWNvbnRlbnRcIikubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy4kY29udGFpbmVyLmZpbmQoXCIuanMtbmF2LWNvbnRlbnQ6Zmlyc3RcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWRpb3JWNy5oZWxwZXJzLmlzVGFjdGlsZSgpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgJCgnLmpzLWhlYWRlci1zdWJuYXYgLmpzLXRvcG1lbnUtdHJpZ2dlcltkYXRhLXRhcmdldHRvcG1lbnVdLCAuanMtaGVhZGVyLXN0aWNreSAuanMtdG9wbWVudS10cmlnZ2VyW2RhdGEtdGFyZ2V0dG9wbWVudV0sIC5uYXYtY29udGVudCcpLm9uKFwibW91c2VvdmVyXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VUb1N0aWNreSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5tb3VzZVRpbWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdXNlVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLmNoZWNrTW91c2VPdmVyLmJpbmQodGhpcywgZSksIHRoaXMudGltZU91dCk7XHJcbiAgICAgICAgICAgICAgICB9KS5vbihcIm1vdXNlbGVhdmVcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubW91c2VUaW1lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5jbG9zZS5iaW5kKHRoaXMsIGUpLCB0aGlzLnRpbWVPdXQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbGlua3Mgd2l0aCBubyByb2xsc1xyXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ21vdXNlb3ZlcicsICcuanMtaGVhZGVyLXN1Ym5hdiAuanMtdG9wbWVudS10cmlnZ2VyOm5vdChbZGF0YS10YXJnZXR0b3BtZW51XSksIC5qcy1oZWFkZXItc3RpY2t5IC5qcy10b3BtZW51LXRyaWdnZXI6bm90KFtkYXRhLXRhcmdldHRvcG1lbnVdKScsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5tb3VzZVRpbWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdXNlVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLmNsb3NlLmJpbmQodGhpcyksIHRoaXMudGltZU91dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtaGVhZGVyLXN1Ym5hdiAuanMtdG9wbWVudS10cmlnZ2VyW2RhdGEtdGFyZ2V0dG9wbWVudV0sIC5qcy1oZWFkZXItc3RpY2t5IC5qcy10b3BtZW51LXRyaWdnZXJbZGF0YS10YXJnZXR0b3BtZW51XScsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzT3BlbmVkIHx8ICh0aGlzLmlzT3BlbmVkICYmIHRoaXMuY3VycmVudC5hdHRyKCdpZCcpICE9ICQodGhpcykuZGF0YSgndGFyZ2V0dG9wbWVudScpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCAkbGluayA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aW1lck92ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3VzZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1RvcExheWVyID0gJCgnIycgKyAkbGluay5kYXRhKCd0YXJnZXR0b3BtZW51JykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGUobmV3VG9wTGF5ZXIsICRsaW5rKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdCB0aGUgb3BlbmVkIG5hdiBzdWJtZW51XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdWJNZW51ID0gJyMnICsgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldHRvcG1lbnUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChjdXJyZW50U3ViTWVudSkuZmluZCgnYScpLmZpcnN0KCkuZm9jdXMoKTsgLy9mb2N1cyB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc3VibWVudVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbigna2V5ZG93bicsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50TWVudSA9ICQodGhpcy5jdXJyZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc09wZW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIGNsb3NlIHRoZSBzdWJtZW51IG9uIGVzYyBhbmQgcmVzZXQgdGhlIGZvY3VzIG9uIHRoZSBtZW51ICovXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNjYXBlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmpzLXN1Ym5hdi1pdGVtc1wiKS5maW5kKCcuanMtdG9wbWVudS10cmlnZ2VyW2RhdGEtdGFyZ2V0dG9wbWVudT0nICsgY3VycmVudE1lbnUuYXR0cignaWQnKSArICddJykuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLyogR28gVG8gbmV4dCBtZW51IGl0ZW0gYWZ0ZXIgbGFzdCBzdWJtZW51IGl0ZW0gb24gdGFiKi9cclxuICAgICAgICAgICAgICAgICAgICAvLyB0YWJcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9jdXNlZEVsZW1lbnQgPSAkKCc6Zm9jdXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNZW51Q3VycmVudCA9ICQoY3VycmVudE1lbnUpLmhhcyhmb2N1c2VkRWxlbWVudCkubGVuZ3RoID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc01lbnVDdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmpzLXN1Ym5hdi1pdGVtc1wiKS5maW5kKCcuanMtdG9wbWVudS10cmlnZ2VyW2RhdGEtdGFyZ2V0dG9wbWVudT0nKyBjdXJyZW50TWVudS5hdHRyKCdpZCcpICsnXScpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHRcdFx0LyogR28gVG8gbmV4dCBtZW51IGl0ZW0gYWZ0ZXIgbGFzdCBzdWJtZW51IGl0ZW0gb24gdGFiKi9cclxuXHRcdFx0JChkb2N1bWVudCkub24oJ2tleWRvd24nLCAoZSkgPT4ge1xyXG5cdFx0XHRcdGlmICh0aGlzLmlzT3BlbmVkKXtcclxuXHRcdFx0XHQgIFx0Y29uc3QgY3VycmVudE1lbnUgPSAkKHRoaXMuY3VycmVudCk7XHJcblx0XHRcdFx0ICBcdGlmIChlLmtleUNvZGUgPT09IDkpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZm9jdXNlZEVsZW1lbnQgPSAkKCc6Zm9jdXMnKTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgaXNNZW51Q3VycmVudCA9ICQoY3VycmVudE1lbnUpLmhhcyhmb2N1c2VkRWxlbWVudCkubGVuZ3RoID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCFpc01lbnVDdXJyZW50KSB7XHJcblx0XHRcdFx0XHQgIFx0XHR0aGlzLmNsb3NlKCk7XHJcblx0XHRcdFx0XHQgIFx0XHQkKFwiLmpzLXN1Ym5hdi1pdGVtc1wiKS5maW5kKCcuanMtdG9wbWVudS10cmlnZ2VyW2RhdGEtdGFyZ2V0dG9wbWVudT0nKyBjdXJyZW50TWVudS5hdHRyKCdpZCcpICsnXScpLmZvY3VzKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHQgIFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBjbGljayBvdXRzaWRlXHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZighJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzLWhlYWRlci1zdWJuYXYnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICBkaW9yVjcuZGlzcGF0Y2hlci5vbignc3VibmF2Ojpmb2xkJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpICk7XHJcblxyXG5cdFx0XHQvLyBSZWdpc3RlciBkZWZhdWx0IGFjdGl2ZSB0b3BtZW51IGxpXHJcblx0XHRcdHRoaXMuZGVmYXVsdEFjdGl2ZUluZGV4ID0gJChcIi5qcy1oZWFkZXItc3VibmF2IGxpLmFjdGl2ZVwiKS5pbmRleCgpO1xyXG5cclxuXHRcdFx0LyogTUVESUFTIFJPTEwgKi9cclxuXHRcdFx0JChkb2N1bWVudCkub24oJ21vdXNlb3ZlcicsICcuanMtbWVkaWFzLXJvbGwgYScsIChlKSA9PiB7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdGxldCBfJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcblx0XHRcdFx0bGV0IHNyYyA9IF8kdGhpcy5hdHRyKCdkYXRhLWltZycpO1xyXG4gICAgICAgICAgICAgICAgXyR0aGlzLnBhcmVudHMoJy5qcy1tZWRpYXMtcm9sbCcpLmZpbmQoJ2ltZzpmaXJzdCcpLmF0dHIoJ3NyYycsIHNyYyk7XHJcblxyXG5cdFx0XHRcdGlmIChfJHRoaXMuZGF0YSgncGxheWVyJykpIF8kdGhpcy5wYXJlbnRzKCcuanMtbWVkaWFzLXJvbGwnKS5maW5kKCcucGljdG8tcGxheScpLnNob3coKTtcclxuXHRcdFx0XHRlbHNlIF8kdGhpcy5wYXJlbnRzKCcuanMtbWVkaWFzLXJvbGwnKS5maW5kKCcucGljdG8tcGxheScpLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkKGRvY3VtZW50KS5vbignbW91c2VsZWF2ZScsICcuanMtbWVkaWFzLXJvbGwnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IF8kdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuXHRcdFx0XHRsZXQgc3JjID0gXyR0aGlzLmZpbmQoJ2ltZzpmaXJzdCcpLnBhcmVudCgpLmRhdGEoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgXyR0aGlzLmZpbmQoJ2ltZzpmaXJzdCcpLmF0dHIoJ3NyYycsIHNyYyk7XHJcblxyXG5cdFx0XHRcdGxldCBfcGxheWVyID0gXyR0aGlzLmZpbmQoJ2ltZzpmaXJzdCcpLnBhcmVudCgpLmRhdGEoJ3BsYXllcicpO1xyXG5cdFx0XHRcdGlmIChfcGxheWVyKSBfJHRoaXMuZmluZCgnLnBpY3RvLXBsYXknKS5zaG93KCk7XHJcblx0XHRcdFx0ZWxzZSBfJHRoaXMuZmluZCgnLnBpY3RvLXBsYXknKS5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JChkb2N1bWVudCkuZmluZCgnLmpzLW1lZGlhcy1yb2xsJykudHJpZ2dlcignbW91c2VsZWF2ZScpO1xyXG5cclxuXHRcdFx0LyogTWVkaWEgUm9sbCBNdWx0aSBjb2x1bW4gKi9cclxuXHRcdFx0JChkb2N1bWVudCkub24oJ21vdXNlb3ZlcicsICcuanMtbmF2LWNvbnRlbnQgKltkYXRhLXRhcmdldGNvbHVtbl0gYScsIChlKSA9PiB7XHJcblx0XHRcdFx0bGV0ICRsaW5rID0gJChlLmN1cnJlbnRUYXJnZXQpLFxyXG5cdFx0XHRcdFx0dGFyZ2V0ID0gJGxpbmsucGFyZW50cygnKltkYXRhLXRhcmdldGNvbHVtbl0nKS5hdHRyKCdkYXRhLXRhcmdldGNvbHVtbicpO1xyXG5cclxuXHRcdFx0XHRpZiAoJGxpbmsuYXR0cignZGF0YS1pbWcnKSAmJiAkKCcjJyt0YXJnZXQpLmxlbmd0aCA+IDAgKSB7XHJcblx0XHRcdFx0XHQvLyBVcGRhdGUgSW1hZ2Ugc3JjXHJcblx0XHRcdFx0XHRsZXQgJHRhcmdldCA9ICQoJyMnK3RhcmdldCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gdXBkYXRlIHdpdGggY3VycmVudFxyXG5cdFx0XHRcdFx0JHRhcmdldC5maW5kKCdpbWc6Zmlyc3QnKS5hdHRyKCdzcmMnLCAkbGluay5kYXRhKCdpbWcnKSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCRsaW5rLmRhdGEoJ3BsYXllcicpKSAkdGFyZ2V0LmZpbmQoJy5waWN0by1wbGF5Jykuc2hvdygpO1xyXG5cdFx0XHRcdFx0ZWxzZSAkdGFyZ2V0LmZpbmQoJy5waWN0by1wbGF5JykuaGlkZSgpO1xyXG5cclxuXHRcdFx0XHRcdC8vIFNob3cgLyBIaWRlIEF2YWlsaWJpbGl0eVxyXG5cdFx0XHRcdFx0aWYgKCR0YXJnZXQuZmluZCgnLmpzLXRvcG1lbnUtYXZhaWxpYmlsaXR5JykubGVuZ3RoID4gMCAmJiAkbGluay5hdHRyKCdkYXRhLWF2YWlsaWJpbGl0eScpKSB7XHJcblx0XHRcdFx0XHRcdGlmICgkbGluay5hdHRyKCdkYXRhLWF2YWlsaWJpbGl0eScpID09IFwidHJ1ZVwiKSB7XHJcblx0XHRcdFx0XHRcdFx0JHRhcmdldC5maW5kKCcuanMtdG9wbWVudS1hdmFpbGliaWxpdHknKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0JHRhcmdldC5maW5kKCcuanMtdG9wbWVudS1hdmFpbGliaWxpdHknKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JChkb2N1bWVudCkub24oJ21vdXNlbGVhdmUnLCAnLmpzLWhlYWRlciAqW2RhdGEtdGFyZ2V0Y29sdW1uXScsIChlKSA9PiB7XHJcblx0XHRcdFx0bGV0IHRhcmdldCAgPSAkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS10YXJnZXRjb2x1bW4nKSxcclxuXHRcdFx0XHRcdCR0YXJnZXQgPSAkKCcjJyt0YXJnZXQpLFxyXG5cdFx0XHRcdFx0JGltZyAgICA9ICR0YXJnZXQuZmluZCgnaW1nOmZpcnN0Jyk7XHJcblxyXG5cdFx0XHRcdC8vIHJlc2V0IHNyY1xyXG5cdFx0XHRcdCRpbWcuYXR0cignc3JjJywgJGltZy5wYXJlbnQoKS5kYXRhKCdpbWcnKSk7XHJcblx0XHRcdFx0aWYgKCRpbWcucGFyZW50KCkuZGF0YSgncGxheWVyJykpIHtcclxuXHRcdFx0XHRcdCR0YXJnZXQuZmluZCgnLnBpY3RvLXBsYXknKS5zaG93KCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCR0YXJnZXQuZmluZCgnLnBpY3RvLXBsYXknKS5oaWRlKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyByZXNldCBhdmFpbGliaWxpdHlcclxuXHRcdFx0XHRpZiAoJGltZy5hdHRyKCdkYXRhLWF2YWlsaWJpbGl0eScpID09IFwidHJ1ZVwiKSB7XHJcblx0XHRcdFx0XHQkdGFyZ2V0LmZpbmQoJy5qcy10b3BtZW51LWF2YWlsaWJpbGl0eScpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQkdGFyZ2V0LmZpbmQoJy5qcy10b3BtZW51LWF2YWlsaWJpbGl0eScpLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JChkb2N1bWVudCkuZmluZCgnLmpzLWhlYWRlciAqW2RhdGEtdGFyZ2V0Y29sdW1uXScpLnRyaWdnZXIoJ21vdXNlbGVhdmUnKTtcclxuXHRcdH1cclxuXHJcblx0XHQkKHdpbmRvdykucmVzaXplKCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcykgKTtcclxuICAgICAgICB0aGlzLm9uUmVzaXplKCk7XHJcblx0fVxyXG5cclxuICAgIGNoZWNrTW91c2VPdmVyKGUpIHtcclxuICAgICAgICBsZXQgJGVsID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG5cclxuICAgICAgICBsZXQgbmV3dGhpcyA9IG51bGwsXHJcbiAgICAgICAgICAgIGFjdGl2ZSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmKCAkZWwuZGF0YSgndGFyZ2V0dG9wbWVudScpKSB7XHJcbiAgICAgICAgICAgIG5ld3RoaXMgPSAkKCcjJyArICRlbC5kYXRhKCd0YXJnZXR0b3BtZW51JykpO1xyXG4gICAgICAgICAgICBhY3RpdmUgPSAkZWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCRlbC5oYXNDbGFzcygnbmF2LWNvbnRlbnQnKSkge1xyXG4gICAgICAgICAgICBuZXd0aGlzID0gJGVsO1xyXG4gICAgICAgICAgICBhY3RpdmUgPSB0aGlzLmFjdGl2ZU1lbnU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobmV3dGhpcykge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZShuZXd0aGlzLCBhY3RpdmUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cdC8qXHJcblx0ICpcclxuXHQgKi9cclxuXHRvblNjcm9sbChlLCB0b3ApIHtcclxuXHRcdGlmICh0aGlzLm5lZWRTY3JvbGwpIHtcclxuXHRcdFx0aWYgKHRoaXMuaXNPcGVuZWQgJiYgJCh3aW5kb3cpLnNjcm9sbFRvcCgpID4gdGhpcy5oZWlnaHRUb1Njcm9sbCkge1xyXG5cdFx0XHRcdHRoaXMubmVlZFNjcm9sbCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubW91c2VUaW1lcik7XHJcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbWVyT3Zlcik7XHJcblxyXG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdCAgICAvKlxyXG5cdFx0XHRpZiAoIWNvcmUuaWU2ICYmIG1vZHVsZXMuaGVhZGVyLmhhc1N0aWNreSkge1xyXG5cdFx0XHRcdC8vbW9kdWxlcy5oZWFkZXIuc3RpY2t5Lm9uU2Nyb2xsU3RpY2tUb3AoZSwgdG9wKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQqL1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0b3BlbigpIHtcclxuXHRcdC8vIHBvc2l0aW9uIHRvcG1lbnUgZGVwZW5kaW5nIG9uIG1ldGFuYXZcclxuXHRcdC8qaWYgKGNvcmUuJGhlYWRlci5oYXNDbGFzcygnbWV0YW5hdi1vcGVuJykgJiYgIWNvcmUuJGhlYWRlci5oYXNDbGFzcygnZml4ZWQnKSkge1xyXG5cdFx0XHR0aGlzLiRjb250YWluZXIuY3NzKCd0b3AnLGNvcmUuJGhlYWRlci5oZWlnaHQoKSk7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0dGhpcy4kY29udGFpbmVyLmF0dHIoJ3N0eWxlJywnJyk7XHJcblx0XHR9Ki9cclxuXHJcblx0XHQvLyBHZXQgTmV3IHRoaXMgaGVpZ2h0XHJcblx0XHR0aGlzLmN1cnJlbnQuYWRkQ2xhc3MoJ2ludmlzaWJsZScpO1xyXG5cdFx0Ly8gYWRkIHBhZGRpbmc6IHNjcm9sbGFibGUgY29udGVudCBpcyBhYnNvbHV0ZSAoLm92ZXJ2aWV3KVxyXG5cdFx0bGV0IG5ld0hlaWdodCA9IHRoaXMuY3VycmVudC5vdXRlckhlaWdodCh0cnVlKTtcclxuXHRcdHRoaXMuY3VycmVudC5yZW1vdmVDbGFzcygnaW52aXNpYmxlJyk7XHJcblxyXG5cdFx0Ly8gSWYgYWxyZWFkeSBvcGVuZWQgbm8gYW5pbWF0aW9uXHJcblx0XHRpZiAodGhpcy5pc09wZW5lZCkge1xyXG5cdFx0XHR0aGlzLiRjb250YWluZXIuY3NzKCdoZWlnaHQnLCBuZXdIZWlnaHQpO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHRoaXMuJGNvbnRhaW5lci5zdG9wKCkuYW5pbWF0ZSh7aGVpZ2h0OiBuZXdIZWlnaHR9LCAxNTApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuY2hlY2tIZWlnaHQobmV3SGVpZ2h0KTtcclxuXHJcblx0XHR0aGlzLmN1cnJlbnQuYWRkQ2xhc3MoJ29wZW4nKTtcclxuXHRcdHRoaXMuJG92ZXJsYXkuZmFkZUluKDIwMCk7XHJcblxyXG5cdFx0dGhpcy4kY29udGFpbmVyLmFkZENsYXNzKCdvcGVuZWQtdG9wTWVudScpO1xyXG5cdFx0JChcIi5qcy1oZWFkZXItc3VibmF2IGxpLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHR0aGlzLmFjdGl2ZU1lbnUuYXR0cignYXJpYS1leHBhbmRlZCcsdHJ1ZSkucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdFx0dGhpcy5pc09wZW5lZCA9IHRydWU7XHJcblx0fVxyXG5cclxuXHRjbG9zZSgpIHtcclxuXHRcdGlmICh0aGlzLmlzT3BlbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIGFuaW1hdGUgY29udGFpbmVyXHJcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5zdG9wKCkuYW5pbWF0ZSh7aGVpZ2h0OiAwfSwgMjAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoJ29wZW5lZC10b3BNZW51Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlTWVudS5hdHRyKCdhcmlhLWV4cGFuZGVkJyxmYWxzZSkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IGRlZmF1bHQgYWN0aXZlXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWZhdWx0QWN0aXZlSW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIuanMtaGVhZGVyLXN1Ym5hdiBsaVwiKS5lcSh0aGlzLmRlZmF1bHRBY3RpdmVJbmRleCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaXNPcGVuZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubmVlZFNjcm9sbCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub25TY3JvbGwoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRvdmVybGF5LmZhZGVPdXQoMjAwKTtcclxuICAgICAgICB9XHJcblx0fVxyXG5cclxuXHR0b2dnbGUoIG5ld1RvcExheWVyLCBhY3RpdmUgKSB7XHJcblx0XHRpZiggdGhpcy5hY3RpdmVNZW51Lmxlbmd0aD4wICYmIG5ld1RvcExheWVyLmF0dHIoJ2lkJykgIT0gdGhpcy5jdXJyZW50LmF0dHIoJ2lkJykpIHtcclxuXHRcdFx0aWYgKHRoaXMuaXNPcGVuZWQpIHtcclxuXHRcdFx0XHR0aGlzLmN1cnJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmFjdGl2ZU1lbnUuYXR0cignYXJpYS1leHBhbmRlZCcsZmFsc2UpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmN1cnJlbnQgICAgPSBuZXdUb3BMYXllcjtcclxuXHRcdHRoaXMuYWN0aXZlTWVudSA9IGFjdGl2ZTtcclxuXHRcdHRoaXMub3BlbigpO1xyXG5cclxuXHRcdGxldCBuZXdIZWlnaHQgPSB0aGlzLmN1cnJlbnQub3V0ZXJIZWlnaHQodHJ1ZSk7XHJcblxyXG5cdFx0dGhpcy5jaGVja0hlaWdodCggbmV3SGVpZ2h0ICk7XHJcblx0fVxyXG5cclxuXHRjaGVja0hlaWdodChuZXdIZWlnaHQpIHtcclxuXHRcdGxldCBleHRyYUhlaWdodCAgPSAwOyAvLyB0aGUgaGVpZ2h0IHRvIHNjcm9sbCB0byBzZWUgY29tcGxldGVseSB0aGUgdG9wTWVudVxyXG4gICAgICAgIGxldCBtYXJnaW4gPSAxMDA7XHJcblxyXG5cdFx0ZXh0cmFIZWlnaHQgPSAoJChcIiNkaW9yLWhlYWRlclwiKS5oZWlnaHQoKSArIG5ld0hlaWdodCkgLSAkKHdpbmRvdykuaGVpZ2h0KCk7XHJcblxyXG5cdFx0aWYoIGV4dHJhSGVpZ2h0ID4gMCApIHtcclxuXHRcdFx0Ly8gc2V0IHZpZXdwb3J0IGhlaWdodFxyXG5cdFx0XHR0aGlzLmhlaWdodFRvU2Nyb2xsID0gZXh0cmFIZWlnaHQgKyBtYXJnaW47XHJcblx0XHRcdHRoaXMubmVlZFNjcm9sbCA9IHRydWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLm5lZWRTY3JvbGwgPSBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG9uUmVzaXplKCkge1xyXG5cdFx0aWYgKCQoJyNkaW9yLWhlYWRlcicpLmhhc0NsYXNzKCdqcy1oZWFkZXItdHJhbnNwYXJlbnQnKSkge1xyXG4gICAgICAgICAgICAkKCcuanMtaGVhZGVyLXN1Ym5hdicpLmFkZENsYXNzKCdpbnZpc2libGUnKS5zaG93KCk7XHJcblx0XHR9XHJcbiAgICAgICAgLy9FcXVhbGl6ZSBhbGwgY29sc1xyXG4gICAgICAgIGVxdWFsSGVpZ2h0LmVxdWFsaXplKCcuanMtZGlvci1oZWFkZXIgLmpzLWVxdWFsaXplJywgJy5qcy1lcXVhbC1jb2wnKTtcclxuICAgICAgICAvL0VxdWFsaXplIGFsbCB0aXRsZXNcclxuICAgICAgICBlcXVhbEhlaWdodC5lcXVhbGl6ZSgnLmpzLWRpb3ItaGVhZGVyIC5qcy1lcXVhbGl6ZScsICcuanMtZXF1YWwtdGl0bGUnKTtcclxuICAgICAgICAvL0VxdWFsaXplIGFsbCBhdmFpbGliaWxpdHkgdGl0bGVzXHJcbiAgICAgICAgZXF1YWxIZWlnaHQuZXF1YWxpemUoJy5qcy1kaW9yLWhlYWRlciAuanMtZXF1YWxpemUnLCAnLmpzLWVxdWFsLWF2YWlsaWJpbGl0eScpO1xyXG5cclxuXHRcdHRoaXMuY2hlY2tIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgaWYgKCQoJyNkaW9yLWhlYWRlcicpLmhhc0NsYXNzKCdqcy1oZWFkZXItdHJhbnNwYXJlbnQnKSkge1xyXG4gICAgICAgICAgICAkKCcuanMtaGVhZGVyLXN1Ym5hdicpLmhpZGUoKS5yZW1vdmVDbGFzcygnaW52aXNpYmxlJyk7XHJcbiAgICAgICAgfVxyXG5cdH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRvcE1lbnU7XHJcbiIsImZ1bmN0aW9uIHRwbCgpIHt0aGlzW1wiY2FydFwiXSA9IHdpbmRvdy5kaW9yVjcuSGFuZGxlYmFycy50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnMudW5sZXNzLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZnJlZSA6IGRlcHRoMCkse1wibmFtZVwiOlwidW5sZXNzXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDIsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcIjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBzdGFjazEsIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30sIGFsaWFzMj1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbiwgYWxpYXM1PWNvbnRhaW5lci5sYW1iZGE7XG5cbiAgcmV0dXJuIFwiICAgIDx0ciBjbGFzcz1cXFwiY2FydC1pdGVtIGpzLWNhcnQtaXRlbVxcXCIgZGF0YS1za3U9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5za3UgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNrdSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwic2t1XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgZGF0YS1pZD1cXFwiXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZFRvRGVsZXRlIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSg1LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCJcXFwiIGRhdGEtb3JpZ2luPVxcXCJcIlxuICAgICsgYWxpYXM0KGFsaWFzNSgoKHN0YWNrMSA9IChkYXRhICYmIGRhdGEucm9vdCkpICYmIHN0YWNrMS5vcmlnaW4pLCBkZXB0aDApKVxuICAgICsgXCJcXFwiIFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZm9ybV9rZXkgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDcsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiA+IDx0ZCBjbGFzcz1cXFwiaXRlbS1wYWNrc2hvdFxcXCI+IFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg5LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSgxMSwgZGF0YSwgMCksXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiICAgICAgICA8L3RkPiA8dGQgY2xhc3M9XFxcIml0ZW0tZGVzY3JpcHRpb25cXFwiPiA8c3BhbiBjbGFzcz1cXFwiaXRlbS10aXRsZVxcXCI+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLm5hbWUgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLm5hbWUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcIm5hbWVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwiaXRlbS1zdWJ0aXRsZVxcXCI+XCJcbiAgICArIGFsaWFzNCgoaGVscGVycy50cnVuY2F0ZSB8fCAoZGVwdGgwICYmIGRlcHRoMC50cnVuY2F0ZSkgfHwgYWxpYXMyKS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGl0bGUgOiBkZXB0aDApLDQwLHtcIm5hbWVcIjpcInRydW5jYXRlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pKVxuICAgICsgXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJpdGVtLXZhcmlhbnRcXFwiPlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5kZXNjcmlwdGlvbiB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZGVzY3JpcHRpb24gOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcImRlc2NyaXB0aW9uXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIjwvc3Bhbj4gPC90ZD4gPHRkIGNsYXNzPVxcXCJpdGVtLXF1YW50aXR5XFxcIj4gXCJcbiAgICArIGFsaWFzNChhbGlhczUoKChzdGFjazEgPSAoKHN0YWNrMSA9IChkYXRhICYmIGRhdGEucm9vdCkpICYmIHN0YWNrMS53b3JkaW5nKSkgJiYgc3RhY2sxLnF1YW50aXR5KSwgZGVwdGgwKSlcbiAgICArIFwiOiBcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMucXVhbnRpdHkgfHwgKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnF1YW50aXR5IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJxdWFudGl0eVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCIgPC90ZD4gPHRkIGNsYXNzPVxcXCJpdGVtLXByaWNlXFxcIj4gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnN1YlRvdGFsV2l0aEN1cnJlbmN5IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zdWJUb3RhbFdpdGhDdXJyZW5jeSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwic3ViVG90YWxXaXRoQ3VycmVuY3lcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiIFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnMudW5sZXNzLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51bmRlbGV0YWJsZSA6IGRlcHRoMCkse1wibmFtZVwiOlwidW5sZXNzXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgIDwvdGQ+IDwvdHI+IFwiO1xufSxcIjNcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXI7XG5cbiAgcmV0dXJuIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuaWRUb0RlbGV0ZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWRUb0RlbGV0ZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LHtcIm5hbWVcIjpcImlkVG9EZWxldGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSk7XG59LFwiNVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlcjtcblxuICByZXR1cm4gY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaWQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVycy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSx7XCJuYW1lXCI6XCJpZFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKTtcbn0sXCI3XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyO1xuXG4gIHJldHVybiBcImRhdGEta2V5PVxcXCJcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5mb3JtX2tleSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuZm9ybV9rZXkgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVycy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSx7XCJuYW1lXCI6XCJmb3JtX2tleVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiXCI7XG59LFwiOVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIGhlbHBlciwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30sIGFsaWFzMj1oZWxwZXJzLmhlbHBlck1pc3NpbmcsIGFsaWFzMz1cImZ1bmN0aW9uXCIsIGFsaWFzND1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgICAgICAgICAgICA8YSBocmVmPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInVybFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPiA8aW1nIHNyYz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnBhY2tzaG90IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5wYWNrc2hvdCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwicGFja3Nob3RcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBhbHQ9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5uYW1lIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5uYW1lIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJuYW1lXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCI+IDwvYT4gXCI7XG59LFwiMTFcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LCBhbGlhczI9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICAgICAgPGltZyBzcmM9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5wYWNrc2hvdCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAucGFja3Nob3QgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInBhY2tzaG90XCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgYWx0PVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibmFtZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPiBcIjtcbn0sXCIxM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgaGVscGVyLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcIml0ZW0tcmVtb3ZlIGpzLWNhcnQtaXRlbS1yZW1vdmUgaWNvbiBpY29uLWNyb3NzXFxcIiBhcmlhLWxhYmVsPVxcXCJTdXBwcmltZXIgXCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMubmFtZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubmFtZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwibmFtZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCIgZHUgcGFuaWVyXFxcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnJlbW92ZVRyYWNrT2JqZWN0IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxNCwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiID4gRGVsZXRlIDwvYnV0dG9uPiBcIjtcbn0sXCIxNFwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiIGRhdGEtdHJhY2stb2JqZWN0PSdcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oKGhlbHBlcnMuc3RyaW5naWZ5IHx8IChkZXB0aDAgJiYgZGVwdGgwLnN0cmluZ2lmeSkgfHwgaGVscGVycy5oZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30sKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnJlbW92ZVRyYWNrT2JqZWN0IDogZGVwdGgwKSx7XCJuYW1lXCI6XCJzdHJpbmdpZnlcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkpXG4gICAgKyBcIicgXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmJhc2tldCA6IGRlcHRoMCkpICE9IG51bGwgPyBzdGFjazEucHJvZHVjdHMgOiBzdGFjazEpLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcbnRoaXNbXCJ0ZXN0XCJdID0gd2luZG93LmRpb3JWNy5IYW5kbGViYXJzLnRlbXBsYXRlKHtcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcImVjcmluXCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcbnRoaXNbXCJ3aXNobGlzdFwiXSA9IHdpbmRvdy5kaW9yVjcuSGFuZGxlYmFycy50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LCBhbGlhczI9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiIDx0ciBjbGFzcz1cXFwid2lzaGxpc3QtcHJvZHVjdFxcXCI+IDx0ZCBjbGFzcz1cXFwicHJvZHVjdC1pbWFnZVxcXCI+IFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgyLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIucHJvZ3JhbSg0LCBkYXRhLCAwKSxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgPC90ZD4gPHRkIGNsYXNzPVxcXCJwcm9kdWN0LWRlc2NyaXB0aW9uXFxcIj4gPGEgaHJlZj1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVybCB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ1cmxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIj4gPHA+XCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnRpdGxlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC50aXRsZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwidGl0bGVcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9wPiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRlc2NyaXB0aW9uIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSg2LCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zZWxlY3RlZFZhcmlhbnQgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDgsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiBcIlxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbmZpZ3VyYXRpb24gOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEwLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgXCIgICAgICAgIDwvYT4gPC90ZD4gPHRkIGNsYXNzPVxcXCJwcm9kdWN0LXByaWNlXFxcIj4gXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVuaXRQcmljZVdpdGhDdXJyZW5jeSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudW5pdFByaWNlV2l0aEN1cnJlbmN5IDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJ1bml0UHJpY2VXaXRoQ3VycmVuY3lcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwianMtd2lzaGxpc3QtZGVsZXRlIGluLXdpc2hsaXN0IGl0ZW0tcmVtb3ZlIGljb24gaWNvbi1jcm9zc1xcXCIgYXJpYS1sYWJlbD1cXFwiU3VwcHJpbWVyIFwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy50aXRsZSB8fCAoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudGl0bGUgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInRpdGxlXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIiBkZSBsYSB3aXNobGlzdFxcXCIgZGF0YS11bml2ZXJzZT1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLnVuaXZlcnNlIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51bml2ZXJzZSA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwidW5pdmVyc2VcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBkYXRhLWlkZW50aWZpZXI9XFxcIlwiXG4gICAgKyBhbGlhczQoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5pZGVudGlmaWVyIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pZGVudGlmaWVyIDogZGVwdGgwKSkgIT0gbnVsbCA/IGhlbHBlciA6IGFsaWFzMiksKHR5cGVvZiBoZWxwZXIgPT09IGFsaWFzMyA/IGhlbHBlci5jYWxsKGFsaWFzMSx7XCJuYW1lXCI6XCJpZGVudGlmaWVyXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgPiBTdXBwcmltZXIgPC9idXR0b24+IDwvdGQ+IDwvdHI+IFwiO1xufSxcIjJcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXIsIGFsaWFzMT1kZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LCBhbGlhczI9aGVscGVycy5oZWxwZXJNaXNzaW5nLCBhbGlhczM9XCJmdW5jdGlvblwiLCBhbGlhczQ9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgICA8YSBocmVmPVxcXCJcIlxuICAgICsgYWxpYXM0KCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMudXJsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogYWxpYXMyKSwodHlwZW9mIGhlbHBlciA9PT0gYWxpYXMzID8gaGVscGVyLmNhbGwoYWxpYXMxLHtcIm5hbWVcIjpcInVybFwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSA6IGhlbHBlcikpKVxuICAgICsgXCJcXFwiPiA8aW1nIHNyYz1cXFwiXCJcbiAgICArIGFsaWFzNCgoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmltZ1NtYWxsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pbWdTbWFsbCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBhbGlhczIpLCh0eXBlb2YgaGVscGVyID09PSBhbGlhczMgPyBoZWxwZXIuY2FsbChhbGlhczEse1wibmFtZVwiOlwiaW1nU21hbGxcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiXFxcIiBhbHQ9XFxcIlxcXCIgLz4gPC9hPiBcIjtcbn0sXCI0XCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyO1xuXG4gIHJldHVybiBcIiAgICAgICAgPGltZyBzcmM9XFxcIlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoKGhlbHBlciA9IChoZWxwZXIgPSBoZWxwZXJzLmltZ1NtYWxsIHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pbWdTbWFsbCA6IGRlcHRoMCkpICE9IG51bGwgPyBoZWxwZXIgOiBoZWxwZXJzLmhlbHBlck1pc3NpbmcpLCh0eXBlb2YgaGVscGVyID09PSBcImZ1bmN0aW9uXCIgPyBoZWxwZXIuY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LHtcIm5hbWVcIjpcImltZ1NtYWxsXCIsXCJoYXNoXCI6e30sXCJkYXRhXCI6ZGF0YX0pIDogaGVscGVyKSkpXG4gICAgKyBcIlxcXCIgYWx0PVxcXCJcXFwiIC8+IFwiO1xufSxcIjZcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIjxzcGFuPlwiXG4gICAgKyBjb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbigoaGVscGVycy50cnVuY2F0ZSB8fCAoZGVwdGgwICYmIGRlcHRoMC50cnVuY2F0ZSkgfHwgaGVscGVycy5oZWxwZXJNaXNzaW5nKS5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30sKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmRlc2NyaXB0aW9uIDogZGVwdGgwKSw0MCx7XCJuYW1lXCI6XCJ0cnVuY2F0ZVwiLFwiaGFzaFwiOnt9LFwiZGF0YVwiOmRhdGF9KSlcbiAgICArIFwiPC9zcGFuPlwiO1xufSxcIjhcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHZhciBoZWxwZXI7XG5cbiAgcmV0dXJuIFwiPHNwYW4gY2xhc3M9XFxcInByb2R1Y3QtdmFyaWFudFxcXCI+XCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKCgoaGVscGVyID0gKGhlbHBlciA9IGhlbHBlcnMuc2VsZWN0ZWRWYXJpYW50IHx8IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5zZWxlY3RlZFZhcmlhbnQgOiBkZXB0aDApKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVycy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSx7XCJuYW1lXCI6XCJzZWxlY3RlZFZhcmlhbnRcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9zcGFuPlwiO1xufSxcIjEwXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxLCBhbGlhczE9ZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fTtcblxuICByZXR1cm4gXCIgICAgICAgICAgICAgICAgXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMxLCgoc3RhY2sxID0gKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLmNvbmZpZ3VyYXRpb24gOiBkZXB0aDApKSAhPSBudWxsID8gc3RhY2sxLnNoYWRlIDogc3RhY2sxKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgxMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIilcbiAgICArIFwiIFwiXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb25maWd1cmF0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5jYXBhY2l0eSA6IHN0YWNrMSkse1wibmFtZVwiOlwiaWZcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMTMsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiBcIjtcbn0sXCIxMVwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8c3BhbiBjbGFzcz1cXFwicHJvZHVjdC12YXJpYW50XFxcIj5cIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb25maWd1cmF0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5zaGFkZSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjwvc3Bhbj5cIjtcbn0sXCIxM1wiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gXCI8c3BhbiBjbGFzcz1cXFwicHJvZHVjdC12YXJpYW50XFxcIj5cIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoKHN0YWNrMSA9IChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5jb25maWd1cmF0aW9uIDogZGVwdGgwKSkgIT0gbnVsbCA/IHN0YWNrMS5jYXBhY2l0eSA6IHN0YWNrMSksIGRlcHRoMCkpXG4gICAgKyBcIjwvc3Bhbj5cIjtcbn0sXCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgc3RhY2sxO1xuXG4gIHJldHVybiAoKHN0YWNrMSA9IGhlbHBlcnMuZWFjaC5jYWxsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge30sZGVwdGgwLHtcIm5hbWVcIjpcImVhY2hcIixcImhhc2hcIjp7fSxcImZuXCI6Y29udGFpbmVyLnByb2dyYW0oMSwgZGF0YSwgMCksXCJpbnZlcnNlXCI6Y29udGFpbmVyLm5vb3AsXCJkYXRhXCI6ZGF0YX0pKSAhPSBudWxsID8gc3RhY2sxIDogXCJcIik7XG59LFwidXNlRGF0YVwiOnRydWV9KTt9IGV4cG9ydCBkZWZhdWx0IG5ldyB0cGwoKTsiLCJjbGFzcyBMZWdhbEZvcm0ge1xuICAgIGNvbnN0cnVjdG9yKCRlbCwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy4kZWwgPSAkZWw7XG4gICAgICAgIHRoaXMuJGZvcm0gPSB0aGlzLiRlbC5oYXNDbGFzcygnanMtZm9ybScpID8gdGhpcy4kZWwgOiB0aGlzLiRlbC5maW5kKCcuanMtZm9ybScpO1xuICAgICAgICB0aGlzLmluaXRBY2NvcmRpb24oKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB0aGlzLiRmb3JtLm9uKCdzdWJtaXQnLCBjYWxsYmFjayk7XG4gICAgICAgIHRoaXMuaW5pdENoZWNrYm94ZXMoKTtcbiAgICB9XG5cbiAgICBpbml0QWNjb3JkaW9uKCkge1xuXG4gICAgICAgIGxldCAkc2Nyb2xsID0gdGhpcy4kZWwuZmluZCgnLmpzLXNjcm9sbCcpO1xuXG4gICAgICAgIGlmICgkc2Nyb2xsLmxlbmd0aCAmJiAhJHNjcm9sbC5kYXRhKCdzY3JvbGxlcicpKSB7XG4gICAgICAgICAgICAkc2Nyb2xsLnNjcm9sbGVyKHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdFNjcm9sbDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB1c2VyIG9wZW5zIGxlZ2FsIGFjY29yZGlvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLmpzLWxlZ2FsLWFjY29yZGlvbicpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICAgICAgICBuZXcgZGlvclY3LkFjY29yZGlvbigkKGVsKSwge1xuICAgICAgICAgICAgICAgIHNjcm9sbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25Ub2dnbGU6ICh0b2dnbGVkLCAkc2VjdGlvbikgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2dnbGVkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlZnJlc2ggZm9ybVZhbGlkYXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuJGZvcm0uZGF0YSgnZm9ybVZhbGlkYXRvcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZm9ybS5kYXRhKCdmb3JtVmFsaWRhdG9yJykucmVmcmVzaExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JlZnJlc2ggc2Nyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCAkc2Nyb2xsID0gJHNlY3Rpb24uZmluZCgnLmpzLXNjcm9sbCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjcm9sbC5sZW5ndGggJiYgJHNjcm9sbC5kYXRhKCdzY3JvbGxlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjcm9sbC5kYXRhKCdzY3JvbGxlcicpLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdENoZWNrYm94ZXMoKSB7XG5cbiAgICAgICAgdGhpcy4kZWwuZmluZCgnLmpzLW9wZW4tbmV4dC1hY2NvcmRpb24nKS5vbignY2hhbmdlJywgKGUpID0+IHtcblxuICAgICAgICAgICAgbGV0ICRjaGVja2JveCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIGxldCAkcGFyZW50ID0gJGNoZWNrYm94LnBhcmVudHMoJy5hY2NvcmRpb24tc2VjdGlvbicpO1xuICAgICAgICAgICAgaWYgKCRjaGVja2JveC5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgICAgICAgICAkcGFyZW50Lm5leHQoJy5qcy1sZWdhbC1hY2NvcmRpb24nKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIHVwZGF0ZVNjcm9sbCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRlbC5maW5kKCcuanMtc2Nyb2xsOnZpc2libGUnKS5kYXRhKCdzY3JvbGxlcicpICkgdGhpcy4kZWwuZmluZCgnLmpzLXNjcm9sbCcpLnNjcm9sbGVyKCk7XG4gICAgICAgIGVsc2UgdGhpcy4kZWwuZmluZCgnLmpzLXNjcm9sbDp2aXNpYmxlJykuZGF0YSgnc2Nyb2xsZXInKS5yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KHRoaXMuJGVsKTtcbiAgICAgICAgdGhpcy51cGRhdGVTY3JvbGwoKTtcbiAgICAgICAgdGhpcy4kZm9ybS5kYXRhKCdmb3JtVmFsaWRhdG9yJykucmVmcmVzaExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIGRpb3JWNy5ET01TdGF0ZU1hbmFnZXIuaGlkZSh0aGlzLiRlbCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IExlZ2FsRm9ybTtcbiIsIi8qKlxyXG4gKiBEZXBlbmRlbmNpZXM6XHJcbiAqIC0gZGlvclY3LlBsYXllci5QYXVzZUFsbCgpXHJcbiAqL1xyXG5jbGFzcyBQb3BpbiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG4gICAgICoge1xyXG4gICAgICogICAgICAgIGlkZW50aWZpZXI6IG51bGwsICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbmFtZSBvZiB0aGUgcG9waW4sIHVzZWQgaW4gaXRzIGNsYXNzIG5hbWUsIGl0cyBzZWxlY3RvcnMgYW5kIGV2ZW50c1xyXG4gICAgICogICAgICAgICR0cmlnZ2VyOiBudWxsLCAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZWxlbWVudCB0aGF0IHdpbGwgdHJpZ2dlciB0aGUgb3BlbiBtZXRob2RcclxuICAgICAqICAgICAgICAkZWw6IG51bGwsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlICRwb3BpbiBpdHNlbGYsIG9ubHkgcmVxdWlyZWQgZm9yIHN0YXQgcG9waW5cclxuICAgICAqICAgICAgICAkd3JhcHBlcjogJCgnI3BvcGluLXdyYXBwZXInKSwgICAgICAgLy8gdGhlIHdyYXBwZXIgaW4gd2hpY2ggZXZlcnkgcG9waW4gaXMgaW5qZWN0ZWQgYXQgYm90dG9tIG9mIGJvZHlcclxuICAgICAqICAgICAgICBtYW5hZ2VyOiBudWxsLCAgICAgICAgICAgICAgICAgICAgICAgLy8gYSByZWZlcmVuY2UgdG8gcG9waW5NYW5hZ2VyXHJcbiAgICAgKiAgICAgICAgY2xvc2VCdXR0b25DbGFzczogJy5qcy1wb3Bpbi1jbG9zZScsXHJcbiAgICAgKiAgICAgICAgdHJpZ2dlckV2ZW50czogMCAgICAgICAgICAgICAgICAgICAgIC8vIHdoZXRoZXIgb3Igbm90IHRoZSBwb3BpbiB0cmlnZ2VycyBldmVudHNcclxuICAgICAqICAgICAgICAkb3JpZ2luYWxUcmlnZ2VyOiBudWxsICAgICAgICAgICAgICAgLy8gdXNlIHRvIHJlc2V0IGZvY3VzIG9uIGNsb3NlIChhc3N1bWUgdGhhdCB0aGUgJHRyaWdnZXIgY2FuIGJlIGEgbXVsdGlwbGUgc2VsZWN0b3IpXHJcbiAgICAgICAgfVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIGxldCBfZGVmYXVsdHMgPSB7XHJcbiAgICAgICAgICAgIGlkZW50aWZpZXI6IG51bGwsXHJcbiAgICAgICAgICAgICR0cmlnZ2VyOiBudWxsLFxyXG4gICAgICAgICAgICAkZWw6IG51bGwsXHJcbiAgICAgICAgICAgICR3cmFwcGVyOiAkKCcjcG9waW4td3JhcHBlcicpLFxyXG4gICAgICAgICAgICBtYW5hZ2VyOiBudWxsLFxyXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbkNsYXNzOiAnLmpzLXBvcGluLWNsb3NlJyxcclxuICAgICAgICAgICAgdGVtcGxhdGU6IG51bGwsXHJcbiAgICAgICAgICAgIHdlYnNlcnZpY2U6IG51bGwsXHJcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudHM6IDAsXHJcbiAgICAgICAgICAgIGZ1bGxzY3JlZW46IDAsXHJcbiAgICAgICAgICAgICRvcmlnaW5hbFRyaWdnZXI6IG51bGxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLm8gPSAkLmV4dGVuZChfZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMuJGVsLmRhdGEoJ3BvcGluJywgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VmdWwgZm9yIFBvcGluRHluYW1pYyB0aGF0IGV4dGVuZHMgUG9waW5cclxuICAgICAqL1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLiRlbCA9IHRoaXMuby4kZWw7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuJGVsLmhhc0NsYXNzKCdqcy1hdXRvLW9wZW4nKSl7XHJcbiAgICAgICAgICAgIHRoaXMub3Blbih0aGlzLm8uaWRlbnRpZmllcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZExpc3RlbmVycygpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuby4kdHJpZ2dlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9vblRyaWdnZXJDbGljayA9IChlKSA9PiB0aGlzLm9wZW4oZSk7XHJcbiAgICAgICAgICAgIHRoaXMuby4kdHJpZ2dlci5vbignY2xpY2snLCB0aGlzLl9vblRyaWdnZXJDbGljayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5vLiR3cmFwcGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuby4kd3JhcHBlci5vbignY2xpY2snLCB0aGlzLl9vbkNsb3NlQ2xpY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fb25DbG9zZUNsaWNrID0gKGUpID0+IHRoaXMuY2xvc2UoZSk7XHJcbiAgICAgICAgdGhpcy4kZWwuZmluZCh0aGlzLm8uY2xvc2VCdXR0b25DbGFzcykub24oJ2NsaWNrJywgdGhpcy5fb25DbG9zZUNsaWNrKTtcclxuICAgICAgICB0aGlzLl9yZXNpemUgPSAoKSA9PiB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9yZXNpemUoKSApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhZGRUYWJMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5wYXJlbnRzKCcjcG9waW4td3JhcHBlcicpLmxlbmd0aCA9PT0gMCApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgJGNsb3NlID0gdGhpcy4kZWwuZmluZCh0aGlzLm8uY2xvc2VCdXR0b25DbGFzcykuZmlyc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAkY2xvc2UuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlbiB0aGUgcG9waW5cclxuICAgICAqIFdlIG5lZWQgdG8ga2VlcCB0aGUgb3JpZ2luYWwgYnRuLCBiZWNhdXNlIG9uIGNsb3NlIHdlIHdpbGwgc2V0IHRoZSBmb2N1cyBvbiB0aGF0IChBREEpXHJcbiAgICAgKiAoYXNzdW1lIHRoYXQgdGhlICR0cmlnZ2VyIG9wdGlvbiBjYW4gYmUgYSBtdWx0aXBsZSBzZWxlY3RvcilcclxuICAgICAqIEBwYXJhbSBlIHtldmVudCB8IGh0bWwgZWxlbWVudH1cclxuICAgICAqL1xyXG4gICAgb3BlbiggZSApIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGV2ZWwgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoKCFlIHx8IGUgPT09IHVuZGVmaW5lZCkpIGNvbnNvbGUud2FybignW1BvcGluXTogd2UgbmVlZCB0byBoYXZlIHRoZSBvcmlnaW5hbCBidG4gdG8gcmVzZXQgZm9jdXMgb24gY2xvc2UgKEFEQSknKTtcclxuICAgICAgICAgICAgZWxzZSB0aGlzLm8uJG9yaWdpbmFsVHJpZ2dlciA9IGUuY3VycmVudFRhcmdldCA/ICQoZS5jdXJyZW50VGFyZ2V0KSA6ICQoZSk7XHJcblxyXG4gICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmZhZGVUb2dnbGUoIHRoaXMuJGVsLCAnaGlkZGVuJywgMSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdvcGVuZWQnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRlbC5maW5kKCcuanMtZm9ybScpLmxlbmd0aCkgdGhpcy4kZWwuZmluZCgnLmpzLWZvcm0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKSkgJCh0aGlzKS5kYXRhKCdmb3JtVmFsaWRhdG9yJykucmVmcmVzaExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdvcGVuJyk7XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodD0gd2luZG93LmlubmVySGVpZ2h0K1wicHhcIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuby5mdWxsc2NyZWVuKSB0aGlzLnRvZ2dsZUZ1bGxzY3JlZW4oKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ3BvcGluLWZ1bGxzY3JlZW4nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuby5tYW5hZ2VyLnRvZ2dsZU92ZXJsYXkodGhpcy4kZWwsIDEpO1xyXG5cclxuICAgICAgICAgICAgZGlvclY3LlBsYXllci5QYXVzZUFsbCggdGhpcy5wbGF5ZXIgKTtcclxuXHJcbiAgICAgICAgICAgICQoJyNkaW9yLWhlYWRlciwgI2Rpb3ItZm9vdGVyLCAjbWFpbi1jb250ZW50LCAjc2Nyb2xsVG9Ub3AsICNza2lwTmF2aWdhdGlvbicpLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGxldCAkY2xvc2UgPSB0aGlzLiRlbC5maW5kKHRoaXMuby5jbG9zZUJ1dHRvbkNsYXNzKS5maXJzdCgpO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7ICRjbG9zZS5mb2N1cygpO30sIDUwKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7fSwgMTAwKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSB0aGlzLnNjcm9sbExldmVsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVGdWxsc2NyZWVuKCBmdWxsc2NyZWVuICkge1xyXG4gICAgICAgIGxldCBfekluZGV4ID0gdGhpcy4kZWwuY3NzKCd6LWluZGV4Jyk7XHJcbiAgICAgICAgdGhpcy4kZWwucmVtb3ZlQXR0cignc3R5bGUnKS5jc3MoJ3otaW5kZXgnLCBfekluZGV4KTtcclxuICAgICAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ3BvcGluLWZ1bGxzY3JlZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQb3NpdGlvbigpIHtcclxuICAgICAgICB0aGlzLiRlbFswXS5zdHlsZS5sZWZ0ID0gdGhpcy5zZXRMZWZ0KCkrXCJweFwiO1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBvc2l0aW9uVGltZW91dCk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvblRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy4kZWxbMF0uc3R5bGUudG9wID0gdGhpcy5zZXRUb3AoKStcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsWzBdLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TGVmdCgpIHtcclxuICAgICAgICBsZXQgaGFsZk9mZnNldCA9IHRoaXMuJGVsWzBdLm9mZnNldFdpZHRoKjAuNTtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCowLjU7XHJcbiAgICAgICAgcmV0dXJuIG9mZnNldCAtIGhhbGZPZmZzZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VG9wKCkge1xyXG4gICAgICAgIGxldCBoYWxmT2Zmc2V0ID0gTWF0aC5taW4odGhpcy4kZWxbMF0ub2Zmc2V0SGVpZ2h0KjAuNSwgd2luZG93LmlubmVySGVpZ2h0ICowLjUpO1xyXG4gICAgICAgIGxldCBvZmZzZXQgPSB3aW5kb3cucGFnZVlPZmZzZXQgKyB3aW5kb3cuaW5uZXJIZWlnaHQqMC41O1xyXG4gICAgICAgIGxldCB0b3A7XHJcbiAgICAgICAgaWYgKCB0aGlzLiRlbFswXS5vZmZzZXRIZWlnaHQgPj0gd2luZG93LmlubmVySGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0PSB0aGlzLiRlbFswXS5vZmZzZXRIZWlnaHQrNjArXCJweFwiO1xyXG4gICAgICAgICAgICB0b3AgPSAzMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodD0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgICAgICB0b3AgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKjAuNSAtIHRoaXMuJGVsWzBdLm9mZnNldEhlaWdodCAqIDAuNSA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b3A7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xyXG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmZhZGVUb2dnbGUoIHRoaXMuJGVsLCdoaWRkZW4nLCAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodD0gXCJhdXRvXCI7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSBcImF1dG9cIjtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvd1kgPSAnYXV0byc7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gJ3N0YXRpYyc7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCx0aGlzLnNjcm9sbExldmVsKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm8uZnVsbHNjcmVlbikgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdwb3Bpbi1mdWxsc2NyZWVuJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdjbG9zZWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vc2V0IGZvY3VzIG9uIHRhcmdnZXRcclxuICAgICAgICAgICAgaWYgKHRoaXMuby4kb3JpZ2luYWxUcmlnZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm8uJG9yaWdpbmFsVHJpZ2dlci5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm8ubWFuYWdlci50b2dnbGVPdmVybGF5KHRoaXMuJGVsLCAwKTtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdjbG9zZScpO1xyXG5cclxuICAgICAgICAgICAgJCgnI2Rpb3ItaGVhZGVyLCAjZGlvci1mb290ZXIsICNtYWluLWNvbnRlbnQsICNzY3JvbGxUb1RvcCwgI3NraXBOYXZpZ2F0aW9uJykuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZXNpemUnKTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vLiR0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuby4kdHJpZ2dlci5vZmYoJ2NsaWNrJywgdGhpcy5fb25UcmlnZ2VyQ2xpY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kZWwuZmluZCh0aGlzLm8uY2xvc2VCdXR0b25DbGFzcykub2ZmKCdjbGljaycsIHRoaXMuX29uQ2xvc2VDbGljayk7XHJcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX3Jlc2l6ZSgpICk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdkZXN0cm95ZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICB0cmlnZ2VyKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuby50cmlnZ2VyRXZlbnRzKSBkaW9yVjcuZGlzcGF0Y2hlci50cmlnZ2VyKCdwb3Bpbi0nK3RoaXMuby5pZGVudGlmaWVyKyc6OicrZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uKGV2ZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICh0aGlzLm8udHJpZ2dlckV2ZW50cykgZGlvclY3LmRpc3BhdGNoZXIub24oJ3BvcGluLScrdGhpcy5vLmlkZW50aWZpZXIrJzo6JytldmVudCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3BpbjsiLCJpbXBvcnQgUG9waW4gZnJvbSAnLi9Qb3Bpbi5qcyc7XHJcbmltcG9ydCBOZXdzbGV0dGVyTGVnYWxGb3JtIGZyb20gJy4uL0xlZ2FsRm9ybS5qcyc7XHJcblxyXG5jbGFzcyBQb3Bpbk5ld3NsZXR0ZXIgZXh0ZW5kcyBQb3BpbiB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucy50cmlnZ2VyRXZlbnRzID0gdHJ1ZTtcclxuICAgICAgICBzdXBlciggb3B0aW9ucyApO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgc3VwZXIuaW5pdCgpO1xyXG4gICAgICAgIGxldCAkbmV3c2xldHRlckZvcm0gPSB0aGlzLiRlbC5maW5kKCcuanMtbmV3c2xldHRlci1mb3JtJyk7XHJcbiAgICAgICAgbGV0ICRsZWdhbEZvcm0gICAgICA9IHRoaXMuJGVsLmZpbmQoJy5qcy1sZWdhbC1mb3JtJyk7XHJcbiAgICAgICAgbGV0ICRjb25maXJtICAgICAgPSB0aGlzLiRlbC5maW5kKCcuanMtbmV3c2xldHRlci1jb25maXJtJyk7XHJcblxyXG4gICAgICAgIGlmICgkbGVnYWxGb3JtLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgbGV0IGxlZ2FsQWNjZXB0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIE5ld3NsZXR0ZXIgbGVnYWwgZm9ybSBjYWxscyBhIGNhbGxiYWNrIG9uIHN1Ym1pdFxyXG4gICAgICAgICAgICAgKiBPbiBzdWJtaXQsIHNldCBjb25kaXRpb25zIHRvIGFjY2VwdGVkIGFuZCBjYWxsXHJcbiAgICAgICAgICAgICAqIHN1Ym1pdCBvbiB0aGUgZm9ybSBiZWxvdyBwb3BpbiB0byBzZW5kIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgICAqIElmIGxlZ2FsQWNjZXB0ZWQgaXMgZmFsc2UgdGhlIGZvcm0gYmVsb3cgd2lsbCBub3QgYmVcclxuICAgICAgICAgICAgICogc2VudFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgbGV0IG5ld3NsZXR0ZXJMZWdhbCA9IG5ldyBOZXdzbGV0dGVyTGVnYWxGb3JtKCRsZWdhbEZvcm0sIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBsZWdhbEFjY2VwdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRuZXdzbGV0dGVyRm9ybS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkbmV3c2xldHRlckZvcm0ub24oJ3N1Ym1pdCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxlZ2FsQWNjZXB0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5oaWRlKCRuZXdzbGV0dGVyRm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3c2xldHRlckxlZ2FsLnNob3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZChlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJG5ld3NsZXR0ZXJGb3JtLm9uKCdzdWJtaXQnLCAoZSkgPT4gdGhpcy5zZW5kKGUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub24oJ2Nsb3NlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnNob3coJG5ld3NsZXR0ZXJGb3JtKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdzbGV0dGVyTGVnYWwgIT09ICd1bmRlZmluZWQnKSBuZXdzbGV0dGVyTGVnYWwuaGlkZSgpO1xyXG4gICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUoJGNvbmZpcm0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oIGUgKSB7XHJcbiAgICAgICAgc3VwZXIub3BlbiggZSApO1xyXG5cclxuICAgICAgICAvLyByZXNldCBmb3JtXHJcbiAgICAgICAgbGV0IF9mb3JtVmFsaWRhdG9yID0gdGhpcy4kZWwuZmluZCgnZm9ybScpLmRhdGEoJ2Zvcm1WYWxpZGF0b3InKTtcclxuICAgICAgICBfZm9ybVZhbGlkYXRvci5yZXNldCgpO1xyXG5cclxuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUoIHRoaXMuJGVsLmZpbmQoJy5qcy1wb3Bpbi1lcnJvcicpICk7XHJcblxyXG4gICAgICAgIC8vICYgaW5qZWN0IGUtbWFpbCB2YWx1ZSBpbiBwb3BpbiBmb3JtXHJcbiAgICAgICAgbGV0ICRlbWFpbCA9IHRoaXMuJGVsLmZpbmQoJ2lucHV0W3R5cGU9XCJlbWFpbFwiXScpO1xyXG4gICAgICAgICRlbWFpbC52YWwoIGRpb3JWNy5Gb290ZXIuZW1haWwgKTtcclxuXHJcbiAgICAgICAgX2Zvcm1WYWxpZGF0b3IudmFsaWRhdGUoICRlbWFpbCApO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmQoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuTkVXU0xFVFRFUi51cmwsXHJcbiAgICAgICAgICAgIHR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuTkVXU0xFVFRFUi5tZXRob2QsXHJcbiAgICAgICAgICAgIHhockZpZWxkczogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5ORVdTTEVUVEVSLnhockZpZWxkcyxcclxuICAgICAgICAgICAgZGF0YTogdGhpcy4kZWwuZmluZCgnLmpzLW5ld3NsZXR0ZXItZm9ybScpLnNlcmlhbGl6ZSgpLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0ICR0cmFja2luZyA9IHRoaXMuJGVsLmZpbmQoJypbZGF0YS1uZXdzbGV0dGVyLXRyYWNraW5nXScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCR0cmFja2luZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHJhY2tpbmdWYWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kZWwuZmluZCgnLmpzLW5ld3NsZXR0ZXItcGNkOmNoZWNrZWQnKS5sZW5ndGgpIHRyYWNraW5nVmFsdWVzLnB1c2goJ1BDRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiRlbC5maW5kKCcuanMtbmV3c2xldHRlci1jZGM6Y2hlY2tlZCcpLmxlbmd0aCkgdHJhY2tpbmdWYWx1ZXMucHVzaCgnQ0RDJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyYWNraW5nVmFsdWUgPSAkdHJhY2tpbmcuYXR0cignZGF0YS1uZXdzbGV0dGVyLXRyYWNraW5nJykucmVwbGFjZSgnJSV0b2tlbk5ld3NsZXR0ZXIlJScsIHRyYWNraW5nVmFsdWVzLmpvaW4oJysnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaW9yVjcudHJhY2tpbmcudHJhY2tPYmplY3RTdHJpbmcodHJhY2tpbmdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL1Y2IC0gVjcgU3VwcG9ydFxyXG4gICAgICAgICAgICAgICAgaWYgKCAoZGF0YS5zdGF0dXMgJiYgZGF0YS5zdGF0dXMgIT09ICdvaycpIHx8IGRhdGEuZXJyb3JDb2RlKSByZXR1cm4gdGhpcy5vbkVycm9yKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblN1Y2Nlc3MoZGF0YSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiAoeGhyLCBzdGF0dXMpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9uRXJyb3IoIHttZXNzYWdlOiBzdGF0dXN9ICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgb25TdWNjZXNzKGRhdGEpIHtcclxuICAgICAgICAvL1Y2IC0gVjcgU3VwcG9ydFxyXG4gICAgICAgIGlmICggKGRhdGEuc3RhdHVzICYmIGRhdGEuc3RhdHVzICE9PSAnb2snKSB8fCBkYXRhLmVycm9yQ29kZSkgcmV0dXJuIHRoaXMub25FcnJvcihkYXRhKTtcclxuXHJcbiAgICAgICAgbGV0IF9zdWJzcmliZVRvID0gJyc7XHJcbiAgICAgICAgaWYgKCQoJyNuZXdzbGV0dGVyLXBjZCcpWzBdLmNoZWNrZWQpIF9zdWJzcmliZVRvICs9IFwiUENEXCI7XHJcbiAgICAgICAgaWYgKCQoJyNuZXdzbGV0dGVyLWNkYycpWzBdLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgaWYgKF9zdWJzcmliZVRvLmxlbmd0aCkgX3N1YnNyaWJlVG8gKz0gXCIrXCI7XHJcbiAgICAgICAgICAgIF9zdWJzcmliZVRvICs9IFwiQ0RDXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgX3RyYWNrT2JqZWN0ID0gdGhpcy4kZWwuZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLmRhdGEoJ3RyYWNrLW9iamVjdCcpO1xyXG4gICAgICAgIGlmIChfdHJhY2tPYmplY3QpIHtcclxuICAgICAgICAgICAgX3RyYWNrT2JqZWN0LmV2ZW50TGFiZWwgPSBfdHJhY2tPYmplY3QuZXZlbnRMYWJlbC5yZXBsYWNlKCclJXRva2VuTmV3c2xldHRlciUlJywgX3N1YnNyaWJlVG8pO1xyXG4gICAgICAgICAgICBkaW9yVjcudHJhY2tpbmcudHJhY2tPYmplY3RTdHJpbmcoIF90cmFja09iamVjdCApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRpb3JWNy50cmFja2luZy50cmFja0V2ZW50KCAnRm9vdGVyJywgJ05ld3NsZXR0ZXIgLSAnK19zdWJzcmliZVRvICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLmhpZGUodGhpcy4kZWwuZmluZCgnLmpzLWxlZ2FsLWZvcm0sIC5qcy1uZXdzbGV0dGVyLWZvcm0nKSk7XHJcbiAgICAgICAgZGlvclY3LkRPTVN0YXRlTWFuYWdlci5zaG93KHRoaXMuJGVsLmZpbmQoJy5qcy1uZXdzbGV0dGVyLWNvbmZpcm0nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25FcnJvcihkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdQb3Bpbk5ld3NsZXR0ZXIgLT4gRXJyb3InLCBkYXRhKTtcclxuICAgICAgICBsZXQgJGVyciA9IHRoaXMuJGVsLmZpbmQoJy5qcy1wb3Bpbi1lcnJvcicpO1xyXG4gICAgICAgIGlmICgkZXJyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBWNiAtIFY3IGVycm9yIG1lc3NhZ2Ugc3VwcG9ydFxyXG4gICAgICAgICAgICBsZXQgX2Vycm9yTWVzc2FnZSA9IGRhdGEubWVzc2FnZSA/IGRhdGEubWVzc2FnZSA6IGRhdGEuZXJyb3JNZXNzYWdlcy5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgICRlcnIudGV4dCggX2Vycm9yTWVzc2FnZSApO1xyXG4gICAgICAgICAgICBkaW9yVjcuRE9NU3RhdGVNYW5hZ2VyLnNob3coICRlcnIgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BvcGluTmV3c2xldHRlciAtPiBObyBqcy1wb3Bpbi1lcnJvciBlbGVtZW50IGluIHBvcGluJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3Bpbk5ld3NsZXR0ZXI7XHJcbiIsImltcG9ydCBEaXNwYXRjaGVyIGZyb20gJy4vRGlzcGF0Y2hlci5qcyc7XHJcblxyXG4vKipcclxuICogUHJpdmF0ZSBpbnN0YW5jZSBvZiBDYXJ0XHJcbiAqL1xyXG5sZXQgX2luc3Q7XHJcblxyXG5jbGFzcyBDYXJ0TW9kdWxlIHtcclxuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcclxuICAgIC8vdGVzdGFyb29uaWVzXHJcbiAgICBkaXJ0eSA9IHRydWU7XHJcbiAgICBzZWxlY3RvciA9IFwiLmpzLWRpcmVjdC1hZGR0b2NhcnQsIC5qcy1hZGR0b2NhcnRcIjtcclxuICAgIGRpc3BhdGNoZXIgPSBudWxsO1xyXG4gICAgdG90YWwgPSAwO1xyXG4gICAgdG90YWxDREMgPSAwO1xyXG4gICAgdG90YWxQQ0QgPSAwO1xyXG4gICAgY29va2llT3B0aW9ucyA9IHtleHBpcmVzOiAxNX07XHJcbiAgICAvLyBqc2hpbnQgaWdub3JlOmVuZFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIF9pbnN0ID0gdGhpcztcclxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZFRyaWdnZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkVHJpZ2dlcnMoKSB7XHJcblxyXG4gICAgICAgIF9pbnN0LmNvb2tpZU9wdGlvbnMuZG9tYWluICA9IENvb2tpZXMuZGVmYXVsdHMuZG9tYWluO1xyXG4gICAgICAgIF9pbnN0LmNvb2tpZU9wdGlvbnMucGF0aCAgICA9IENvb2tpZXMuZGVmYXVsdHMucGF0aDtcclxuXHJcbiAgICAgICAgJCgnYm9keScpLm9uKCdjbGljaycsIHRoaXMuc2VsZWN0b3IsIChlKSA9PiB0aGlzLm9uQWRkVG9DYXJ0Q2xpY2soZSkpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBvbkFkZFRvQ2FydENsaWNrKGUpIHtcclxuICAgICAgICBsZXQgJGJ0biA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuXHJcbiAgICAgICAgbGV0IHNrdSA9ICRidG4uYXR0cignZGF0YS1za3UnKTtcclxuICAgICAgICBsZXQgcXVhbnRpdHkgPSAkYnRuLmF0dHIoJ2RhdGEtcXVhbnRpdGllcycpIHx8ICRidG4uYXR0cignZGF0YS1xdWFudGl0eScpO1xyXG4gICAgICAgIGxldCBvcmlnaW4gPSAkYnRuLmF0dHIoJ2RhdGEtb3JpZ2luJyk7XHJcbiAgICAgICAgbGV0IGVuZ3JhdmluZ01lc3NhZ2UgPSAkYnRuLmF0dHIoJ2RhdGEtZW5ncmF2aW5nJykgfHwgXCJcIjtcclxuXHJcbiAgICAgICAgLy8gdXNlIG9sZCBhZGQgdG8gY2FydCBpZiBza3UgaXMgdW5kZWZpbmVkXHJcbiAgICAgICAgaWYgKHNrdSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS53YXJuKCdbQ2FydF06IG1pc3Npbmcgc2t1IGNvZGUgb24gJyskYnRuWzBdKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHByZXZlbnQgZG91YmxlIGFkZCAmIHRyYWNrIGZyb20gbGVnYWN5IGFkZFRvQ2FydFxyXG4gICAgICAgICAgICAvLyAnY2F1c2Ugd2UgbmVlZCB0aGlzIGZvciBNaW5pc2l0ZXNcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCRidG4uaGFzQ2xhc3MoJ2pzLWFkZHRvY2FydCcpICYmIHdpbmRvdy5jb25zb2xlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tDYXJ0XTogbGVnYWN5IGNsYXNzIGZvciBkaXJlY3QgYWRkIHRvIGNhcnQgKHdpdGhvdXQgcG9waW4pLCB1c2UgXCIuanMtZGlyZWN0LWFkZHRvY2FydFwiIGluc3RlYWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9yaWdpbiA9ICQoJ2JvZHknKS5hdHRyKCdkYXRhLW9yaWdpbicpO1xyXG4gICAgICAgICAgICBpZiAob3JpZ2luID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW0NhcnRdOiBtaXNzaW5nIG9yaWdpbiBvbiBib2R5LCBhbmQgbm90aGluZyBzZXQgaW4gdHJpZ2dlciBkYXRhLW9yaWdpbi4nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHF1YW50aXR5ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQ2FydF06IG1pc3NpbmcgcXVhbnRpdHkgb24gJyskYnRuWzBdKycuIEFkZCAxIGJ5IGRlZmF1bHQuJyk7XHJcbiAgICAgICAgICAgIHF1YW50aXR5ID0gJzEnO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmICggISRidG4uYXR0cignZGF0YS1sZWdhY3knKSApXHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG9DYXJ0KCBza3UsIHF1YW50aXR5LCBlbmdyYXZpbmdNZXNzYWdlLCBvcmlnaW4sIHRydWUsIGUuY3VycmVudFRhcmdldCApO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5sZWdhY3lBZGRUb0NhcnQoIHNrdSwgcXVhbnRpdHksIGVuZ3JhdmluZ01lc3NhZ2UsIG9yaWdpbiwgdHJ1ZSwgZS5jdXJyZW50VGFyZ2V0ICk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBib3RoIGNhcnRzIChQQ0QgYW5kIENEQykgYW5kIHJlbmRlcnMgdGhlbVxyXG4gICAgICogQWx3YXlzIHRyaWdnZXIgYSAnY29tcGxldGUnIGV2ZW50LCB3ZSBoYXZlIDMgY2FzZTpcclxuICAgICAqIC0gY2FydCBpcyBlbXB0eVxyXG4gICAgICogLSBjYXJ0IGlzIGRpcnR5OiBuZWVkIHRvIG1ha2UgYWpheCBjYWxsc1xyXG4gICAgICogLSBjYXJ0IGlzIG5vdCBkaXJ0eVxyXG4gICAgICovXHJcbiAgICBnZXQoY2IpIHtcclxuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xyXG4gICAgICAgICAgICB0aGlzLmdldFRvdGFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy50b3RhbCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX25lZWRlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b3RhbFBDRD4wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLl9uZWVkZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRGb3JPcmlnaW4oJ1BDRCcsIGNiICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b3RhbENEQz4wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKyt0aGlzLl9uZWVkZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRGb3JPcmlnaW4oJ0NEQycsIGNiICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUoY2IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKGNiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGJhc2tldCBjb250ZW50IGZvciB1bml2ZXJzZSAob3JpZ2luKVxyXG4gICAgICogQHBhcmFtIG9yaWdpbiB7J1BDRCcgfCAnQ0RDJ31cclxuICAgICAqIEBwYXJhbSBjYiB7ZnVuY3Rpb259XHJcbiAgICAgKiBAcmV0dXJucyB7Kn1cclxuICAgICAqL1xyXG4gICAgZ2V0Rm9yT3JpZ2luKCBvcmlnaW4gLCBjYikge1xyXG4gICAgICAgIG9yaWdpbiA9IG9yaWdpbi50b1VwcGVyQ2FzZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkNBUlRbb3JpZ2luXS5HRVRfUk9MTC51cmwsXHJcbiAgICAgICAgICAgIHR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtvcmlnaW5dLkdFVF9ST0xMLm1ldGhvZCxcclxuICAgICAgICAgICAgLy8gREVGSU5FIEEgRk9STUFUVEVSIE9CSkVDVCBGT1IgVEhFIENBTExcclxuICAgICAgICAgICAgLy8gbXVzdCBoYXZlIGEgUmVxdWVzdCBtZXRob2QgdGhhdCBmb3JtYXQgdGhlIHNldHRpbmdzIGRhdGEgb2JqZWN0IGRpcmVjdGx5XHJcbiAgICAgICAgICAgIC8vIG11c3QgaGF2ZSBhIFJlc3BvbnNlIG1ldGhvZCB0aGF0IGZvcm1hdCB0aGUgZGF0YSwgYW5kIHJldHVybiBhIHN0cmluZ2lmaWVkIG9iamVjdFxyXG4gICAgICAgICAgICAvLyBAc2VlIGRpb3JWNy5jb25maWcuanNcclxuICAgICAgICAgICAgLy8gQHNlZWFsc28gcGNpcy5BamF4Rm9ybWF0LmpzIChodHRwOi8vd3d3LmRpb3IuY24vbWVkaWFzL3ZlcnNpb24tNi45LjE0ODg1NTg2Njk3MzkvcGNpcy9qcy9jdXN0b21fY24uanMpXHJcbiAgICAgICAgICAgIGZvcm1hdHRlcjogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5DQVJUW29yaWdpbl0uR0VUX1JPTEwuZm9ybWF0dGVyLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5DQVJUW29yaWdpbl0uR0VUX1JPTEwuY29udGVudFR5cGUsXHJcblxyXG4gICAgICAgICAgICBzdWNjZXNzOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gaW5qZWN0IG9yaWdpbiAoZm9yIHRlbXBsYXRpbmcpXHJcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbiA9IG9yaWdpbjtcclxuICAgICAgICAgICAgICAgIHRoaXMub25TdWNjZXNzKCBkYXRhLCBvcmlnaW4sIGNiICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBkYXRhID0+IHRoaXMub25FcnJvcihkYXRhKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU3VjY2VzcyggZGF0YSwgb3JpZ2luLCBjYiApIHtcclxuICAgICAgICAtLXRoaXMuX25lZWRlZDtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEuZXJyb3JDb2RlIHx8IGRhdGEuc3RhdHVzID09PSBcIm5va1wiIHx8IGRhdGEuc3RhdHVzID09PSAnY3VzdG9taXNhdGlvbicpIHJldHVybiB0aGlzLm9uRXJyb3IoZGF0YSk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRpb3JWNy5kYXRhLmNhcnRbb3JpZ2luXSA9IGRhdGE7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hlci50cmlnZ2VyKCdvcmlnaW4nLCBvcmlnaW4sIGRhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX25lZWRlZCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyBkYXRhIGFyZSB1cC10by1kYXRlXHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGRpc3BhdGNoIGNvbXBsZXRlLCB1c2VkIGJ5OlxyXG4gICAgICAgICAgICAvLyAtIHJvbGwgV2lzaExpc3RcclxuICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKGNiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25FcnJvciggZGF0YSApIHtcclxuICAgICAgICAvLyBjdXN0b21pc2F0aW9uIGVycm9yXHJcbiAgICAgICAgaWYoZGF0YS5zdGF0dXMgPT09ICdjdXN0b21pc2F0aW9uJykge1xyXG4gICAgICAgICAgICBsZXQgX0Vycm9yQ3VzdG9tUG9waW4gPSBkaW9yVjcucG9waW5NYW5hZ2VyLmluc3RhbmNpYXRlKHtcclxuICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6ICdjdXN0b21pc2F0aW9uLWVycm9yJyxcclxuICAgICAgICAgICAgICAgICRlbDogJCgnLmpzLXBvcGluLWN1c3RvbWlzYXRpb24tZXJyb3InKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX0Vycm9yQ3VzdG9tUG9waW4ub3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLndhcm4oJ1tDYXJ0TW9kdWxlXTogd3MgZmFpbGVkLicpO1xyXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ2N1c3RvbWl6YXRpb24nKSB7XHJcbiAgICAgICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIuaW5zdGFuY2lhdGUoe1xyXG4gICAgICAgICAgICAgICAgaWRlbnRpZmllcjogXCJjdXN0b21pemF0aW9uLWVycm9yXCIsXHJcbiAgICAgICAgICAgICAgICAkZWw6ICQoJy5qcy1wb3Bpbi1jdXN0b21pemF0aW9uLWVycm9yJylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIub3BlbihcImN1c3RvbWl6YXRpb24tZXJyb3JcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZGlzcGF0Y2ggY29tcGxldGUsIHVzZWQgYnk6XHJcbiAgICAgICAgLy8gLSByb2xsIFdpc2hMaXN0XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2Vycm9yJywgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRUb3RhbCByZWFkcyBjb29raWVzIHRvIGZpbmQgb3V0IGhvdyBtYW55IHByb2R1Y3RzIGFyZSBpbiBjYXJ0XHJcbiAgICAgKiBhbmQgZGlzcGxheXMgbnVtYmVyIG5leHQgdG8gY2FydCBpY29uXHJcbiAgICAgKiBAcmV0dXJuIHRvdGFsIHtpbnR9XHJcbiAgICAgKi9cclxuICAgIGdldFRvdGFsKCkge1xyXG5cclxuICAgICAgICAvLyAhIENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5DQVJULkNEQy5uYW1lKSBkb2Vzbid0IHdvcmsgb24gbXVsdGlkb21haW5zIGZvciBJRTExXHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZWFkIGZ1bGwgb2JqZWN0IGZvciB2YWx1ZXMgdG8gd29ya1xyXG4gICAgICAgIGxldCBfY29va2llcyA9IENvb2tpZXMuZ2V0KCk7XHJcbiAgICAgICAgbGV0IGNvb2tpZUNEQyA9IF9jb29raWVzICYmIF9jb29raWVzW2Rpb3JWNy5jb25maWcuY29va2llcy5DQVJULkNEQy5uYW1lXSB8fCAwO1xyXG4gICAgICAgIGxldCBjb29raWVQQ0QgPSBfY29va2llcyAmJiBfY29va2llc1tkaW9yVjcuY29uZmlnLmNvb2tpZXMuQ0FSVC5QQ0QubmFtZV0gIHx8IDA7XHJcblxyXG4gICAgICAgIHRoaXMudG90YWxDREMgPSBwYXJzZUludCggY29va2llQ0RDICk7XHJcbiAgICAgICAgdGhpcy50b3RhbFBDRCA9IHBhcnNlSW50KCBjb29raWVQQ0QgKTtcclxuICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy50b3RhbENEQyArIHRoaXMudG90YWxQQ0Q7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1aWxkU2t1U3RyaW5nKHNrdUNvZGVzLCBxdWFudGl0aWVzID0gWzFdLCBsZWdhY3kgPSBmYWxzZSkge1xyXG5cclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2t1Q29kZXMpKSBza3VDb2RlcyA9IHNrdUNvZGVzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHF1YW50aXRpZXMpKSBxdWFudGl0aWVzID0gcXVhbnRpdGllcy50b1N0cmluZygpLnNwbGl0KCcsJyk7XHJcblxyXG4gICAgICAgIGxldCBza3VzID0gXCJcIjtcclxuXHJcblxyXG4gICAgICAgIGlmICghbGVnYWN5KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHNrdUNvZGVzLmxlbmd0aC0xOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHNrdXMrPVwic2t1PVwiK3NrdUNvZGVzW2ldK1wiOnF1YW50aXR5PVwiKyhxdWFudGl0aWVzW2ldIHx8IDEpKycsJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2t1cyA9IFwic2t1cz1cIitza3VzLnJlcGxhY2UoLywkLywgXCJcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IF9xdWFudGl0aWVzID0gXCJcIjtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc2t1Q29kZXMubGVuZ3RoLTE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgc2t1cys9c2t1Q29kZXNbaV0rJywnO1xyXG4gICAgICAgICAgICAgICAgX3F1YW50aXRpZXMrPSAocXVhbnRpdGllc1tpXSB8fCAxKSsnLCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2t1cyA9IHNrdXMucmVwbGFjZSgvLCQvLCBcIlwiKTtcclxuICAgICAgICAgICAgaWYgKHNrdUNvZGVzLmxlbmd0aCA+IDEpIHNrdXMgPSAgXCJza3VzPVwiK3NrdXM7XHJcbiAgICAgICAgICAgIGVsc2UgIHNrdXMgPSAgXCJza3U9XCIrc2t1cztcclxuICAgICAgICAgICAgc2t1cys9XCImcXVhbnRpdHk9XCIrX3F1YW50aXRpZXMucmVwbGFjZSgvLCQvLCBcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBza3VzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2t1Q29kZXMge3N0cmluZ30gICAgICAgICA6IGEgbGlzdCBvZiBza3VzIHNlcGFyYXRlZCBieSBjb21tYXNcclxuICAgICAqIEBwYXJhbSBxdWFudGl0aWVzIHtzdHJpbmd9ICAgICAgIDogYSBsaXN0IG9mIHF1YW50aXRpZXMgc2VwYXJhdGVkIGJ5IGNvbW1hc1xyXG4gICAgICogQHBhcmFtIGVuZ3JhdmluZ01lc3NhZ2Uge3N0cmluZ31cclxuICAgICAqIEBwYXJhbSBvcmlnaW4ge3N0cmluZ30gICAgICAgICAgIDogUENEIHwgQ0RDXHJcbiAgICAgKiBAcGFyYW0gc2lsZW50IHtib29sfSAgICAgICAgICAgICA6IGlmIHNldCB0byB0cnVlLCBkb2Vzbid0IHRvZ2dsZSByb2xsIG9uIGFkZGl0aW9uXHJcbiAgICAgKiBAcGFyYW0gYnV0dG9uIHtqUXVlcnl9ICAgICAgICAgICA6IG9wdGlvbmFsIHRyaWdnZXIgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBhZGRUb0NhcnQoIHNrdUNvZGVzLCBxdWFudGl0aWVzLCBlbmdyYXZpbmdNZXNzYWdlLCBvcmlnaW4sIHNpbGVudCwgYnV0dG9uICkge1xyXG5cclxuICAgICAgICBlbmdyYXZpbmdNZXNzYWdlID0gZW5ncmF2aW5nTWVzc2FnZSA/ICcmZW5ncmF2aW5nTWVzc2FnZT0nICsgZW5ncmF2aW5nTWVzc2FnZSA6ICcnO1xyXG5cclxuICAgICAgICBqUXVlcnkuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtvcmlnaW5dLkFERC5tZXRob2QsXHJcbiAgICAgICAgICAgIHVybDogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5DQVJUW29yaWdpbl0uQURELnVybCxcclxuICAgICAgICAgICAgZGF0YTogdGhpcy5idWlsZFNrdVN0cmluZyhza3VDb2RlcywgcXVhbnRpdGllcykgKyBlbmdyYXZpbmdNZXNzYWdlLFxyXG5cclxuICAgICAgICAgICAgLy8gREVGSU5FIEEgRk9STUFUVEVSIE9CSkVDVCBGT1IgVEhFIENBTExcclxuICAgICAgICAgICAgLy8gbXVzdCBoYXZlIGEgUmVxdWVzdCBtZXRob2QgdGhhdCBmb3JtYXQgdGhlIHNldHRpbmdzIGRhdGEgb2JqZWN0IGRpcmVjdGx5XHJcbiAgICAgICAgICAgIC8vIG11c3QgaGF2ZSBhIFJlc3BvbnNlIG1ldGhvZCB0aGF0IGZvcm1hdCB0aGUgZGF0YSwgYW5kIHJldHVybiBhIHN0cmluZ2lmaWVkIG9iamVjdFxyXG4gICAgICAgICAgICAvLyBAc2VlIGRpb3JWNy5jb25maWcuanNcclxuICAgICAgICAgICAgLy8gQHNlZWFsc28gcGNpcy5BamF4Rm9ybWF0LmpzIChodHRwOi8vd3d3LmRpb3IuY24vbWVkaWFzL3ZlcnNpb24tNi45LjE0ODg1NTg2Njk3MzkvcGNpcy9qcy9jdXN0b21fY24uanMpXHJcbiAgICAgICAgICAgIGZvcm1hdHRlcjogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5DQVJUW29yaWdpbl0uQURELmZvcm1hdHRlcixcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtvcmlnaW5dLkFERC5jb250ZW50VHlwZSxcclxuXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmVuZ3JhdmluZ0Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkaW9yVjcucG9waW5NYW5hZ2VyLnBvcGluc1tcInBvcGluLWVuZ3JhdmluZy1lcnJvclwiXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaW9yVjcucG9waW5NYW5hZ2VyLmluc3RhbmNpYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlbDogJCgnLmpzLXBvcGluLWVuZ3JhdmluZy1lcnJvcicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllcjogJ3BvcGluLWVuZ3JhdmluZy1lcnJvcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaW9yVjcucG9waW5NYW5hZ2VyLm9wZW4oJ3BvcGluLWVuZ3JhdmluZy1lcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub25BZGRlZC5jYWxsKHRoaXMsIGRhdGEsIG9yaWdpbiwgc2lsZW50LCBidXR0b24pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5vbkVycm9yLmJpbmQodGhpcylcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNrdUNvZGVzIHtzdHJpbmd9ICAgICAgICAgOiBhIGxpc3Qgb2Ygc2t1cyBzZXBhcmF0ZWQgYnkgY29tbWFzXHJcbiAgICAgKiBAcGFyYW0gcXVhbnRpdGllcyB7c3RyaW5nfSAgICAgICA6IGEgbGlzdCBvZiBxdWFudGl0aWVzIHNlcGFyYXRlZCBieSBjb21tYXNcclxuICAgICAqIEBwYXJhbSBlbmdyYXZpbmdNZXNzYWdlIHtzdHJpbmd9XHJcbiAgICAgKiBAcGFyYW0gb3JpZ2luIHtzdHJpbmd9ICAgICAgICAgICA6IFBDRCB8IENEQ1xyXG4gICAgICogQHBhcmFtIHNpbGVudCB7Ym9vbH0gICAgICAgICAgICAgOiBpZiBzZXQgdG8gdHJ1ZSwgZG9lc24ndCB0b2dnbGUgcm9sbCBvbiBhZGRpdGlvblxyXG4gICAgICogQHBhcmFtIGJ1dHRvbiB7alF1ZXJ5fSAgICAgICAgICAgOiBvcHRpb25hbCB0cmlnZ2VyIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgbGVnYWN5QWRkVG9DYXJ0KCBza3VDb2RlcywgcXVhbnRpdGllcywgZW5ncmF2aW5nTWVzc2FnZSwgb3JpZ2luLCBzaWxlbnQsIGJ1dHRvbiApIHtcclxuXHJcbiAgICAgICAgdHJ5ICB7XHJcblxyXG4gICAgICAgICAgICBlbmdyYXZpbmdNZXNzYWdlID0gZW5ncmF2aW5nTWVzc2FnZSA/ICcmZW5ncmF2aW5nTWVzc2FnZT0nICsgZW5ncmF2aW5nTWVzc2FnZSA6ICcnO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShza3VDb2RlcykpIHNrdUNvZGVzID0gc2t1Q29kZXMuc3BsaXQoJywnKTtcclxuXHJcbiAgICAgICAgICAgIGxldCB3ZWJzZXJ2aWNlID0gc2t1Q29kZXMubGVudGggPiAxPyBjb3JlLkFqYXhDb25maWcuUHJvZHVjdC5NVUxUSVBMRV9BRERfVE9fQ0FSVCA6IGNvcmUuQWpheENvbmZpZy5Qcm9kdWN0LkFERF9UT19DQVJUO1xyXG5cclxuICAgICAgICAgICAgalF1ZXJ5LmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogd2Vic2VydmljZS5tZXRob2QsXHJcbiAgICAgICAgICAgICAgICB1cmw6IHdlYnNlcnZpY2UudXJsLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5idWlsZFNrdVN0cmluZyhza3VDb2RlcywgcXVhbnRpdGllcywgdHJ1ZSkgKyBlbmdyYXZpbmdNZXNzYWdlLFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIERFRklORSBBIEZPUk1BVFRFUiBPQkpFQ1QgRk9SIFRIRSBDQUxMXHJcbiAgICAgICAgICAgICAgICAvLyBtdXN0IGhhdmUgYSBSZXF1ZXN0IG1ldGhvZCB0aGF0IGZvcm1hdCB0aGUgc2V0dGluZ3MgZGF0YSBvYmplY3QgZGlyZWN0bHlcclxuICAgICAgICAgICAgICAgIC8vIG11c3QgaGF2ZSBhIFJlc3BvbnNlIG1ldGhvZCB0aGF0IGZvcm1hdCB0aGUgZGF0YSwgYW5kIHJldHVybiBhIHN0cmluZ2lmaWVkIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgLy8gQHNlZSBkaW9yVjcuY29uZmlnLmpzXHJcbiAgICAgICAgICAgICAgICAvLyBAc2VlYWxzbyBwY2lzLkFqYXhGb3JtYXQuanMgKGh0dHA6Ly93d3cuZGlvci5jbi9tZWRpYXMvdmVyc2lvbi02LjkuMTQ4ODU1ODY2OTczOS9wY2lzL2pzL2N1c3RvbV9jbi5qcylcclxuICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogd2Vic2VydmljZS5mb3JtYXR0ZXIsXHJcblxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmVuZ3JhdmluZ0Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpb3JWNy5wb3Bpbk1hbmFnZXIuaW5zdGFuY2lhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGVsOiAkKCcuanMtcG9waW4tZW5ncmF2aW5nLWVycm9yJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGlmaWVyOiAncG9waW4tZW5ncmF2aW5nLWVycm9yJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpb3JWNy5wb3Bpbk1hbmFnZXIub3BlbigncG9waW4tZW5ncmF2aW5nLWVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9uQWRkZWQoZGF0YSwgb3JpZ2luLCBzaWxlbnQsIGJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IHRoaXMub25FcnJvci5iaW5kKHRoaXMpXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVXNpbmcgbGVnYWN5IGFkZCB0byBjYXJ0JywgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUZyb21DYXJ0KHBhcmFtcywgY2IpIHtcclxuXHJcbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1zID0gW107XHJcblxyXG4gICAgICAgIGlmIChwYXJhbXMuaWQpIHF1ZXJ5UGFyYW1zLnB1c2goICdpZFRvRGVsZXRlPScgKyBwYXJhbXMuaWQgKTtcclxuICAgICAgICBpZiAocGFyYW1zLmtleSkgcXVlcnlQYXJhbXMucHVzaCggJ2Zvcm1fa2V5PScgKyBwYXJhbXMua2V5ICk7XHJcbiAgICAgICAgaWYgKHBhcmFtcy5za3UpIHF1ZXJ5UGFyYW1zLnB1c2goICdza3U9JyArIHBhcmFtcy5za3UgKTtcclxuXHJcbiAgICAgICAgcXVlcnlQYXJhbXMgPSBxdWVyeVBhcmFtcy5qb2luKCcmJyk7XHJcblxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybCA6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtwYXJhbXMub3JpZ2luXS5ERUxFVEUudXJsLFxyXG4gICAgICAgICAgICB0eXBlOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkNBUlRbcGFyYW1zLm9yaWdpbl0uREVMRVRFLm1ldGhvZCxcclxuICAgICAgICAgICAgZGF0YTogcXVlcnlQYXJhbXMsXHJcbiAgICAgICAgICAgIC8vIERFRklORSBBIEZPUk1BVFRFUiBPQkpFQ1QgRk9SIFRIRSBDQUxMXHJcbiAgICAgICAgICAgIC8vIG11c3QgaGF2ZSBhIFJlcXVlc3QgbWV0aG9kIHRoYXQgZm9ybWF0IHRoZSBzZXR0aW5ncyBkYXRhIG9iamVjdCBkaXJlY3RseVxyXG4gICAgICAgICAgICAvLyBtdXN0IGhhdmUgYSBSZXNwb25zZSBtZXRob2QgdGhhdCBmb3JtYXQgdGhlIGRhdGEsIGFuZCByZXR1cm4gYSBzdHJpbmdpZmllZCBvYmplY3RcclxuICAgICAgICAgICAgLy8gQHNlZSBkaW9yVjcuY29uZmlnLmpzXHJcbiAgICAgICAgICAgIC8vIEBzZWVhbHNvIHBjaXMuQWpheEZvcm1hdC5qcyAoaHR0cDovL3d3dy5kaW9yLmNuL21lZGlhcy92ZXJzaW9uLTYuOS4xNDg4NTU4NjY5NzM5L3BjaXMvanMvY3VzdG9tX2NuLmpzKVxyXG4gICAgICAgICAgICB4aHJGaWVsZHM6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtwYXJhbXMub3JpZ2luXS5ERUxFVEUueGhyRmllbGRzLFxyXG4gICAgICAgICAgICBmb3JtYXR0ZXI6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQ0FSVFtwYXJhbXMub3JpZ2luXS5ERUxFVEUuZm9ybWF0dGVyLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5DQVJUW3BhcmFtcy5vcmlnaW5dLkRFTEVURS5jb250ZW50VHlwZSxcclxuXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmVycm9Db2RlIHx8IGRhdGEuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHN0b3JlXHJcbiAgICAgICAgICAgICAgICAgICAgZGlvclY3LmRhdGEuY2FydFtwYXJhbXMub3JpZ2luXSA9IGRhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvIHdlIG5lZWQgdG8gdXBkYXRlIGNvb2tpZSB2YWx1ZT9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlvclY3LmNvbmZpZy5jb29raWVzLkNBUlRbcGFyYW1zLm9yaWdpbl0uanNVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2luc3RbJ3RvdGFsJytwYXJhbXMub3JpZ2luXSA9IGRhdGEuYmFza2V0LnByb2R1Y3RzUXVhbnRpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENvb2tpZXMuc2V0KCBkaW9yVjcuY29uZmlnLmNvb2tpZXMuQ0FSVFtwYXJhbXMub3JpZ2luXS5uYW1lLCBfaW5zdFsndG90YWwnK3BhcmFtcy5vcmlnaW5dLCBfaW5zdC5jb29raWVPcHRpb25zICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5zdC50b3RhbCA9IF9pbnN0LnRvdGFsQ0RDICsgX2luc3QudG90YWxQQ0Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2luc3QuZ2V0VG90YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX2luc3QuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIGNiKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2luc3Qub25FcnJvcihkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGRhdGEgPT4gX2luc3Qub25FcnJvcihkYXRhKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIGFuIGFqYXggcmVxdWVzdCB0byBkZWxldGUgcHJvZHVjdCBhbmQgcmUgcmVuZGVycyBiYXNrZXRcclxuICAgICAqIEBwYXJhbSBlIHtFdmVudH0gdHJpZ2dlcmVkIGJ5IGJ1dHRvbiB3aXRoIGRhdGEgYXR0cmlidXRlcyBkZXBlbmRpbmcgb25cclxuICAgICAqICAgICAgICAgICAgICAgICAgb3JpZ2luIHVzaW5nIGlkVG9EZWxldGUgb3IgZm9ybV9rZXkgYW5kIHNrdVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVtb3ZlRnJvbUJ1dHRvbihlKSB7XHJcblxyXG4gICAgICAgIGxldCAkY2FydFByb2R1Y3QgPSAgJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoJy5qcy1jYXJ0LWl0ZW06Zmlyc3QnKTtcclxuXHJcbiAgICAgICAgbGV0IHBhcmFtcyA9IHt9O1xyXG4gICAgICAgIGxldCBvcmlnaW4gPSAkY2FydFByb2R1Y3QuYXR0cignZGF0YS1vcmlnaW4nKTtcclxuICAgICAgICBpZiAob3JpZ2luID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb3JpZ2luID0gJCgnYm9keScpLmF0dHIoJ2RhdGEtb3JpZ2luJyk7XHJcbiAgICAgICAgICAgIGlmIChvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQ2FydF06IG1pc3Npbmcgb3JpZ2luIG9uIGJvZHksIGFuZCBub3RoaW5nIHNldCBpbiB0cmlnZ2VyIGRhdGEtb3JpZ2luLicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoJGNhcnRQcm9kdWN0LmF0dHIoJ2RhdGEtaWQnKSkgcGFyYW1zLmlkID0gJGNhcnRQcm9kdWN0LmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICBpZiAoJGNhcnRQcm9kdWN0LmF0dHIoJ2RhdGEta2V5JykpIHBhcmFtcy5rZXkgPSAkY2FydFByb2R1Y3QuYXR0cignZGF0YS1rZXknKTtcclxuICAgICAgICBpZiAoJGNhcnRQcm9kdWN0LmF0dHIoJ2RhdGEtc2t1JykpIHBhcmFtcy5za3UgPSAkY2FydFByb2R1Y3QuYXR0cignZGF0YS1za3UnKTtcclxuICAgICAgICBpZiAob3JpZ2luKSBwYXJhbXMub3JpZ2luID0gb3JpZ2luO1xyXG5cclxuICAgICAgICBfaW5zdC5yZW1vdmVGcm9tQ2FydChwYXJhbXMsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIF9pbnN0LmRpc3BhdGNoZXIudHJpZ2dlcigncmVtb3ZlZCcsICRjYXJ0UHJvZHVjdCwgZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJlbW92ZShwYXJhbXMpIHtcclxuICAgICAgICBfaW5zdC5yZW1vdmVGcm9tQ2FydChwYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQoY2IpIHtcclxuICAgICAgICBfaW5zdC5nZXQoY2IpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhdGljIG1ldGhvZCB0byBhZGRzIHByb2R1Y3RzIHRvIGNhcnRcclxuICAgICAqIEBwYXJhbSBza3VDb2RlcyB7c3RyaW5nfSAgICAgICAgIDogYSBsaXN0IG9mIHNrdXMgc2VwYXJhdGVkIGJ5IGNvbW1hc1xyXG4gICAgICogQHBhcmFtIHF1YW50aXRpZXMge3N0cmluZ30gICAgICAgOiBhIGxpc3Qgb2YgcXVhbnRpdGllcyBzZXBhcmF0ZWQgYnkgY29tbWFzXHJcbiAgICAgKiBAcGFyYW0gb3JpZ2luIHtzdHJpbmd9ICAgICAgICAgICA6IFBDRCB8IENEQ1xyXG4gICAgICogQHBhcmFtIHNpbGVudCB7Ym9vbH0gICAgICAgICAgICAgOiBpZiBzZXQgdG8gdHJ1ZSwgZG9lc24ndCB0b2dnbGUgcm9sbCBvbiBhZGRpdGlvblxyXG4gICAgICogQHBhcmFtIGJ1dHRvbiB7alF1ZXJ5fSAgICAgICAgICAgOiBvcHRpb25hbCB0cmlnZ2VyIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSBlbmdyYXZpbmdNZXNzYWdlIHtzdHJpbmd9IDogb3B0aW9uYWwgZW5ncmF2aW5nIG1lc3NhZ2VcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFkZCggc2t1Q29kZXMsIHF1YW50aXRpZXMsIG9yaWdpbiwgc2lsZW50ID0gZmFsc2UsIGJ1dHRvbiA9IG51bGwsIGVuZ3JhdmluZ01lc3NhZ2UgPSBudWxsKSB7XHJcbiAgICAgICAgX2luc3QuYWRkVG9DYXJ0KCBza3VDb2RlcywgcXVhbnRpdGllcywgZW5ncmF2aW5nTWVzc2FnZSwgb3JpZ2luLCBzaWxlbnQsIGJ1dHRvbik7XHJcbiAgICB9XHJcblxyXG4gICAgb25BZGRlZCggZGF0YSwgb3JpZ2luLCBzaWxlbnQsIGJ1dHRvbiApIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICAvLyBzdXBwb3J0IHY3IGZvcm1hdCBvciB2NiBmb3JtYXRcclxuICAgICAgICBpZiAoZGF0YS5lcnJvckNvZGUgfHwgZGF0YS5zdGF0dXMgPT09IFwibm9rXCIgfHwgZGF0YS5zdGF0dXMgPT09ICdjdXN0b21pemF0aW9uJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoZGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvLyBkbyB3ZSBuZWVkIHRvIHVwZGF0ZSBjb29raWUgdmFsdWU/XHJcbiAgICAgICAgICAgIGlmIChvcmlnaW4gJiYgZGlvclY3LmNvbmZpZy5jb29raWVzLkNBUlRbb3JpZ2luXS5qc1VwZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yIG5vdywgeW91IGNhbid0IGNob29zZSBxdWFudGl0eSBvbiBhZGRUb0NhcnRcclxuICAgICAgICAgICAgICAgIHRoaXNbJ3RvdGFsJyArIG9yaWdpbl0gKz0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMudG90YWwgKz0gMTtcclxuICAgICAgICAgICAgICAgIENvb2tpZXMuc2V0KGRpb3JWNy5jb25maWcuY29va2llcy5DQVJUW29yaWdpbl0ubmFtZSwgdGhpc1sndG90YWwnICsgb3JpZ2luXSwgdGhpcy5jb29raWVPcHRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5tb2R1bGVzICYmIG1vZHVsZXMuQWRkVG9DYXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzcGxheSBwb3BpbiAobm90IHJvbGwpXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gLT4gdXNlIHRoZSB2NiBwb3BpbiAoaW5jbHVkZWQgaW4gYWRkVG9DYXJ0LmJ1aWxkLmpzKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIC0+IGxldCB0aGUgdjYgYWRkVG9DYXJ0IHRyYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlcy5BZGRUb0NhcnQuUG9waW5EYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVzLkFkZFRvQ2FydC4kY3VycmVudEJ1dHRvbiA9ICQoYnV0dG9uKTtcclxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVzLkFkZFRvQ2FydC5Db25maXJtKGRhdGEuYmFza2V0c2l6ZSwgJChidXR0b24pLCBvcmlnaW4sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBmb3JjZSB0cmFja2luZyBmb3IgdGhlIGFkZFRvQ2FydCBidXR0b24gKGl0IGhhcyB0aGUgY2xhc3MgLmpzLW5vLWNsaWNrLXRyYWNrIHRvIHRyYWNrIG9ubHkgb24gc3VjY2Vzc1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kaW9yVjcudHJhY2tpbmcudHJhY2suY2FsbChidXR0b24sIG51bGwsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoZXIudHJpZ2dlcignYWRkZWQnLCBzaWxlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkNvbXBsZXRlKGNiKSB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2NvbXBsZXRlJywgdGhpcy5kYXRhKTtcclxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSBjYih0aGlzLmRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBvbiggZXZlbnQsIGNiICkge1xyXG4gICAgICAgIF9pbnN0LmRpc3BhdGNoZXIub24oIGV2ZW50LCBjYiApO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIG9mZiggZXZlbnQsIGNiICkge1xyXG4gICAgICAgIF9pbnN0LmRpc3BhdGNoZXIub2ZmKCBldmVudCwgY2IgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IHRvdGFsKCkge1xyXG4gICAgICAgIHJldHVybiBfaW5zdC5nZXRUb3RhbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB0b3RhbEZvciggb3JpZ2luICkge1xyXG4gICAgICAgIHJldHVybiBfaW5zdFsndG90YWwnK29yaWdpbl07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBkYXRhKCkge1xyXG4gICAgICAgIHJldHVybiBkaW9yVjcuZGF0YS5jYXJ0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXREaXJ0eShkaXJ0eSkge1xyXG4gICAgICAgIF9pbnN0LmRpcnR5ID0gZGlydHk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qIGV4cG9zZSBzdGF0aWMgbWVtYmVycyAqL1xyXG53aW5kb3cuZGlvclY3LkNhcnRNb2R1bGUgPSBDYXJ0TW9kdWxlO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FydE1vZHVsZTsiLCJjbGFzcyBEaXNwYXRjaGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFjdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgd2l0aCBhbiBhY3Rpb25cbiAgICAgKiBzY29wZSBkZWZpbmVzIHRoZSBzY29wZSBvbiB3aWNoIGNhbGxiYWNrXG4gICAgICogd2lsbCBiZSBjYWxsZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge2NvbnRleHR9IHNjb3BlXG4gICAgICovXG4gICAgb24oYWN0aW9uLCBjYWxsYmFjaywgc2NvcGUpIHtcblxuICAgICAgICBpZiAoIXRoaXMuYWN0aW9uc1thY3Rpb25dKSB0aGlzLmFjdGlvbnNbYWN0aW9uXSA9IFt7XG4gICAgICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgICAgfV07XG4gICAgICAgIGVsc2UgdGhpcy5hY3Rpb25zW2FjdGlvbl0ucHVzaCh7XG4gICAgICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHJlZ2lzdGVyZWQgY2FsbGJhY2sgZnJvbSBhbiBhY3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBvZmYoYWN0aW9uLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aW9uc1thY3Rpb25dKSBjb25zb2xlLndhcm4oJ0Rpc3BhdGNoZXItPicrYWN0aW9uKycgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIGlmICghY2FsbGJhY2spIHRoaXMuYWN0aW9uc1thY3Rpb25dID0gW107XG5cbiAgICAgICAgbGV0IF9pbmRleCA9IHRoaXMuYWN0aW9uc1thY3Rpb25dLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICBpZiAoX2luZGV4ID4gLTEpIHRoaXMuYWN0aW9uc1thY3Rpb25dLnNwbGljZShfaW5kZXgsMSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGFuIGFjdGlvbiBhbmQgYWxsIGFzc29jaWF0ZWQgY2FsbGJhY2tzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvblxuICAgICAqIEBwYXJhbSB7YW55fSBwYXJhbXMgLSBhbnkgbnVtYmVyIG9mIG9wdGlvbm5hbCBwYXJhbXMgcGFzc2VkIHRvIHRoZSBjYWxsYmFja3NcbiAgICAgKi9cbiAgICB0cmlnZ2VyKGFjdGlvbiwgLi4ucGFyYW1zKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uc1thY3Rpb25dKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnNbYWN0aW9uXS5mb3JFYWNoKGZ1bmN0aW9uKF9hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF9hY3Rpb24uY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9hY3Rpb24uc2NvcGUpIF9hY3Rpb24uY2FsbGJhY2suY2FsbChfYWN0aW9uLnNjb3BlLCAuLi5wYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIF9hY3Rpb24uY2FsbGJhY2soLi4ucGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IERpc3BhdGNoZXI7IiwiaW1wb3J0IERpc3BhdGNoZXIgZnJvbSAnLi9EaXNwYXRjaGVyLmpzJztcclxuXHJcbi8qKlxyXG4gKiBQcml2YXRlIGluc3RhbmNlIG9mIENhcnRcclxuICovXHJcbmxldCBfaW5zdDtcclxuXHJcbmNsYXNzIFdpc2hMaXN0TW9kdWxlIHtcclxuICAgIC8vIGpzaGludCBpZ25vcmU6c3RhcnRcclxuICAgIGRpcnR5ID0gdHJ1ZTtcclxuICAgIHNlbGVjdG9yID0gJy5qcy13aXNobGlzdC10b2dnbGUsIC5qcy13aXNobGlzdC1hZGQsIC5qcy13aXNobGlzdC1kZWxldGUnO1xyXG4gICAgc2VsZWN0b3JBZGQgPSAnLmpzLXdpc2hsaXN0LWFkZCc7XHJcbiAgICBzZWxlY3RvckRlbGV0ZSA9ICcuanMtd2lzaGxpc3QtZGVsZXRlJztcclxuICAgIGRpc3BhdGNoZXIgPSBudWxsO1xyXG4gICAgdG90YWwgPSAwO1xyXG4gICAgLy8ganNoaW50IGlnbm9yZTplbmRcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBfaW5zdCA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyID0gbmV3IERpc3BhdGNoZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKCEkKCdodG1sJykuaGFzQ2xhc3MoJ25vLXdpc2hsaXN0JykpIHtcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW4gPSAkKCdib2R5JykuZGF0YSgnb3JpZ2luJykudG9VcHBlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkaW9yVjcuQWNjb3VudC5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gaGF2ZSBhbGwgd2lzaGxpc3QgaW5mb3JtYXRpb25zIChvbmx5IHVzZWQgYnkgUm9sbC9XaXNobGlzdFxyXG4gICAgICAgICAgICAgICAgLy8ganVzdCByZWFkIGNvb25raWVzIHRvIHVwZGF0ZSB0cmlnZ2Vyc1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmlnZ2VycygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3BpbkRpc2Nvbm5lY3RlZCA9IGRpb3JWNy5wb3Bpbk1hbmFnZXIuaW5zdGFuY2lhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICRlbDogJCgnLmpzLXBvcGluLXdpc2hsaXN0LWRpc2Nvbm5lY3RlZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6ICd3aXNobGlzdC1kaXNjb25uZWN0ZWQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9waW5EaXNjb25uZWN0ZWQuJGVsLmZpbmQoJy5qcy1jcmVhdGUtYWNjb3VudCcpLm9uKCdjbGljaycsICgpID0+IHsgdGhpcy5ub3RMb2dnZWRQb3N0KCdDUkVBVEUnLCB0aGlzLnBvcGluRGlzY29ubmVjdGVkLnVuaXZlcnNlKTsgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcGluRGlzY29ubmVjdGVkLiRlbC5maW5kKCcuanMtbG9naW4nKS5vbignY2xpY2snLCAoKSA9PiB7IHRoaXMubm90TG9nZ2VkUG9zdCgnTE9HSU4nLCB0aGlzLnBvcGluRGlzY29ubmVjdGVkLnVuaXZlcnNlKTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hZGRUcmlnZ2VycygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZG8gd2UgbmVlZCB0byByZWZyZXNoIHdpc2hsaXN0IGNvb2tpZXM/XHJcbiAgICAgICAgaWYgKENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5ORUVEX1JFRlJFU0gpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmdldCgpO1xyXG4gICAgICAgICAgICBDb29raWVzLnJlbW92ZShkaW9yVjcuY29uZmlnLmNvb2tpZXMuTkVFRF9SRUZSRVNIKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KCkge1xyXG4gICAgICAgIGlmKCEkKCdodG1sJykuaGFzQ2xhc3MoJ25vLXdpc2hsaXN0JykgfHwgdGhpcy5vcmlnaW4pIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBfZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIG1hcmtldDogJCgnYm9keScpLmRhdGEoJ21hcmtldCcpLFxyXG4gICAgICAgICAgICAgICAgbGltaXQ6IGRpb3JWNy5jb25maWcuV0lTSExJU1RfTElNSVRcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbdGhpcy5vcmlnaW5dLkdFVC5jb250ZW50VHlwZSAmJiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbdGhpcy5vcmlnaW5dLkdFVC5jb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKSB7XHJcbiAgICAgICAgICAgICAgICBfZGF0YSA9IEpTT04uc3RyaW5naWZ5KCBfZGF0YSApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbdGhpcy5vcmlnaW5dLkdFVC51cmwsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbdGhpcy5vcmlnaW5dLkdFVC5tZXRob2QsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULldJU0hMSVNUW3RoaXMub3JpZ2luXS5HRVQuY29udGVudFR5cGUsXHJcbiAgICAgICAgICAgICAgICB4aHJGaWVsZHM6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQUNDT1VOVC5XSVNITElTVFt0aGlzLm9yaWdpbl0uR0VULnhockZpZWxkcyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IF9kYXRhLFxyXG4gICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdGhpcy5vblN1Y2Nlc3MuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25TdWNjZXNzKCBkYXRhICkge1xyXG4gICAgICAgIGlmIChkYXRhLmVycm9yQ29kZSkgcmV0dXJuIHRoaXMub25FcnJvcihkYXRhKTtcclxuXHJcbiAgICAgICAgLy8gdXBkYXRlIHRvdGFsXHJcbiAgICAgICAgbGV0IF90b3RhbCA9IGRpb3JWNy5XaXNoTGlzdE1vZHVsZS50b3RhbDtcclxuXHJcbiAgICAgICAgLy8gZGF0YSBhcmUgdXAtdG8tZGF0ZVxyXG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcclxuICAgICAgICAvLyB1cGRhdGUgYWxsIHRyaWdnZXJzICh1cGRhdGUgc3RhciBpY29uKVxyXG4gICAgICAgIHRoaXMudXBkYXRlVHJpZ2dlcnMoKTtcclxuXHJcbiAgICAgICAgLy8gZXhwb3NlIGRhdGEsIHVzZWQgYnk6XHJcbiAgICAgICAgLy8gLSBwYWdlIEFjY291bnRcclxuICAgICAgICBpZiAoIWRpb3JWNy5kYXRhLmFjY291bnQpIGRpb3JWNy5kYXRhLmFjY291bnQgPSB7fTtcclxuXHJcbiAgICAgICAgLy8gZW1wdHkgd2lzaGxpc3RcclxuICAgICAgICBpZiAoZGF0YS5kYXRhKSB7XHJcbiAgICAgICAgICAgIGRpb3JWNy5kYXRhLmFjY291bnQud2lzaGxpc3QgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGlvclY3LmRhdGEuYWNjb3VudC53aXNobGlzdCA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29va2llID0gZGlvclY3LmNvbmZpZy5jb29raWVzLldJU0hMSVNUW3RoaXMub3JpZ2luXTtcclxuICAgICAgICBsZXQgX3N0cmluZztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBkYXRhLmRhdGEubGVuZ3RoLTEgOyBpKyspIHtcclxuICAgICAgICAgICAgX3N0cmluZyA9IGk9PT0wID8gZGF0YS5kYXRhW2ldLmlkZW50aWZpZXIgOiBfc3RyaW5nKycsJytkYXRhLmRhdGFbaV0uaWRlbnRpZmllcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ29va2llcy5zZXQoY29va2llLCBfc3RyaW5nKTtcclxuXHJcbiAgICAgICAgLy8gZGlzcGF0Y2ggY29tcGxldGUsIHVzZWQgYnk6XHJcbiAgICAgICAgLy8gLSByb2xsIFdpc2hMaXN0XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2NvbXBsZXRlJywgZGlvclY3LmRhdGEuYWNjb3VudC53aXNobGlzdCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25FcnJvciggZGF0YSApIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1tXaXNobGlzdF06IHdzIGZhaWxlZC4nKTtcclxuICAgICAgICAvLyBkaXNwYXRjaCBjb21wbGV0ZSwgdXNlZCBieTpcclxuICAgICAgICAvLyAtIHJvbGwgV2lzaExpc3RcclxuICAgICAgICB0aGlzLmRpc3BhdGNoZXIudHJpZ2dlcignZXJyb3InLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0KCkge1xyXG4gICAgICAgIF9pbnN0LmdldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYWRkcyBhIHByb2R1Y3R8dmlkZW8gdG8gd2lzaGxpc3QgYW5kIG9wZW5cclxuICAgICAqIEBwYXJhbSB1bml2ZXJzZSB7J1BDRCcgfCAnQ0RDJ31cclxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhZGQodW5pdmVyc2UsIGlkZW50aWZpZXIsIG1hcmtldCwgX3RyYWNraW5nLCBzaWxlbnQpIHtcclxuICAgICAgICBfaW5zdC5hZGRPckRlbGV0ZSgnUE9TVCcsIHVuaXZlcnNlLCBpZGVudGlmaWVyLCBtYXJrZXQsIF90cmFja2luZywgc2lsZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJlbW92ZWQgYSBwcm9kdWN0fHZpZGVvIGZyb20gd2lzaGxpc3RcclxuICAgICAqIEBwYXJhbSB1bml2ZXJzZSB7J1BDRCcgfCAnQ0RDJ31cclxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZW1vdmUodW5pdmVyc2UsIGlkZW50aWZpZXIsIG1hcmtldCxfdHJhY2tpbmcpIHtcclxuICAgICAgICBfaW5zdC5hZGRPckRlbGV0ZSgnREVMRVRFJywgdW5pdmVyc2UsIGlkZW50aWZpZXIsIG1hcmtldCwgX3RyYWNraW5nKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyaWMgZnVuY3Rpb24gdGhhdCBhZGRzIG9yIHJlbW92ZXMgcHJvZHVjdCBmcm9tIHdpc2hsaXN0XHJcbiAgICAgKiBAcGFyYW0gYWN0aW9uIHsnUE9TVCcgfCAnREVMRVRFJ31cclxuICAgICAqIEBwYXJhbSB1bml2ZXJzZSB7J1BDRCcgfCAnQ0RDJ31cclxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIHtzdHJpbmd9XHJcbiAgICAgKiBAcGFyYW0gbWFya2V0IHtzdHJpbmd9XHJcbiAgICAgKiBAcGFyYW0gc2lsZW50IHtib29sfVxyXG4gICAgICovXHJcbiAgICBhZGRPckRlbGV0ZShhY3Rpb24sIHVuaXZlcnNlLCBpZGVudGlmaWVyLCBtYXJrZXQsIF90cmFja2luZywgc2lsZW50KSB7XHJcblxyXG4gICAgICAgIGxldCBfZGF0YSA9IHtcclxuICAgICAgICAgICAgdW5pdmVyc2U6IHVuaXZlcnNlLFxyXG4gICAgICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAobWFya2V0KSB7XHJcbiAgICAgICAgICAgIF9kYXRhLm1hcmtldCA9IG1hcmtldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHdlIHVzZSB1cHBlcmNhc2UgaW4gY29uZmlnXHJcbiAgICAgICAgbGV0IHdzVW5pdmVyc2UgPSB1bml2ZXJzZS50b1VwcGVyQ2FzZSgpO1xyXG5cclxuICAgICAgICBpZiAoZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULldJU0hMSVNUW3dzVW5pdmVyc2VdW2FjdGlvbl0uY29udGVudFR5cGUgJiYgZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULldJU0hMSVNUW3dzVW5pdmVyc2VdW2FjdGlvbl0uY29udGVudFR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJykge1xyXG4gICAgICAgICAgICBfZGF0YSA9IEpTT04uc3RyaW5naWZ5KCBfZGF0YSApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1Rbd3NVbml2ZXJzZV1bYWN0aW9uXS51cmwsXHJcbiAgICAgICAgICAgIHR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQUNDT1VOVC5XSVNITElTVFt3c1VuaXZlcnNlXVthY3Rpb25dLm1ldGhvZCxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQUNDT1VOVC5XSVNITElTVFt3c1VuaXZlcnNlXVthY3Rpb25dLmNvbnRlbnRUeXBlLFxyXG4gICAgICAgICAgICB4aHJGaWVsZHM6IGRpb3JWNy5jb25maWcud2Vic2VydmljZXMuQUNDT1VOVC5XSVNITElTVFt3c1VuaXZlcnNlXVthY3Rpb25dLnhockZpZWxkcyxcclxuICAgICAgICAgICAgZGF0YTogX2RhdGEsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuZXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgZGF0YSBcImRpcnR5XCI6IGlmIHdlIHdhbnQgdG8gb3BlbiB0aGUgcm9sbCwgd2UgbmVlZCBhIGdldFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSAnUE9TVCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gd2UgbmVlZCB0byB1cGRhdGUgY29va2llIHZhbHVlP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlvclY3LmNvbmZpZy5jb29raWVzLldJU0hMSVNULmpzVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX3N0cmluZyA9IENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5XSVNITElTVFsgd3NVbml2ZXJzZSBdKSB8fCBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zdHJpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChfc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RyaW5nICs9ICcsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdHJpbmcgKz0gaWRlbnRpZmllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvb2tpZXMucmVtb3ZlKGRpb3JWNy5jb25maWcuY29va2llcy5XSVNITElTVFt3c1VuaXZlcnNlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb29raWVzLnNldChkaW9yVjcuY29uZmlnLmNvb2tpZXMuV0lTSExJU1Rbd3NVbml2ZXJzZV0sIF9zdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RyYWNraW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW9yVjcudHJhY2tpbmcudHJhY2tPYmplY3RTdHJpbmcoIF90cmFja2luZy5yZXBsYWNlKGRpb3JWNy5jb25maWcudHJhY2tpbmcud2lzaGxpc3Qubm90Q29ubmVjdGVkLCBkaW9yVjcuY29uZmlnLnRyYWNraW5nLndpc2hsaXN0LmNvbm5lY3RlZCkgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gd2UgbmVlZCB0byBvcGVuIHRoZSByb2xsP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNpbGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ2FkZGVkJywgdW5pdmVyc2UsIGlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gd2UgbmVlZCB0byB1cGRhdGUgY29va2llIHZhbHVlP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlvclY3LmNvbmZpZy5jb29raWVzLldJU0hMSVNULmpzVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX3N0cmluZyA9IENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5XSVNITElTVFsgd3NVbml2ZXJzZSBdKSB8fCBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9zdHJpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChfc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdHJpbmcgPSBfc3RyaW5nLnJlcGxhY2UoaWRlbnRpZmllciwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0cmluZyA9IF9zdHJpbmcucmVwbGFjZSgnLCwnLCAnLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlyc3QgaXRlbSBjYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3N0cmluZy5jaGFyQXQoMCkgPT09ICcsJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdHJpbmcgPSBfc3RyaW5nLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxhc3QgaXRlbSBjYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX2xlbmd0aCA9IF9zdHJpbmcubGVuZ3RoLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3N0cmluZy5jaGFyQXQoX2xlbmd0aCkgPT09ICcsJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdHJpbmcgPSBfc3RyaW5nLnN1YnN0cmluZygwLCBfbGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJRTExOiBkZWZhdWx0IG9wdGlvbnMgYXJlIG5vdCBwYXNzZWQuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvb2tpZXMuc2V0KGRpb3JWNy5jb25maWcuY29va2llcy5XSVNITElTVFsgd3NVbml2ZXJzZSBdLCBfc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaGVyLnRyaWdnZXIoJ3JlbW92ZWQnLCB1bml2ZXJzZSwgaWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyaWdnZXJzKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZXJyb3JDb2RlID09PSBcIlVTRVJfTk9UX0xPR0dFRFwiICkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcGluRGlzY29ubmVjdGVkLnBvc3REYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBza3U6IGlkZW50aWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZG9jdW1lbnQubG9jYXRpb24uaHJlZixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pdmVyc2U6IHVuaXZlcnNlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdExvZ2dlZFBvc3QoJ0xPR0lOJywgdW5pdmVyc2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBsaXN0ZW5lcnMgdG8ganMtd2lzaGxpc3QtYWRkIHRyaWdnZXJzXHJcbiAgICAgKiBPbmx5IHdvcmtzIGlmIHByb2R1Y3QgaXNuJ3QgYWxyZWFkeSBpbiB3aXNobGlzdFxyXG4gICAgICovXHJcbiAgICBhZGRUcmlnZ2VycygpIHtcclxuXHJcbiAgICAgICAgbGV0IF9wb3BpbiA9IGRpb3JWNy5wb3Bpbk1hbmFnZXIuaW5zdGFuY2lhdGUoe1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyOiAnZGVsZXRlLXdpc2hsaXN0LXByb2R1Y3QnLFxyXG4gICAgICAgICAgICAkZWw6ICQoJy5qcy1wb3Bpbi1kZWxldGUtd2lzaGxpc3QtcHJvZHVjdCcpLFxyXG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnRzOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGRlbGV0aW9uIHJlbGllcyBvbiBpbi13aXNobGlzdCBjbGFzcywgb25jZSBwb3BpbiBpcyBjbG9zZWQgYWRkIGl0IGJhY2sgdG8gYnV0dG9uXHJcbiAgICAgICAgX3BvcGluLm9uKCdjbG9zZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBfcG9waW4uJGVsLmZpbmQoJy5qcy13aXNobGlzdC1kZWxldGUnKS50b2dnbGVDbGFzcygnaW4td2lzaGxpc3QnLCB0cnVlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fb25DbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25DbGljay5jYWxsKHRoaXMsIGUsIF9wb3Bpbik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJCgnYm9keScpLm9uKCdjbGljaycsIHRoaXMuc2VsZWN0b3IsIHRoaXMuX29uQ2xpY2spXHJcbiAgICAgICAgICAgICAgICAgLm9uKCdjbGljaycsIHRoaXMuc2VsZWN0b3JBZGQsIHRoaXMuX29uQ2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2xpY2soZSwgX3BvcGluKSB7XHJcblxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGxldCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICAgICAgICBsZXQgX3VuaXZlcnNlID0gJHRoaXMuYXR0cignZGF0YS11bml2ZXJzZScpO1xyXG4gICAgICAgIGxldCBfaWQgPSAkdGhpcy5hdHRyKCdkYXRhLWlkZW50aWZpZXInKTsgLy8gdXBkYXRlZCBieSB2NiBvbiBGUCB0aHJvdWdoICdhdHRyJyBtZXRob2RcclxuXHJcbiAgICAgICAgbGV0IF9tYXJrZXQgPSAkdGhpcy5hdHRyKCdkYXRhLW1hcmtldCcpIHx8ICQoJ2JvZHknKS5kYXRhKCdtYXJrZXQnKTtcclxuICAgICAgICBsZXQgX3RyYWNraW5nID0gJHRoaXMuYXR0cignZGF0YS13aXNobGlzdC10cmFja2luZycpO1xyXG5cclxuICAgICAgICBpZiAoIWRpb3JWNy5BY2NvdW50LmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBvcGluRGlzY29ubmVjdGVkLnVuaXZlcnNlID0gX3VuaXZlcnNlO1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5EaXNjb25uZWN0ZWRQb3BpbihlLCBfdW5pdmVyc2UsIF9pZCwgZG9jdW1lbnQubG9jYXRpb24uaHJlZik7XHJcbiAgICAgICAgICAgIGlmIChfdHJhY2tpbmcpIGRpb3JWNy50cmFja2luZy50cmFja09iamVjdFN0cmluZyhfdHJhY2tpbmcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgX2NvbmZpcm0gPSAkdGhpcy5kYXRhKCdjb25maXJtJyk7XHJcblxyXG4gICAgICAgIGlmICghX3VuaXZlcnNlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW1dpc2hsaXN0XSBtaXNzaW5nIGRhdGEtdW5pdmVyc2Ugb24gdHJpZ2dlciAnKyR0aGlzWzBdKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIV9pZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tXaXNobGlzdF0gbWlzc2luZyBkYXRhLWlkZW50aWZpZXIgb24gdHJpZ2dlciAnKyR0aGlzWzBdKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKF9jb25maXJtKSB7XHJcbiAgICAgICAgICAgIF9wb3Bpbi5vcGVuKCBlICk7XHJcbiAgICAgICAgICAgIGxldCAkYnV0dG9uID0gX3BvcGluLiRlbC5maW5kKCcuanMtd2lzaGxpc3QtZGVsZXRlJyk7XHJcbiAgICAgICAgICAgICRidXR0b24uYXR0cignZGF0YS11bml2ZXJzZScsIF91bml2ZXJzZSk7XHJcbiAgICAgICAgICAgICRidXR0b24uYXR0cignZGF0YS1pZGVudGlmaWVyJywgX2lkKTtcclxuICAgICAgICAgICAgJGJ1dHRvbi5hdHRyKCdkYXRhLW1hcmtldCcsIF9tYXJrZXQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGlmIG5vdCBpbiB3aXNobGlzdCA9PiBBZGRcclxuICAgICAgICAgICAgaWYgKCAhJHRoaXMuaGFzQ2xhc3MoJ2luLXdpc2hsaXN0JykgKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISR0aGlzLmhhc0NsYXNzKHRoaXMuc2VsZWN0b3JEZWxldGUucmVwbGFjZSgnLicsJycpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpb3JWNy5XaXNoTGlzdE1vZHVsZS5hZGQoIF91bml2ZXJzZSwgX2lkLCBfbWFya2V0ICwgX3RyYWNraW5nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghJHRoaXMuaGFzQ2xhc3ModGhpcy5zZWxlY3RvckFkZC5yZXBsYWNlKCcuJywnJykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlvclY3Lldpc2hMaXN0TW9kdWxlLnJlbW92ZSggX3VuaXZlcnNlLCBfaWQsIF9tYXJrZXQsIF90cmFja2luZyApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW5EaXNjb25uZWN0ZWRQb3BpbihlLCB1bml2ZXJzZSwgaWQsIGhyZWYpIHtcclxuICAgICAgICB0aGlzLnBvcGluRGlzY29ubmVjdGVkLm9wZW4oZSk7XHJcbiAgICAgICAgdGhpcy5wb3BpbkRpc2Nvbm5lY3RlZC5wb3N0RGF0YSA9IHtcclxuICAgICAgICAgICAgc2t1OiBpZCxcclxuICAgICAgICAgICAgdXJsOiBocmVmLFxyXG4gICAgICAgICAgICB1bml2ZXJzZTogdW5pdmVyc2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIG5vdExvZ2dlZFBvc3QoIGFjdGlvbiwgdW5pdmVyc2UgKSB7XHJcbiAgICAgICAgdW5pdmVyc2UgPSB1bml2ZXJzZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIC8vIG1ha2UgYSBwb3N0IHdpdGggY3VycmVudCB1cmwgYW5kIHNrdVxyXG4gICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XHJcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoXCJtZXRob2RcIiwgZGlvclY3LmNvbmZpZy53ZWJzZXJ2aWNlcy5BQ0NPVU5ULldJU0hMSVNUW3VuaXZlcnNlXS5OT1RfTE9HR0VEW2FjdGlvbl0ubWV0aG9kKTtcclxuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZShcImFjdGlvblwiLCBkaW9yVjcuY29uZmlnLndlYnNlcnZpY2VzLkFDQ09VTlQuV0lTSExJU1RbdW5pdmVyc2VdLk5PVF9MT0dHRURbYWN0aW9uXS51cmwpO1xyXG5cclxuICAgICAgICBmb3IobGV0IGtleSBpbiB0aGlzLnBvcGluRGlzY29ubmVjdGVkLnBvc3REYXRhICkge1xyXG4gICAgICAgICAgICBpZih0aGlzLnBvcGluRGlzY29ubmVjdGVkLnBvc3REYXRhIC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGlkZGVuRmllbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgICAgICAgICBoaWRkZW5GaWVsZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgaGlkZGVuRmllbGQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAgaGlkZGVuRmllbGQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgdGhpcy5wb3BpbkRpc2Nvbm5lY3RlZC5wb3N0RGF0YSBba2V5XSk7XHJcbiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGhpZGRlbkZpZWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTtcclxuICAgICAgICBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyB0cmlnZ2VycywgZGVwZW5kaW5nIG9uIHRoZWlyIHByZXNlbmNlIGluIHdpc2hsaXN0LCB0b2dnbGVzIGluLXdpc2hsaXN0IGNsYXNzXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVRyaWdnZXJzKCkge1xyXG5cclxuICAgICAgICAkKCB0aGlzLnNlbGVjdG9yICkuZWFjaCggKGksIGVsKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCAkdGhpcyA9ICQoZWwpO1xyXG4gICAgICAgICAgICBpZiAoICR0aGlzLmF0dHIoJ2RhdGEtdW5pdmVyc2UnKSAmJiAkdGhpcy5hdHRyKCdkYXRhLWlkZW50aWZpZXInKSApIHtcclxuICAgICAgICAgICAgICAgICR0aGlzLnRvZ2dsZUNsYXNzKCAnaW4td2lzaGxpc3QnLCB0aGlzLmlzSW5XaXNobGlzdCgkdGhpcy5hdHRyKCdkYXRhLXVuaXZlcnNlJyksICR0aGlzLmF0dHIoJ2RhdGEtaWRlbnRpZmllcicpKSApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2lzaGxpc3QgcHJvZHVjdHMgYXJlIHN0b3JlZCBpbiBzZXBhcmF0ZSBjb29raWVzIGZvciBQQ0QgYW5kIENEQ1xyXG4gICAgICogRWFjaCBjb29raWUgY29udGFpbnMgYSBsaXN0IG9mIGlkZW50aWZpZXJzIHNlcGFyYXRlZCBieSBjb21tYXNcclxuICAgICAqIEBwYXJhbSB1bml2ZXJzZSAoJ2NkYycgfCAncGNkJylcclxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgaXNJbldpc2hsaXN0KCB1bml2ZXJzZSwgaWRlbnRpZmllciApIHtcclxuICAgICAgICB1bml2ZXJzZSA9IHVuaXZlcnNlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgbGV0IF93aXNobGlzdFByb2R1Y3RzID0gQ29va2llcy5nZXQoZGlvclY3LmNvbmZpZy5jb29raWVzLldJU0hMSVNUW3VuaXZlcnNlXSk7XHJcblxyXG4gICAgICAgIGlmIChfd2lzaGxpc3RQcm9kdWN0cykge1xyXG4gICAgICAgICAgICBfd2lzaGxpc3RQcm9kdWN0cyA9IF93aXNobGlzdFByb2R1Y3RzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50b3RhbFByb2R1Y3RzID0gX3dpc2hsaXN0UHJvZHVjdHMubGVuZ3RoO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50b3RhbFByb2R1Y3RzID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudG90YWxQcm9kdWN0czsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3dpc2hsaXN0UHJvZHVjdHNbaV0gPT09IGlkZW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG9uKCBldmVudCwgY2IgKSB7XHJcbiAgICAgICAgX2luc3QuZGlzcGF0Y2hlci5vbiggZXZlbnQsIGNiICk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgb2ZmKCBldmVudCwgY2IgKSB7XHJcbiAgICAgICAgX2luc3QuZGlzcGF0Y2hlci5vZmYoIGV2ZW50LCBjYiApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgdG90YWwoKSB7XHJcbiAgICAgICAgaWYgKF9pbnN0LmRpcnR5KSB7XHJcbiAgICAgICAgICAgIF9pbnN0LnRvdGFsID0gMDtcclxuICAgICAgICAgICAgaWYgKENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5XSVNITElTVC5DREMpKSBfaW5zdC50b3RhbCArPSBDb29raWVzLmdldChkaW9yVjcuY29uZmlnLmNvb2tpZXMuV0lTSExJU1QuQ0RDKS5zcGxpdCgnLCcpLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKENvb2tpZXMuZ2V0KGRpb3JWNy5jb25maWcuY29va2llcy5XSVNITElTVC5QQ0QpKSBfaW5zdC50b3RhbCArPSBDb29raWVzLmdldChkaW9yVjcuY29uZmlnLmNvb2tpZXMuV0lTSExJU1QuUENEKS5zcGxpdCgnLCcpLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9pbnN0LnRvdGFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIHVzZWQgb24gVjY6IEZQICovXHJcbiAgICBzdGF0aWMgcmVmcmVzaFRyaWdnZXJzKCkge1xyXG4gICAgICAgIF9pbnN0LnVwZGF0ZVRyaWdnZXJzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qIGV4cG9zZSBzdGF0aWMgbWVtYmVycyAqL1xyXG53aW5kb3cuZGlvclY3Lldpc2hMaXN0TW9kdWxlID0gV2lzaExpc3RNb2R1bGU7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBXaXNoTGlzdE1vZHVsZTtcclxuIiwibGV0IGVxdWFsSGVpZ2h0ID0ge1xuXG4gICAgZGVmYXVsdENvbnRhaW5lcjogJyNjb250YWluZXInLFxuICAgIGRlZmF1bHRTZWxlY3RvcjogJy5qcy1lcXVhbC1oZWlnaHQnLFxuICAgIGRlZmF1bHRNYWluU2VsZWN0b3I6ICcuanMtZXF1YWwtaGVpZ2h0LW1haW4nLFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdG8gc2V0IGVxdWFsIGhlaWdodCBvbiBhbGwgaXRlbXMgb2YgYSBjb250YWluZXJcbiAgICAgKiBAcGFyYW0gaXRlbUNvbnRhaW5lciB7c3RyaW5nfVxuICAgICAqIEBwYXJhbSBpdGVtU2VsZWN0b3Ige3N0cmluZ31cbiAgICAgKiBAcGFyYW0gbWFpblNlbGVjdG9yIHtzdHJpbmd9IFNwZWNpZnkgdGhlIHJlZmVyZW5jZSBlbGVtZW50OiBhbGwgb3RoZXJzIGl0ZW1zIHdpbGwgYmUgc2l6ZWQgdG8gbWF0Y2ggdGhpcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHJlbW92ZVBhZGRpbmcge2Jvb2xlYW59XG4gICAgICovXG4gICAgZXF1YWxpemUoIGl0ZW1Db250YWluZXIsIGl0ZW1TZWxlY3RvciwgbWFpblNlbGVjdG9yLCByZW1vdmVQYWRkaW5nIClcbiAgICB7XG4gICAgICAgIGxldCBjb250YWluZXIgPSBpdGVtQ29udGFpbmVyID8gaXRlbUNvbnRhaW5lciA6IHRoaXMuZGVmYXVsdENvbnRhaW5lcjtcbiAgICAgICAgbGV0IHNlbGVjdG9yID0gaXRlbVNlbGVjdG9yID8gaXRlbVNlbGVjdG9yIDogdGhpcy5kZWZhdWx0U2VsZWN0b3I7XG4gICAgICAgIGxldCBtYWluID0gbWFpblNlbGVjdG9yID8gbWFpblNlbGVjdG9yIDogdGhpcy5kZWZhdWx0TWFpblNlbGVjdG9yO1xuXG4gICAgICAgICQoY29udGFpbmVyKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCAkaXRlbXMgPSAkKHRoaXMpLmZpbmQoc2VsZWN0b3IpO1xuICAgICAgICAgICAgbGV0IG1heEggPSAkaXRlbXMuZmluZChtYWluKS5sZW5ndGggPiAwID8gJGl0ZW1zLmZpbmQobWFpbikub3V0ZXJIZWlnaHQoKSA6IDA7XG5cbiAgICAgICAgICAgIGlmICgkaXRlbXMuZmluZChtYWluKS5sZW5ndGggPD0gMCkgeyAvLyBpZiBubyBtYWluIGdldCBtYXhcbiAgICAgICAgICAgICAgICAkaXRlbXMuZWFjaCggZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIG9sZCBzdHlsZVxuICAgICAgICAgICAgICAgICAgICBsZXQgXyRpdGVtID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9sZFN0eWxlID0gXyRpdGVtLmF0dHIoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgIF8kaXRlbS5hdHRyKCdzdHlsZScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1IID0gcGFyc2VGbG9hdChfJGl0ZW0ub3V0ZXJIZWlnaHQoKSkgLSBwYXJzZUZsb2F0KF8kaXRlbS5jc3MoJ3BhZGRpbmctdG9wJykpIC0gcGFyc2VGbG9hdChfJGl0ZW0uY3NzKCdwYWRkaW5nLWJvdHRvbScpKTtcbiAgICAgICAgICAgICAgICAgICAgbWF4SCA9ICggaXRlbUggPiBtYXhIICkgPyBpdGVtSCA6IG1heEg7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IHN0eWxlXG4gICAgICAgICAgICAgICAgICAgIF8kaXRlbS5hdHRyKCdzdHlsZScsIG9sZFN0eWxlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFyZW1vdmVQYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgJGl0ZW1zLmhlaWdodCggbWF4SCApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkaXRlbXMuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmhlaWdodCggbWF4SCAtIHBhcnNlRmxvYXQoJHRoaXMuY3NzKCdwYWRkaW5nLXRvcCcpKSAtIHBhcnNlRmxvYXQoJHRoaXMuY3NzKCdwYWRkaW5nLWJvdHRvbScpKSApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBlcXVhbEhlaWdodDtcbiJdfQ==

(function() {
    if (Cookies.get(diorV7.config.cookies.USER_CONNECTED.name) == undefined) {
        Cookies.set(diorV7.config.cookies.USER_CONNECTED.name, "", {
            path: diorV7.config.cookies.path,
            domain: diorV7.config.cookies.domain,
            expires: diorV7.config.cookies.USER_CONNECTED.expires
        });
    }
})();
